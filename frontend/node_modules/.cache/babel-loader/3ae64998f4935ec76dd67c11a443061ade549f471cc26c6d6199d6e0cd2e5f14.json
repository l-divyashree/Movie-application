{"ast":null,"code":"import _objectSpread from\"C:/Users/P12C4F3/OneDrive - Dayforce HCM Inc/Desktop/Movie-1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import notificationService from'../../services/notificationService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationsCenter=()=>{const{user}=useAuth();const navigate=useNavigate();const[notifications,setNotifications]=useState([]);const[settings,setSettings]=useState({});const[activeTab,setActiveTab]=useState('all');const[loading,setLoading]=useState(true);const[filterType,setFilterType]=useState('all');const[searchTerm,setSearchTerm]=useState('');const[showSettingsModal,setShowSettingsModal]=useState(false);useEffect(()=>{loadNotifications();loadSettings();},[]);const loadNotifications=async()=>{try{setLoading(true);const notificationsData=await notificationService.getUserNotifications();setNotifications(notificationsData.notifications||[]);}catch(error){console.error('Error loading notifications:',error);// Set empty array as fallback\nsetNotifications([]);}finally{setLoading(false);}};const loadSettings=async()=>{try{const settingsData=await notificationService.getNotificationSettings();setSettings(settingsData.settings||{});}catch(error){console.error('Error loading settings:',error);// Set default settings as fallback\nsetSettings({push_notifications:true,email_notifications:true,sms_notifications:false,booking_confirmations:true,payment_alerts:true,show_reminders:true,movie_releases:true,special_offers:true,loyalty_updates:false,system_updates:true,marketing_emails:false,reminder_timing:'2_hours',quiet_hours_enabled:true,quiet_hours_start:'22:00',quiet_hours_end:'08:00'});}};const getFilteredNotifications=()=>{let filtered=notifications;// Filter by tab\nif(activeTab==='unread'){filtered=filtered.filter(n=>!n.isRead);}else if(activeTab==='important'){filtered=filtered.filter(n=>n.priority==='high');}// Filter by type\nif(filterType!=='all'){filtered=filtered.filter(n=>n.type===filterType);}// Filter by search term\nif(searchTerm){filtered=filtered.filter(n=>n.title.toLowerCase().includes(searchTerm.toLowerCase())||n.message.toLowerCase().includes(searchTerm.toLowerCase()));}return filtered.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp));};const markAsRead=async notificationId=>{try{await notificationService.markAsRead(notificationId);setNotifications(prev=>prev.map(n=>n.id===notificationId?_objectSpread(_objectSpread({},n),{},{isRead:true}):n));}catch(error){console.error('Error marking notification as read:',error);}};const markAllAsRead=async()=>{try{await notificationService.markAllAsRead();setNotifications(prev=>prev.map(n=>_objectSpread(_objectSpread({},n),{},{isRead:true})));}catch(error){console.error('Error marking all notifications as read:',error);}};const deleteNotification=async notificationId=>{try{await notificationService.deleteNotification(notificationId);setNotifications(prev=>prev.filter(n=>n.id!==notificationId));}catch(error){console.error('Error deleting notification:',error);}};const clearAllNotifications=async()=>{if(window.confirm('Are you sure you want to clear all notifications?')){try{await notificationService.clearAllNotifications();setNotifications([]);}catch(error){console.error('Error clearing notifications:',error);}}};const updateSettings=async newSettings=>{try{await notificationService.updateNotificationSettings(newSettings);setSettings(newSettings);setShowSettingsModal(false);alert('Notification settings updated successfully!');}catch(error){console.error('Error updating settings:',error);alert('Failed to update settings. Please try again.');}};const getNotificationIcon=type=>{const icons={booking_confirmation:'🎫',payment_success:'💳',show_reminder:'⏰',movie_release:'🎬',cancellation_refund:'💰',loyalty_reward:'⭐',special_offer:'🎁',system_maintenance:'🔧',security_alert:'🔒'};return icons[type]||'📢';};const getPriorityColor=priority=>{switch(priority){case'high':return'border-l-red-500 bg-red-50';case'medium':return'border-l-yellow-500 bg-yellow-50';case'low':return'border-l-blue-500 bg-blue-50';default:return'border-l-gray-500 bg-gray-50';}};const getTypeLabel=type=>{const labels={booking_confirmation:'Booking',payment_success:'Payment',show_reminder:'Reminder',movie_release:'New Release',cancellation_refund:'Refund',loyalty_reward:'Loyalty',special_offer:'Offer',system_maintenance:'System',security_alert:'Security'};return labels[type]||'General';};const filteredNotifications=getFilteredNotifications();const unreadCount=notifications.filter(n=>!n.isRead).length;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Notifications\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"Stay updated with your bookings and latest offers\",unreadCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded-full\",children:[unreadCount,\" unread\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(true),className:\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors\",children:\"\\u2699\\uFE0F Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/user/dashboard'),className:\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors\",children:\"\\u2190 Back to Dashboard\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-4 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,disabled:unreadCount===0,className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Mark All Read\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllNotifications,className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search notifications...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"booking_confirmation\",children:\"Booking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"payment_success\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"show_reminder\",children:\"Reminders\"}),/*#__PURE__*/_jsx(\"option\",{value:\"movie_release\",children:\"New Releases\"}),/*#__PURE__*/_jsx(\"option\",{value:\"special_offer\",children:\"Offers\"}),/*#__PURE__*/_jsx(\"option\",{value:\"loyalty_reward\",children:\"Loyalty\"}),/*#__PURE__*/_jsx(\"option\",{value:\"system_maintenance\",children:\"System\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8 px-6\",children:[{id:'all',label:'All Notifications',count:notifications.length},{id:'unread',label:'Unread',count:unreadCount},{id:'important',label:'Important',count:notifications.filter(n=>n.priority==='high').length}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 \".concat(activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(\"span\",{children:tab.label}),tab.count>0&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(activeTab===tab.id?'bg-blue-100 text-blue-600':'bg-gray-100 text-gray-600'),children:tab.count})]},tab.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:filteredNotifications.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredNotifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 rounded-lg p-4 hover:shadow-md transition-shadow \".concat(getPriorityColor(notification.priority),\" \").concat(!notification.isRead?'border-r-4 border-r-blue-500':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl flex-shrink-0 mt-1\",children:getNotificationIcon(notification.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(!notification.isRead?'text-gray-900':'text-gray-700'),children:notification.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-sm text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-100 px-2 py-1 rounded-full text-xs\",children:getTypeLabel(notification.type)}),/*#__PURE__*/_jsx(\"span\",{children:new Date(notification.timestamp).toLocaleDateString()}),/*#__PURE__*/_jsx(\"span\",{children:new Date(notification.timestamp).toLocaleTimeString()}),/*#__PURE__*/_jsxs(\"span\",{className:\"capitalize\",children:[notification.priority,\" priority\"]})]})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-3\",children:notification.message}),notification.type==='booking_confirmation'&&notification.bookingReference&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-2 mb-3 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Booking Reference:\"}),\" \",notification.bookingReference]}),notification.type==='payment_success'&&notification.amount&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-2 mb-3 text-sm text-green-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Amount Paid:\"}),\" $\",notification.amount.toFixed(2)]}),notification.type==='special_offer'&&notification.offerCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-2 mb-3 text-sm text-purple-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Offer Code:\"}),\" \",notification.offerCode,\" \\u2022\",/*#__PURE__*/_jsx(\"strong\",{children:\" Discount:\"}),\" \",notification.discount,\" \\u2022\",/*#__PURE__*/_jsx(\"strong\",{children:\" Expires:\"}),\" \",new Date(notification.expiryDate).toLocaleDateString()]}),notification.type==='loyalty_reward'&&notification.pointsEarned&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-2 mb-3 text-sm text-yellow-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Points Earned:\"}),\" \",notification.pointsEarned,\" \\u2022\",/*#__PURE__*/_jsx(\"strong\",{children:\" Total Points:\"}),\" \",notification.totalPoints]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[notification.actionUrl&&notification.actionText&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(notification.actionUrl),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors\",children:notification.actionText}),!notification.isRead&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsRead(notification.id),className:\"text-blue-600 hover:text-blue-700 text-sm font-medium\",children:\"Mark as Read\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteNotification(notification.id),className:\"text-red-600 hover:text-red-700 text-sm font-medium\",children:\"Delete\"})]})]})]})})},notification.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl mb-4\",children:\"\\uD83D\\uDD14\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-lg mb-2\",children:\"No notifications found\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm\",children:[activeTab==='unread'&&'All notifications have been read',activeTab==='important'&&'No important notifications',activeTab==='all'&&'You\\'re all caught up!']})]})})]}),showSettingsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-8 w-full max-w-2xl mx-4 max-h-96 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Notification Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Delivery Methods\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.push_notifications,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{push_notifications:e.target.checked})),className:\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Push Notifications\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.email_notifications,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{email_notifications:e.target.checked})),className:\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Email Notifications\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.sms_notifications,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{sms_notifications:e.target.checked})),className:\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"SMS Notifications\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Notification Types\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[{key:'booking_confirmations',label:'Booking Confirmations'},{key:'payment_alerts',label:'Payment Alerts'},{key:'show_reminders',label:'Show Reminders'},{key:'movie_releases',label:'New Movie Releases'},{key:'special_offers',label:'Special Offers'},{key:'loyalty_updates',label:'Loyalty Updates'},{key:'system_updates',label:'System Updates'},{key:'marketing_emails',label:'Marketing Emails'}].map(item=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings[item.key],onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{[item.key]:e.target.checked})),className:\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 text-sm\",children:item.label})]},item.key))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Show Reminder Timing\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.reminder_timing,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{reminder_timing:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"30_mins\",children:\"30 minutes before\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1_hour\",children:\"1 hour before\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2_hours\",children:\"2 hours before\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4_hours\",children:\"4 hours before\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Quiet Hours\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.quiet_hours_enabled,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{quiet_hours_enabled:e.target.checked})),className:\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Enable quiet hours (no notifications)\"})]}),settings.quiet_hours_enabled&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:settings.quiet_hours_start,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{quiet_hours_start:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:settings.quiet_hours_end,onChange:e=>setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{quiet_hours_end:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateSettings(settings),className:\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-lg font-medium transition-colors\",children:\"Save Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-6 rounded-lg font-medium transition-colors\",children:\"Cancel\"})]})]})})]})});};export default NotificationsCenter;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","notificationService","jsx","_jsx","jsxs","_jsxs","NotificationsCenter","user","navigate","notifications","setNotifications","settings","setSettings","activeTab","setActiveTab","loading","setLoading","filterType","setFilterType","searchTerm","setSearchTerm","showSettingsModal","setShowSettingsModal","loadNotifications","loadSettings","notificationsData","getUserNotifications","error","console","settingsData","getNotificationSettings","push_notifications","email_notifications","sms_notifications","booking_confirmations","payment_alerts","show_reminders","movie_releases","special_offers","loyalty_updates","system_updates","marketing_emails","reminder_timing","quiet_hours_enabled","quiet_hours_start","quiet_hours_end","getFilteredNotifications","filtered","filter","n","isRead","priority","type","title","toLowerCase","includes","message","sort","a","b","Date","timestamp","markAsRead","notificationId","prev","map","id","_objectSpread","markAllAsRead","deleteNotification","clearAllNotifications","window","confirm","updateSettings","newSettings","updateNotificationSettings","alert","getNotificationIcon","icons","booking_confirmation","payment_success","show_reminder","movie_release","cancellation_refund","loyalty_reward","special_offer","system_maintenance","security_alert","getPriorityColor","getTypeLabel","labels","filteredNotifications","unreadCount","length","className","children","onClick","disabled","placeholder","value","onChange","e","target","label","count","tab","concat","notification","toLocaleDateString","toLocaleTimeString","bookingReference","amount","toFixed","offerCode","discount","expiryDate","pointsEarned","totalPoints","actionUrl","actionText","checked","key","item"],"sources":["C:/Users/P12C4F3/OneDrive - Dayforce HCM Inc/Desktop/Movie-1/frontend/src/pages/user/NotificationsCenter.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport notificationService from '../../services/notificationService';\r\n\r\nconst NotificationsCenter = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [settings, setSettings] = useState({});\r\n  const [activeTab, setActiveTab] = useState('all');\r\n  const [loading, setLoading] = useState(true);\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadNotifications();\r\n    loadSettings();\r\n  }, []);\r\n\r\n  const loadNotifications = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const notificationsData = await notificationService.getUserNotifications();\r\n      setNotifications(notificationsData.notifications || []);\r\n\r\n    } catch (error) {\r\n      console.error('Error loading notifications:', error);\r\n      // Set empty array as fallback\r\n      setNotifications([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadSettings = async () => {\r\n    try {\r\n      const settingsData = await notificationService.getNotificationSettings();\r\n      setSettings(settingsData.settings || {});\r\n    } catch (error) {\r\n      console.error('Error loading settings:', error);\r\n      // Set default settings as fallback\r\n      setSettings({\r\n        push_notifications: true,\r\n        email_notifications: true,\r\n        sms_notifications: false,\r\n        booking_confirmations: true,\r\n        payment_alerts: true,\r\n        show_reminders: true,\r\n        movie_releases: true,\r\n        special_offers: true,\r\n        loyalty_updates: false,\r\n        system_updates: true,\r\n        marketing_emails: false,\r\n        reminder_timing: '2_hours',\r\n        quiet_hours_enabled: true,\r\n        quiet_hours_start: '22:00',\r\n        quiet_hours_end: '08:00'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getFilteredNotifications = () => {\r\n    let filtered = notifications;\r\n\r\n    // Filter by tab\r\n    if (activeTab === 'unread') {\r\n      filtered = filtered.filter(n => !n.isRead);\r\n    } else if (activeTab === 'important') {\r\n      filtered = filtered.filter(n => n.priority === 'high');\r\n    }\r\n\r\n    // Filter by type\r\n    if (filterType !== 'all') {\r\n      filtered = filtered.filter(n => n.type === filterType);\r\n    }\r\n\r\n    // Filter by search term\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(n => \r\n        n.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        n.message.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    return filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n  };\r\n\r\n  const markAsRead = async (notificationId) => {\r\n    try {\r\n      await notificationService.markAsRead(notificationId);\r\n      setNotifications(prev => prev.map(n => \r\n        n.id === notificationId ? { ...n, isRead: true } : n\r\n      ));\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  };\r\n\r\n  const markAllAsRead = async () => {\r\n    try {\r\n      await notificationService.markAllAsRead();\r\n      setNotifications(prev => prev.map(n => ({ ...n, isRead: true })));\r\n    } catch (error) {\r\n      console.error('Error marking all notifications as read:', error);\r\n    }\r\n  };\r\n\r\n  const deleteNotification = async (notificationId) => {\r\n    try {\r\n      await notificationService.deleteNotification(notificationId);\r\n      setNotifications(prev => prev.filter(n => n.id !== notificationId));\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  };\r\n\r\n  const clearAllNotifications = async () => {\r\n    if (window.confirm('Are you sure you want to clear all notifications?')) {\r\n      try {\r\n        await notificationService.clearAllNotifications();\r\n        setNotifications([]);\r\n      } catch (error) {\r\n        console.error('Error clearing notifications:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateSettings = async (newSettings) => {\r\n    try {\r\n      await notificationService.updateNotificationSettings(newSettings);\r\n      setSettings(newSettings);\r\n      setShowSettingsModal(false);\r\n      alert('Notification settings updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating settings:', error);\r\n      alert('Failed to update settings. Please try again.');\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    const icons = {\r\n      booking_confirmation: '🎫',\r\n      payment_success: '💳',\r\n      show_reminder: '⏰',\r\n      movie_release: '🎬',\r\n      cancellation_refund: '💰',\r\n      loyalty_reward: '⭐',\r\n      special_offer: '🎁',\r\n      system_maintenance: '🔧',\r\n      security_alert: '🔒'\r\n    };\r\n    return icons[type] || '📢';\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'high': return 'border-l-red-500 bg-red-50';\r\n      case 'medium': return 'border-l-yellow-500 bg-yellow-50';\r\n      case 'low': return 'border-l-blue-500 bg-blue-50';\r\n      default: return 'border-l-gray-500 bg-gray-50';\r\n    }\r\n  };\r\n\r\n  const getTypeLabel = (type) => {\r\n    const labels = {\r\n      booking_confirmation: 'Booking',\r\n      payment_success: 'Payment',\r\n      show_reminder: 'Reminder',\r\n      movie_release: 'New Release',\r\n      cancellation_refund: 'Refund',\r\n      loyalty_reward: 'Loyalty',\r\n      special_offer: 'Offer',\r\n      system_maintenance: 'System',\r\n      security_alert: 'Security'\r\n    };\r\n    return labels[type] || 'General';\r\n  };\r\n\r\n  const filteredNotifications = getFilteredNotifications();\r\n  const unreadCount = notifications.filter(n => !n.isRead).length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Notifications</h1>\r\n              <p className=\"text-gray-600 mt-2\">\r\n                Stay updated with your bookings and latest offers\r\n                {unreadCount > 0 && (\r\n                  <span className=\"ml-2 bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded-full\">\r\n                    {unreadCount} unread\r\n                  </span>\r\n                )}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={() => setShowSettingsModal(true)}\r\n                className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors\"\r\n              >\r\n                ⚙️ Settings\r\n              </button>\r\n              <button\r\n                onClick={() => navigate('/user/dashboard')}\r\n                className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors\"\r\n              >\r\n                ← Back to Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-4 mb-8\">\r\n          <div className=\"flex flex-wrap items-center justify-between gap-4\">\r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={markAllAsRead}\r\n                disabled={unreadCount === 0}\r\n                className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\r\n              >\r\n                Mark All Read\r\n              </button>\r\n              <button\r\n                onClick={clearAllNotifications}\r\n                className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\r\n              >\r\n                Clear All\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search notifications...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <select\r\n                value={filterType}\r\n                onChange={(e) => setFilterType(e.target.value)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"all\">All Types</option>\r\n                <option value=\"booking_confirmation\">Booking</option>\r\n                <option value=\"payment_success\">Payment</option>\r\n                <option value=\"show_reminder\">Reminders</option>\r\n                <option value=\"movie_release\">New Releases</option>\r\n                <option value=\"special_offer\">Offers</option>\r\n                <option value=\"loyalty_reward\">Loyalty</option>\r\n                <option value=\"system_maintenance\">System</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"bg-white rounded-lg shadow-sm mb-8\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"flex space-x-8 px-6\">\r\n              {[\r\n                { id: 'all', label: 'All Notifications', count: notifications.length },\r\n                { id: 'unread', label: 'Unread', count: unreadCount },\r\n                { id: 'important', label: 'Important', count: notifications.filter(n => n.priority === 'high').length }\r\n              ].map(tab => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ${\r\n                    activeTab === tab.id\r\n                      ? 'border-blue-500 text-blue-600'\r\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                  }`}\r\n                >\r\n                  <span>{tab.label}</span>\r\n                  {tab.count > 0 && (\r\n                    <span className={`px-2 py-1 rounded-full text-xs ${\r\n                      activeTab === tab.id ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600'\r\n                    }`}>\r\n                      {tab.count}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Notifications List */}\r\n          <div className=\"p-6\">\r\n            {filteredNotifications.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {filteredNotifications.map((notification) => (\r\n                  <div\r\n                    key={notification.id}\r\n                    className={`border-l-4 rounded-lg p-4 hover:shadow-md transition-shadow ${getPriorityColor(notification.priority)} ${\r\n                      !notification.isRead ? 'border-r-4 border-r-blue-500' : ''\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex items-start space-x-4 flex-1\">\r\n                        <div className=\"text-2xl flex-shrink-0 mt-1\">\r\n                          {getNotificationIcon(notification.type)}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-start justify-between mb-2\">\r\n                            <div>\r\n                              <h3 className={`font-semibold ${!notification.isRead ? 'text-gray-900' : 'text-gray-700'}`}>\r\n                                {notification.title}\r\n                              </h3>\r\n                              <div className=\"flex items-center space-x-3 text-sm text-gray-500 mt-1\">\r\n                                <span className=\"bg-gray-100 px-2 py-1 rounded-full text-xs\">\r\n                                  {getTypeLabel(notification.type)}\r\n                                </span>\r\n                                <span>{new Date(notification.timestamp).toLocaleDateString()}</span>\r\n                                <span>{new Date(notification.timestamp).toLocaleTimeString()}</span>\r\n                                <span className=\"capitalize\">{notification.priority} priority</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <p className=\"text-gray-600 mb-3\">{notification.message}</p>\r\n                          \r\n                          {/* Additional Info Based on Type */}\r\n                          {notification.type === 'booking_confirmation' && notification.bookingReference && (\r\n                            <div className=\"bg-white rounded p-2 mb-3 text-sm text-gray-600\">\r\n                              <strong>Booking Reference:</strong> {notification.bookingReference}\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {notification.type === 'payment_success' && notification.amount && (\r\n                            <div className=\"bg-white rounded p-2 mb-3 text-sm text-green-700\">\r\n                              <strong>Amount Paid:</strong> ${notification.amount.toFixed(2)}\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {notification.type === 'special_offer' && notification.offerCode && (\r\n                            <div className=\"bg-white rounded p-2 mb-3 text-sm text-purple-700\">\r\n                              <strong>Offer Code:</strong> {notification.offerCode} • \r\n                              <strong> Discount:</strong> {notification.discount} • \r\n                              <strong> Expires:</strong> {new Date(notification.expiryDate).toLocaleDateString()}\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {notification.type === 'loyalty_reward' && notification.pointsEarned && (\r\n                            <div className=\"bg-white rounded p-2 mb-3 text-sm text-yellow-700\">\r\n                              <strong>Points Earned:</strong> {notification.pointsEarned} • \r\n                              <strong> Total Points:</strong> {notification.totalPoints}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            {notification.actionUrl && notification.actionText && (\r\n                              <button\r\n                                onClick={() => navigate(notification.actionUrl)}\r\n                                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors\"\r\n                              >\r\n                                {notification.actionText}\r\n                              </button>\r\n                            )}\r\n                            {!notification.isRead && (\r\n                              <button\r\n                                onClick={() => markAsRead(notification.id)}\r\n                                className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n                              >\r\n                                Mark as Read\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              onClick={() => deleteNotification(notification.id)}\r\n                              className=\"text-red-600 hover:text-red-700 text-sm font-medium\"\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"text-gray-400 text-6xl mb-4\">🔔</div>\r\n                <p className=\"text-gray-500 text-lg mb-2\">No notifications found</p>\r\n                <p className=\"text-gray-400 text-sm\">\r\n                  {activeTab === 'unread' && 'All notifications have been read'}\r\n                  {activeTab === 'important' && 'No important notifications'}\r\n                  {activeTab === 'all' && 'You\\'re all caught up!'}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Settings Modal */}\r\n        {showSettingsModal && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg p-8 w-full max-w-2xl mx-4 max-h-96 overflow-y-auto\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Notification Settings</h3>\r\n                <button\r\n                  onClick={() => setShowSettingsModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* Delivery Methods */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Delivery Methods</h4>\r\n                  <div className=\"space-y-3\">\r\n                    <label className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={settings.push_notifications}\r\n                        onChange={(e) => setSettings(prev => ({...prev, push_notifications: e.target.checked}))}\r\n                        className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                      />\r\n                      <span className=\"text-gray-700\">Push Notifications</span>\r\n                    </label>\r\n                    <label className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={settings.email_notifications}\r\n                        onChange={(e) => setSettings(prev => ({...prev, email_notifications: e.target.checked}))}\r\n                        className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                      />\r\n                      <span className=\"text-gray-700\">Email Notifications</span>\r\n                    </label>\r\n                    <label className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={settings.sms_notifications}\r\n                        onChange={(e) => setSettings(prev => ({...prev, sms_notifications: e.target.checked}))}\r\n                        className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                      />\r\n                      <span className=\"text-gray-700\">SMS Notifications</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Notification Types */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Notification Types</h4>\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    {[\r\n                      {key: 'booking_confirmations', label: 'Booking Confirmations'},\r\n                      {key: 'payment_alerts', label: 'Payment Alerts'},\r\n                      {key: 'show_reminders', label: 'Show Reminders'},\r\n                      {key: 'movie_releases', label: 'New Movie Releases'},\r\n                      {key: 'special_offers', label: 'Special Offers'},\r\n                      {key: 'loyalty_updates', label: 'Loyalty Updates'},\r\n                      {key: 'system_updates', label: 'System Updates'},\r\n                      {key: 'marketing_emails', label: 'Marketing Emails'}\r\n                    ].map(item => (\r\n                      <label key={item.key} className=\"flex items-center\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings[item.key]}\r\n                          onChange={(e) => setSettings(prev => ({...prev, [item.key]: e.target.checked}))}\r\n                          className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                        />\r\n                        <span className=\"text-gray-700 text-sm\">{item.label}</span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Reminder Timing */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Show Reminder Timing</h4>\r\n                  <select\r\n                    value={settings.reminder_timing}\r\n                    onChange={(e) => setSettings(prev => ({...prev, reminder_timing: e.target.value}))}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"30_mins\">30 minutes before</option>\r\n                    <option value=\"1_hour\">1 hour before</option>\r\n                    <option value=\"2_hours\">2 hours before</option>\r\n                    <option value=\"4_hours\">4 hours before</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Quiet Hours */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Quiet Hours</h4>\r\n                  <label className=\"flex items-center mb-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={settings.quiet_hours_enabled}\r\n                      onChange={(e) => setSettings(prev => ({...prev, quiet_hours_enabled: e.target.checked}))}\r\n                      className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                    />\r\n                    <span className=\"text-gray-700\">Enable quiet hours (no notifications)</span>\r\n                  </label>\r\n                  {settings.quiet_hours_enabled && (\r\n                    <div className=\"flex space-x-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-gray-600 mb-1\">From</label>\r\n                        <input\r\n                          type=\"time\"\r\n                          value={settings.quiet_hours_start}\r\n                          onChange={(e) => setSettings(prev => ({...prev, quiet_hours_start: e.target.value}))}\r\n                          className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-gray-600 mb-1\">To</label>\r\n                        <input\r\n                          type=\"time\"\r\n                          value={settings.quiet_hours_end}\r\n                          onChange={(e) => setSettings(prev => ({...prev, quiet_hours_end: e.target.value}))}\r\n                          className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-3 mt-8\">\r\n                <button\r\n                  onClick={() => updateSettings(settings)}\r\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-lg font-medium transition-colors\"\r\n                >\r\n                  Save Settings\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowSettingsModal(false)}\r\n                  className=\"bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-6 rounded-lg font-medium transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationsCenter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}