{"ast":null,"code":"import _objectSpread from\"C:/Users/P12C4F3/OneDrive - Dayforce HCM Inc/Desktop/Movie-1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useMemo}from'react';import{useParams,useNavigate}from'react-router-dom';import seedAdminShows from'../utils/seedAdminShows';import{ClockIcon,CurrencyRupeeIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookMovie=()=>{const{movieId}=useParams();const navigate=useNavigate();const[movie,setMovie]=useState(null);const[shows,setShows]=useState([]);const[selectedDate,setSelectedDate]=useState(()=>{// Initialize with today's date in YYYY-MM-DD format\nconst today=new Date();return today.toISOString().split('T')[0];});const[selectedShow,setSelectedShow]=useState(null);const[selectedSeats,setSelectedSeats]=useState([]);const[bookingStep,setBookingStep]=useState(1);// 1: Date/Show, 2: Seats, 3: Payment\n// Mock movie data\nconst mockMovies=useMemo(()=>({1:{id:1,title:'Dune: Part Two',genre:'Sci-Fi, Adventure',language:'English',rating:8.5,duration:166,poster:'https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg',price:350},2:{id:2,title:'Godzilla x Kong: The New Empire',genre:'Action, Adventure',language:'English',rating:6.4,duration:115,poster:'https://image.tmdb.org/t/p/w500/gmGK92wI1dwI5F1kmrvCRzKRGAJ.jpg',price:300},3:{id:3,title:'Deadpool & Wolverine',genre:'Action, Comedy',language:'English',rating:7.8,duration:128,poster:'https://image.tmdb.org/t/p/w500/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg',price:400}}),[]);// Seed admin shows for demonstration if not present\nuseEffect(()=>{const existingShows=localStorage.getItem('adminShows');if(!existingShows){seedAdminShows();}},[]);// Get shows from admin-managed data or fallback to defaults\nconst getShowsForMovie=useCallback((movieId,date)=>{// Validate date parameter\nif(!date){console.warn('Invalid date provided to getShowsForMovie:',date);return[];}try{// Try to get admin-managed shows from localStorage\nconst adminShows=JSON.parse(localStorage.getItem('adminShows')||'{}');const dateObj=new Date(date);// Check if date is valid\nif(isNaN(dateObj.getTime())){console.warn('Invalid date provided to getShowsForMovie:',date);return[];}const dateKey=dateObj.toISOString().split('T')[0];if(adminShows[movieId]&&adminShows[movieId][dateKey]){return adminShows[movieId][dateKey];}// Fallback to default shows with improved structure\nreturn[{id:1,time:'10:00 AM',venue:'CinemaFlix IMAX',screen:'Screen 1 - IMAX',availableSeats:120,totalSeats:150,price:350,format:'IMAX 2D'},{id:2,time:'01:00 PM',venue:'CinemaFlix IMAX',screen:'Screen 1 - IMAX',availableSeats:85,totalSeats:150,price:350,format:'IMAX 2D'},{id:3,time:'04:30 PM',venue:'CinemaFlix Premium',screen:'Screen 2 - Premium',availableSeats:95,totalSeats:120,price:450,format:'Dolby Atmos'},{id:4,time:'07:30 PM',venue:'CinemaFlix IMAX',screen:'Screen 1 - IMAX',availableSeats:45,totalSeats:150,price:400,format:'IMAX 3D'},{id:5,time:'10:30 PM',venue:'CinemaFlix Premium',screen:'Screen 3 - Premium',availableSeats:78,totalSeats:120,price:450,format:'Dolby Atmos'}];}catch(error){console.error('Error in getShowsForMovie:',error);return[];}},[]);useEffect(()=>{const selectedMovie=mockMovies[movieId];if(selectedMovie){setMovie(selectedMovie);// Load shows for this movie and current date\nconst movieShows=getShowsForMovie(movieId,selectedDate);setShows(movieShows);}},[movieId,selectedDate,getShowsForMovie,mockMovies]);// Update shows when date changes\nuseEffect(()=>{if(movieId&&selectedDate){const movieShows=getShowsForMovie(movieId,selectedDate);setShows(movieShows);}},[selectedDate,movieId,getShowsForMovie]);const generateDates=()=>{const dates=[];const today=new Date();for(let i=0;i<7;i++){const date=new Date(today);date.setDate(today.getDate()+i);dates.push(date);}return dates;};const formatDate=date=>{const options={weekday:'short',month:'short',day:'numeric'};return date.toLocaleDateString('en-US',options);};const toggleSeat=seatId=>{if(selectedSeats.includes(seatId)){setSelectedSeats(selectedSeats.filter(id=>id!==seatId));}else if(selectedSeats.length<6){// Max 6 seats\nsetSelectedSeats([...selectedSeats,seatId]);}};const calculateTotal=()=>{if(!selectedShow||selectedSeats.length===0)return 0;return selectedSeats.length*selectedShow.price;};const handleBooking=async()=>{if(selectedSeats.length===0)return;try{// Simulate booking API call\nconst bookingData={movieId:movie.id,movieTitle:movie.title,showId:selectedShow.id,showTime:selectedShow.time,venue:selectedShow.venue,date:selectedDate,seats:selectedSeats,totalAmount:calculateTotal(),bookingDate:new Date().toISOString()};// Save to localStorage (simulate backend)\nconst existingBookings=JSON.parse(localStorage.getItem('userBookings')||'[]');const newBooking=_objectSpread(_objectSpread({id:Date.now()},bookingData),{},{status:'confirmed'});existingBookings.push(newBooking);localStorage.setItem('userBookings',JSON.stringify(existingBookings));// Update dashboard stats\nconst currentStats=JSON.parse(localStorage.getItem('userDashboardStats')||'{\"totalBookings\": 0, \"upcomingShows\": 0, \"totalSpent\": 0}');currentStats.totalBookings=existingBookings.length;currentStats.upcomingShows+=1;currentStats.totalSpent+=calculateTotal();localStorage.setItem('userDashboardStats',JSON.stringify(currentStats));console.log('BookMovie - Updated stats:',currentStats);console.log('BookMovie - Total bookings count:',existingBookings.length);// Trigger storage events for real-time updates\nwindow.dispatchEvent(new StorageEvent('storage',{key:'userBookings',newValue:JSON.stringify(existingBookings)}));window.dispatchEvent(new StorageEvent('storage',{key:'userDashboardStats',newValue:JSON.stringify(currentStats)}));console.log('BookMovie - Storage events dispatched');// For same-tab updates, also trigger a custom event\nwindow.dispatchEvent(new CustomEvent('bookingUpdate',{detail:{bookings:existingBookings,stats:currentStats}}));// Show success and redirect\nalert('Booking confirmed successfully!');navigate('/user/dashboard');}catch(error){alert('Booking failed. Please try again.');console.error('Booking error:',error);}};if(!movie){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:\"Loading movie details...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/movies'),className:\"text-gray-400 hover:text-white transition-colors\",children:\"\\u2190 Back to Movies\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 \".concat(bookingStep>=1?'text-red-500':'text-gray-500'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center \".concat(bookingStep>=1?'bg-red-500 text-white':'bg-gray-600'),children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Select Show\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-px bg-gray-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 \".concat(bookingStep>=2?'text-red-500':'text-gray-500'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center \".concat(bookingStep>=2?'bg-red-500 text-white':'bg-gray-600'),children:\"2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Select Seats\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-px bg-gray-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 \".concat(bookingStep>=3?'text-red-500':'text-gray-500'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center \".concat(bookingStep>=3?'bg-red-500 text-white':'bg-gray-600'),children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Payment\"})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6 sticky top-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:movie.title,className:\"w-full h-80 object-cover rounded-lg mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:movie.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-4\",children:movie.genre}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[movie.duration,\" minutes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 mr-2\",children:\"\\uD83C\\uDF10\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.language})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 mr-2\",children:\"\\u2B50\"}),/*#__PURE__*/_jsxs(\"span\",{children:[movie.rating,\"/10 IMDb\"]})]})]}),selectedShow&&selectedSeats.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-3\",children:\"Booking Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Show Time:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:selectedShow.time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Venue:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:selectedShow.venue})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Seats:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:selectedSeats.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Tickets:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[selectedSeats.length,\" \\xD7 \\u20B9\",selectedShow.price]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-600 pt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500\",children:[\"\\u20B9\",calculateTotal()]})]})})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[bookingStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Select Date & Show\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Choose Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-2\",children:generateDates().map((date,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedDate(date.toISOString().split('T')[0]),className:\"p-3 rounded-lg text-center transition-colors \".concat(selectedDate===date.toISOString().split('T')[0]?'bg-red-500 text-white':'bg-gray-700 text-gray-300 hover:bg-gray-600'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:formatDate(date)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:date.getDate()})]},index))})]}),selectedDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Available Shows\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:shows.map(show=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedShow(show);setBookingStep(2);},className:\"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-semibold text-white\",children:show.time}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500 font-semibold\",children:[\"\\u20B9\",show.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:show.venue}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-400\",children:[show.availableSeats,\" seats available\"]})]})]},show.id))})]})]}),bookingStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Select Seats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setBookingStep(1),className:\"text-gray-400 hover:text-white\",children:\"\\u2190 Change Show\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-600 h-2 rounded-full mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-400 text-sm\",children:\"SCREEN\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-8 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-600 rounded mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-500 rounded mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Selected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-800 rounded mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Booked\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:['A','B','C','D','E','F','G','H','I','J'].map(row=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 text-gray-400 text-sm font-semibold\",children:row}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:Array.from({length:12},(_,i)=>{const seatId=\"\".concat(row).concat(i+1);const isBooked=Math.random()<0.3;const isSelected=selectedSeats.includes(seatId);return/*#__PURE__*/_jsx(\"button\",{onClick:()=>!isBooked&&toggleSeat(seatId),disabled:isBooked,className:\"w-8 h-8 rounded text-xs font-semibold transition-colors \".concat(isBooked?'bg-red-800 text-red-200 cursor-not-allowed':isSelected?'bg-red-500 text-white':'bg-gray-600 text-gray-300 hover:bg-gray-500'),children:i+1},seatId);})})]},row))}),selectedSeats.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setBookingStep(3),className:\"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors\",children:[\"Continue to Payment (\\u20B9\",calculateTotal(),\")\"]})})]}),bookingStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setBookingStep(2),className:\"text-gray-400 hover:text-white\",children:\"\\u2190 Change Seats\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Payment Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400\",children:[\"Movie Tickets (\",selectedSeats.length,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[\"\\u20B9\",calculateTotal()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Convenience Fee\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[\"\\u20B9\",Math.round(calculateTotal()*0.02)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-600 pt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500\",children:[\"\\u20B9\",calculateTotal()+Math.round(calculateTotal()*0.02)]})]})})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleBooking,className:\"w-full bg-red-500 hover:bg-red-600 text-white py-4 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center\",children:[/*#__PURE__*/_jsx(CurrencyRupeeIcon,{className:\"h-6 w-6 mr-2\"}),\"Pay \\u20B9\",calculateTotal()+Math.round(calculateTotal()*0.02)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm text-center mt-4\",children:\"By proceeding, you agree to our Terms & Conditions\"})]})]})]})]})})]});};export default BookMovie;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useParams","useNavigate","seedAdminShows","ClockIcon","CurrencyRupeeIcon","jsx","_jsx","jsxs","_jsxs","BookMovie","movieId","navigate","movie","setMovie","shows","setShows","selectedDate","setSelectedDate","today","Date","toISOString","split","selectedShow","setSelectedShow","selectedSeats","setSelectedSeats","bookingStep","setBookingStep","mockMovies","id","title","genre","language","rating","duration","poster","price","existingShows","localStorage","getItem","getShowsForMovie","date","console","warn","adminShows","JSON","parse","dateObj","isNaN","getTime","dateKey","time","venue","screen","availableSeats","totalSeats","format","error","selectedMovie","movieShows","generateDates","dates","i","setDate","getDate","push","formatDate","options","weekday","month","day","toLocaleDateString","toggleSeat","seatId","includes","filter","length","calculateTotal","handleBooking","bookingData","movieTitle","showId","showTime","seats","totalAmount","bookingDate","existingBookings","newBooking","_objectSpread","now","status","setItem","stringify","currentStats","totalBookings","upcomingShows","totalSpent","log","window","dispatchEvent","StorageEvent","key","newValue","CustomEvent","detail","bookings","stats","alert","className","children","onClick","concat","src","alt","join","map","index","show","row","Array","from","_","isBooked","Math","random","isSelected","disabled","round"],"sources":["C:/Users/P12C4F3/OneDrive - Dayforce HCM Inc/Desktop/Movie-1/frontend/src/pages/BookMovie.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport seedAdminShows from '../utils/seedAdminShows';\r\nimport { \r\n  ClockIcon, \r\n  CurrencyRupeeIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst BookMovie = () => {\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [movie, setMovie] = useState(null);\r\n  const [shows, setShows] = useState([]);\r\n  const [selectedDate, setSelectedDate] = useState(() => {\r\n    // Initialize with today's date in YYYY-MM-DD format\r\n    const today = new Date();\r\n    return today.toISOString().split('T')[0];\r\n  });\r\n  const [selectedShow, setSelectedShow] = useState(null);\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [bookingStep, setBookingStep] = useState(1); // 1: Date/Show, 2: Seats, 3: Payment\r\n\r\n  // Mock movie data\r\n  const mockMovies = useMemo(() => ({\r\n    1: {\r\n      id: 1,\r\n      title: 'Dune: Part Two',\r\n      genre: 'Sci-Fi, Adventure',\r\n      language: 'English',\r\n      rating: 8.5,\r\n      duration: 166,\r\n      poster: 'https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg',\r\n      price: 350\r\n    },\r\n    2: {\r\n      id: 2,\r\n      title: 'Godzilla x Kong: The New Empire',\r\n      genre: 'Action, Adventure',\r\n      language: 'English',\r\n      rating: 6.4,\r\n      duration: 115,\r\n      poster: 'https://image.tmdb.org/t/p/w500/gmGK92wI1dwI5F1kmrvCRzKRGAJ.jpg',\r\n      price: 300\r\n    },\r\n    3: {\r\n      id: 3,\r\n      title: 'Deadpool & Wolverine',\r\n      genre: 'Action, Comedy',\r\n      language: 'English',\r\n      rating: 7.8,\r\n      duration: 128,\r\n      poster: 'https://image.tmdb.org/t/p/w500/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg',\r\n      price: 400\r\n    }\r\n  }), []);\r\n\r\n  // Seed admin shows for demonstration if not present\r\n  useEffect(() => {\r\n    const existingShows = localStorage.getItem('adminShows');\r\n    if (!existingShows) {\r\n      seedAdminShows();\r\n    }\r\n  }, []);\r\n\r\n  // Get shows from admin-managed data or fallback to defaults\r\n  const getShowsForMovie = useCallback((movieId, date) => {\r\n    // Validate date parameter\r\n    if (!date) {\r\n      console.warn('Invalid date provided to getShowsForMovie:', date);\r\n      return [];\r\n    }\r\n    \r\n    try {\r\n      // Try to get admin-managed shows from localStorage\r\n      const adminShows = JSON.parse(localStorage.getItem('adminShows') || '{}');\r\n      const dateObj = new Date(date);\r\n      \r\n      // Check if date is valid\r\n      if (isNaN(dateObj.getTime())) {\r\n        console.warn('Invalid date provided to getShowsForMovie:', date);\r\n        return [];\r\n      }\r\n      \r\n      const dateKey = dateObj.toISOString().split('T')[0];\r\n    \r\n    if (adminShows[movieId] && adminShows[movieId][dateKey]) {\r\n      return adminShows[movieId][dateKey];\r\n    }\r\n    \r\n    // Fallback to default shows with improved structure\r\n    return [\r\n      { \r\n        id: 1, \r\n        time: '10:00 AM', \r\n        venue: 'CinemaFlix IMAX', \r\n        screen: 'Screen 1 - IMAX',\r\n        availableSeats: 120, \r\n        totalSeats: 150,\r\n        price: 350,\r\n        format: 'IMAX 2D'\r\n      },\r\n      { \r\n        id: 2, \r\n        time: '01:00 PM', \r\n        venue: 'CinemaFlix IMAX', \r\n        screen: 'Screen 1 - IMAX',\r\n        availableSeats: 85, \r\n        totalSeats: 150,\r\n        price: 350,\r\n        format: 'IMAX 2D'\r\n      },\r\n      { \r\n        id: 3, \r\n        time: '04:30 PM', \r\n        venue: 'CinemaFlix Premium', \r\n        screen: 'Screen 2 - Premium',\r\n        availableSeats: 95, \r\n        totalSeats: 120,\r\n        price: 450,\r\n        format: 'Dolby Atmos'\r\n      },\r\n      { \r\n        id: 4, \r\n        time: '07:30 PM', \r\n        venue: 'CinemaFlix IMAX', \r\n        screen: 'Screen 1 - IMAX',\r\n        availableSeats: 45, \r\n        totalSeats: 150,\r\n        price: 400,\r\n        format: 'IMAX 3D'\r\n      },\r\n      { \r\n        id: 5, \r\n        time: '10:30 PM', \r\n        venue: 'CinemaFlix Premium', \r\n        screen: 'Screen 3 - Premium',\r\n        availableSeats: 78, \r\n        totalSeats: 120,\r\n        price: 450,\r\n        format: 'Dolby Atmos'\r\n      }\r\n    ];\r\n    } catch (error) {\r\n      console.error('Error in getShowsForMovie:', error);\r\n      return [];\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const selectedMovie = mockMovies[movieId];\r\n    if (selectedMovie) {\r\n      setMovie(selectedMovie);\r\n      // Load shows for this movie and current date\r\n      const movieShows = getShowsForMovie(movieId, selectedDate);\r\n      setShows(movieShows);\r\n    }\r\n  }, [movieId, selectedDate, getShowsForMovie, mockMovies]);\r\n\r\n  // Update shows when date changes\r\n  useEffect(() => {\r\n    if (movieId && selectedDate) {\r\n      const movieShows = getShowsForMovie(movieId, selectedDate);\r\n      setShows(movieShows);\r\n    }\r\n  }, [selectedDate, movieId, getShowsForMovie]);\r\n\r\n  const generateDates = () => {\r\n    const dates = [];\r\n    const today = new Date();\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() + i);\r\n      dates.push(date);\r\n    }\r\n    return dates;\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    const options = { weekday: 'short', month: 'short', day: 'numeric' };\r\n    return date.toLocaleDateString('en-US', options);\r\n  };\r\n\r\n  const toggleSeat = (seatId) => {\r\n    if (selectedSeats.includes(seatId)) {\r\n      setSelectedSeats(selectedSeats.filter(id => id !== seatId));\r\n    } else if (selectedSeats.length < 6) { // Max 6 seats\r\n      setSelectedSeats([...selectedSeats, seatId]);\r\n    }\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    if (!selectedShow || selectedSeats.length === 0) return 0;\r\n    return selectedSeats.length * selectedShow.price;\r\n  };\r\n\r\n  const handleBooking = async () => {\r\n    if (selectedSeats.length === 0) return;\r\n    \r\n    try {\r\n      // Simulate booking API call\r\n      const bookingData = {\r\n        movieId: movie.id,\r\n        movieTitle: movie.title,\r\n        showId: selectedShow.id,\r\n        showTime: selectedShow.time,\r\n        venue: selectedShow.venue,\r\n        date: selectedDate,\r\n        seats: selectedSeats,\r\n        totalAmount: calculateTotal(),\r\n        bookingDate: new Date().toISOString()\r\n      };\r\n\r\n      // Save to localStorage (simulate backend)\r\n      const existingBookings = JSON.parse(localStorage.getItem('userBookings') || '[]');\r\n      const newBooking = {\r\n        id: Date.now(),\r\n        ...bookingData,\r\n        status: 'confirmed'\r\n      };\r\n      existingBookings.push(newBooking);\r\n      localStorage.setItem('userBookings', JSON.stringify(existingBookings));\r\n\r\n      // Update dashboard stats\r\n      const currentStats = JSON.parse(localStorage.getItem('userDashboardStats') || '{\"totalBookings\": 0, \"upcomingShows\": 0, \"totalSpent\": 0}');\r\n      currentStats.totalBookings = existingBookings.length;\r\n      currentStats.upcomingShows += 1;\r\n      currentStats.totalSpent += calculateTotal();\r\n      localStorage.setItem('userDashboardStats', JSON.stringify(currentStats));\r\n\r\n      console.log('BookMovie - Updated stats:', currentStats);\r\n      console.log('BookMovie - Total bookings count:', existingBookings.length);\r\n\r\n      // Trigger storage events for real-time updates\r\n      window.dispatchEvent(new StorageEvent('storage', {\r\n        key: 'userBookings',\r\n        newValue: JSON.stringify(existingBookings)\r\n      }));\r\n      \r\n      window.dispatchEvent(new StorageEvent('storage', {\r\n        key: 'userDashboardStats', \r\n        newValue: JSON.stringify(currentStats)\r\n      }));\r\n\r\n      console.log('BookMovie - Storage events dispatched');\r\n\r\n      // For same-tab updates, also trigger a custom event\r\n      window.dispatchEvent(new CustomEvent('bookingUpdate', {\r\n        detail: { bookings: existingBookings, stats: currentStats }\r\n      }));\r\n\r\n      // Show success and redirect\r\n      alert('Booking confirmed successfully!');\r\n      navigate('/user/dashboard');\r\n      \r\n    } catch (error) {\r\n      alert('Booking failed. Please try again.');\r\n      console.error('Booking error:', error);\r\n    }\r\n  };\r\n\r\n  if (!movie) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4\"></div>\r\n          <p className=\"text-white\">Loading movie details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900\">\r\n      {/* Header */}\r\n      <div className=\"bg-gray-800 py-6\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <button\r\n              onClick={() => navigate('/movies')}\r\n              className=\"text-gray-400 hover:text-white transition-colors\"\r\n            >\r\n              ‚Üê Back to Movies\r\n            </button>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className={`flex items-center space-x-2 ${bookingStep >= 1 ? 'text-red-500' : 'text-gray-500'}`}>\r\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${bookingStep >= 1 ? 'bg-red-500 text-white' : 'bg-gray-600'}`}>1</div>\r\n                <span>Select Show</span>\r\n              </div>\r\n              <div className=\"w-8 h-px bg-gray-600\"></div>\r\n              <div className={`flex items-center space-x-2 ${bookingStep >= 2 ? 'text-red-500' : 'text-gray-500'}`}>\r\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${bookingStep >= 2 ? 'bg-red-500 text-white' : 'bg-gray-600'}`}>2</div>\r\n                <span>Select Seats</span>\r\n              </div>\r\n              <div className=\"w-8 h-px bg-gray-600\"></div>\r\n              <div className={`flex items-center space-x-2 ${bookingStep >= 3 ? 'text-red-500' : 'text-gray-500'}`}>\r\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${bookingStep >= 3 ? 'bg-red-500 text-white' : 'bg-gray-600'}`}>3</div>\r\n                <span>Payment</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Movie Details Sidebar */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-gray-800 rounded-xl p-6 sticky top-6\">\r\n              <img\r\n                src={movie.poster}\r\n                alt={movie.title}\r\n                className=\"w-full h-80 object-cover rounded-lg mb-4\"\r\n              />\r\n              <h2 className=\"text-2xl font-bold text-white mb-2\">{movie.title}</h2>\r\n              <p className=\"text-gray-400 mb-4\">{movie.genre}</p>\r\n              \r\n              <div className=\"space-y-3 text-sm\">\r\n                <div className=\"flex items-center text-gray-300\">\r\n                  <ClockIcon className=\"h-4 w-4 mr-2\" />\r\n                  <span>{movie.duration} minutes</span>\r\n                </div>\r\n                <div className=\"flex items-center text-gray-300\">\r\n                  <span className=\"w-4 h-4 mr-2\">üåê</span>\r\n                  <span>{movie.language}</span>\r\n                </div>\r\n                <div className=\"flex items-center text-gray-300\">\r\n                  <span className=\"w-4 h-4 mr-2\">‚≠ê</span>\r\n                  <span>{movie.rating}/10 IMDb</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Booking Summary */}\r\n              {selectedShow && selectedSeats.length > 0 && (\r\n                <div className=\"mt-6 p-4 bg-gray-700 rounded-lg\">\r\n                  <h3 className=\"text-lg font-semibold text-white mb-3\">Booking Summary</h3>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Show Time:</span>\r\n                      <span className=\"text-white\">{selectedShow.time}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Venue:</span>\r\n                      <span className=\"text-white\">{selectedShow.venue}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Seats:</span>\r\n                      <span className=\"text-white\">{selectedSeats.join(', ')}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Tickets:</span>\r\n                      <span className=\"text-white\">{selectedSeats.length} √ó ‚Çπ{selectedShow.price}</span>\r\n                    </div>\r\n                    <div className=\"border-t border-gray-600 pt-2\">\r\n                      <div className=\"flex justify-between font-semibold\">\r\n                        <span className=\"text-white\">Total:</span>\r\n                        <span className=\"text-red-500\">‚Çπ{calculateTotal()}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Booking Area */}\r\n          <div className=\"lg:col-span-2\">\r\n            {bookingStep === 1 && (\r\n              <div className=\"bg-gray-800 rounded-xl p-6\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-6\">Select Date & Show</h2>\r\n                \r\n                {/* Date Selection */}\r\n                <div className=\"mb-8\">\r\n                  <h3 className=\"text-lg font-semibold text-white mb-4\">Choose Date</h3>\r\n                  <div className=\"grid grid-cols-7 gap-2\">\r\n                    {generateDates().map((date, index) => (\r\n                      <button\r\n                        key={index}\r\n                        onClick={() => setSelectedDate(date.toISOString().split('T')[0])}\r\n                        className={`p-3 rounded-lg text-center transition-colors ${\r\n                          selectedDate === date.toISOString().split('T')[0]\r\n                            ? 'bg-red-500 text-white'\r\n                            : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                        }`}\r\n                      >\r\n                        <div className=\"text-xs\">{formatDate(date)}</div>\r\n                        <div className=\"font-semibold\">{date.getDate()}</div>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Show Selection */}\r\n                {selectedDate && (\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-white mb-4\">Available Shows</h3>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                      {shows.map((show) => (\r\n                        <button\r\n                          key={show.id}\r\n                          onClick={() => {\r\n                            setSelectedShow(show);\r\n                            setBookingStep(2);\r\n                          }}\r\n                          className=\"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors\"\r\n                        >\r\n                          <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-xl font-semibold text-white\">{show.time}</span>\r\n                            <span className=\"text-red-500 font-semibold\">‚Çπ{show.price}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between text-sm\">\r\n                            <span className=\"text-gray-400\">{show.venue}</span>\r\n                            <span className=\"text-green-400\">{show.availableSeats} seats available</span>\r\n                          </div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {bookingStep === 2 && (\r\n              <div className=\"bg-gray-800 rounded-xl p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h2 className=\"text-2xl font-bold text-white\">Select Seats</h2>\r\n                  <button\r\n                    onClick={() => setBookingStep(1)}\r\n                    className=\"text-gray-400 hover:text-white\"\r\n                  >\r\n                    ‚Üê Change Show\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Screen */}\r\n                <div className=\"mb-8\">\r\n                  <div className=\"bg-gray-600 h-2 rounded-full mb-2\"></div>\r\n                  <p className=\"text-center text-gray-400 text-sm\">SCREEN</p>\r\n                </div>\r\n\r\n                {/* Seat Legend */}\r\n                <div className=\"flex justify-center space-x-8 mb-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-gray-600 rounded mr-2\"></div>\r\n                    <span className=\"text-gray-400 text-sm\">Available</span>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-red-500 rounded mr-2\"></div>\r\n                    <span className=\"text-gray-400 text-sm\">Selected</span>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-red-800 rounded mr-2\"></div>\r\n                    <span className=\"text-gray-400 text-sm\">Booked</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Seat Map */}\r\n                <div className=\"mb-8\">\r\n                  {['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'].map(row => (\r\n                    <div key={row} className=\"flex justify-center items-center mb-2\">\r\n                      <span className=\"w-8 text-gray-400 text-sm font-semibold\">{row}</span>\r\n                      <div className=\"flex space-x-1\">\r\n                        {Array.from({ length: 12 }, (_, i) => {\r\n                          const seatId = `${row}${i + 1}`;\r\n                          const isBooked = Math.random() < 0.3;\r\n                          const isSelected = selectedSeats.includes(seatId);\r\n                          \r\n                          return (\r\n                            <button\r\n                              key={seatId}\r\n                              onClick={() => !isBooked && toggleSeat(seatId)}\r\n                              disabled={isBooked}\r\n                              className={`w-8 h-8 rounded text-xs font-semibold transition-colors ${\r\n                                isBooked\r\n                                  ? 'bg-red-800 text-red-200 cursor-not-allowed'\r\n                                  : isSelected\r\n                                  ? 'bg-red-500 text-white'\r\n                                  : 'bg-gray-600 text-gray-300 hover:bg-gray-500'\r\n                              }`}\r\n                            >\r\n                              {i + 1}\r\n                            </button>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Continue Button */}\r\n                {selectedSeats.length > 0 && (\r\n                  <div className=\"flex justify-center\">\r\n                    <button\r\n                      onClick={() => setBookingStep(3)}\r\n                      className=\"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors\"\r\n                    >\r\n                      Continue to Payment (‚Çπ{calculateTotal()})\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {bookingStep === 3 && (\r\n              <div className=\"bg-gray-800 rounded-xl p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h2 className=\"text-2xl font-bold text-white\">Payment</h2>\r\n                  <button\r\n                    onClick={() => setBookingStep(2)}\r\n                    className=\"text-gray-400 hover:text-white\"\r\n                  >\r\n                    ‚Üê Change Seats\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-w-md mx-auto\">\r\n                  <div className=\"bg-gray-700 rounded-lg p-6 mb-6\">\r\n                    <h3 className=\"text-lg font-semibold text-white mb-4\">Payment Summary</h3>\r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Movie Tickets ({selectedSeats.length})</span>\r\n                        <span className=\"text-white\">‚Çπ{calculateTotal()}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Convenience Fee</span>\r\n                        <span className=\"text-white\">‚Çπ{Math.round(calculateTotal() * 0.02)}</span>\r\n                      </div>\r\n                      <div className=\"border-t border-gray-600 pt-3\">\r\n                        <div className=\"flex justify-between font-semibold\">\r\n                          <span className=\"text-white\">Total Amount</span>\r\n                          <span className=\"text-red-500\">‚Çπ{calculateTotal() + Math.round(calculateTotal() * 0.02)}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleBooking}\r\n                    className=\"w-full bg-red-500 hover:bg-red-600 text-white py-4 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center\"\r\n                  >\r\n                    <CurrencyRupeeIcon className=\"h-6 w-6 mr-2\" />\r\n                    Pay ‚Çπ{calculateTotal() + Math.round(calculateTotal() * 0.02)}\r\n                  </button>\r\n\r\n                  <p className=\"text-gray-400 text-sm text-center mt-4\">\r\n                    By proceeding, you agree to our Terms & Conditions\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookMovie;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}