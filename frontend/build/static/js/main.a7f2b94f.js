/*! For license information please see main.a7f2b94f.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var n=s(43),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,r={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function p(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||g}function b(){}function v(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||g}p.prototype.isReactComponent={},p.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=p.prototype;var y=v.prototype=new b;y.constructor=v,f(y,p.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,r={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(r[a]=t[a]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===r[a]&&(r[a]=l[a]);return{$$typeof:s,type:e,key:i,ref:o,props:r,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,a,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case n:l=!0}}if(l)return i=i(l=e),e=""===r?"."+E(l,0):r,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),M(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+E(o=e[c],c);l+=M(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=M(o=o.value,t,a,d=r+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,s){if(null==e)return e;var n=[],a=0;return M(e,n,"","",function(e){return t.call(s,e,a++)}),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},T={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,s){P(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=p,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),r=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:s,type:e.type,key:r,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,s){return A.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,s){return A.current.useReducer(e,t,s)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return A.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,a=e[n];if(!(0<r(a,t)))break e;e[n]=t,e[s]=a,s=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,s))c<a&&0>r(d,l)?(e[n]=d,e[c]=s,n=c):(e[n]=l,e[o]=s,n=o);else{if(!(c<a&&0>r(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,g=!1,f=!1,x=!1,p="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function w(e){if(x=!1,y(e),!f)if(null!==n(c))f=!0,T(j);else{var t=n(d);null!==t&&L(w,t.startTime-e)}}function j(e,s){f=!1,x&&(x=!1,b(_),_=-1),g=!0;var r=m;try{for(y(s),h=n(c);null!==h&&(!(h.expirationTime>s)||e&&!M());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&a(c),y(s)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&L(w,u.startTime-s),l=!1}return l}finally{h=null,m=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,E=-1;function M(){return!(t.unstable_now()-E<C)}function P(){if(null!==S){var e=t.unstable_now();E=e;var s=!0;try{s=S(!0,e)}finally{s?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=P,N=function(){A.postMessage(null)}}else N=function(){p(P,0)};function T(e){S=e,k||(k=!0,N())}function L(e,s){_=p(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,T(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,a,r){var i=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?i+r:i:r=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>i?(e.sortIndex=r,s(d,e),null===n(c)&&e===n(d)&&(x?(b(_),_=-1):x=!0,L(w,r-i))):(e.sortIndex=o,s(c,e),f||g||(f=!0,T(j))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},391:(e,t,s)=>{var n=s(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var n=s(43),a=s(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function f(e,t,s,n,a,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,s,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,n){if(null===t||"undefined"===typeof t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,a,n)&&(s=null),n||null===a?function(e){return!!u.call(g,e)||!u.call(m,e)&&(h.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=null===s?3!==a.type&&"":s:(t=a.attributeName,n=a.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(a=a.type)||4===a&&!0===s?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var I,R=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),r=n.stack.split("\n"),i=a.length-1,o=r.length-1;1<=i&&0<=o&&a[i]!==r[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==r[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==r[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(s){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var a=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var s=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function Q(e,t){var s=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;s=W(null!=t.value?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){X(e,t);var s=W(t.value),n=t.type;if(null!=s)"number"===n?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function K(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&J(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+W(s),t=null,a=0;a<e.length;a++){if(e[a].value===s)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:W(s)}}function re(e,t){var s=W(t.value),n=W(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var n=0===s.indexOf("--"),a=fe(s,t[s],n);"float"===s&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}Object.keys(me).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var pe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(pe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof je)throw Error(r(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Me(){}var Pe=!1;function De(e,t,s){if(Pe)return e(t,s);Pe=!0;try{return Ee(e,t,s)}finally{Pe=!1,(null!==Ne||null!==ke)&&(Me(),Ce())}}function Ae(e,t){var s=e.stateNode;if(null===s)return null;var n=wa(s);if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var Te=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Te=!1}function Oe(e,t,s,n,a,r,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Ie=!1,Re=null,Fe=!1,Be=null,ze={onError:function(e){Ie=!0,Re=e}};function Ve(e,t,s,n,a,r,i,o,l){Ie=!1,Re=null,Oe.apply(ze,arguments)}function Ue(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(r(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return We(a),e;if(i===n)return We(a),t;i=i.sibling}throw Error(r(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(r(189))}}if(s.alternate!==n)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Ke=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,st=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,a=e.suspendedLanes,r=e.pingedLanes,i=268435455&s;if(0!==i){var o=i&~a;0!==o?n=ut(o):0!==(r&=i)&&(n=ut(r))}else 0!==(i=s&~a)?n=ut(i):0!==r&&(n=ut(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(r=t&-t)||16===a&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(s=31-it(t)),n|=e[s],t&=~a;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function pt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function bt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-it(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,_t=!1,Ct=[],Et=null,Mt=null,Pt=null,Dt=new Map,At=new Map,Tt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function It(e,t,s,n,a,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ba(e.target);if(null!==t){var s=Ue(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=He(s)))return e.blockedOn=t,void St(e.priority,function(){Nt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=va(s))&&jt(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);ye=n,s.target.dispatchEvent(n),ye=null,t.shift()}return!0}function Bt(e,t,s){Ft(e)&&s.delete(t)}function zt(){_t=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Mt&&Ft(Mt)&&(Mt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Dt.forEach(Bt),At.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var s=1;s<Ct.length;s++){var n=Ct[s];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==Mt&&Vt(Mt,e),null!==Pt&&Vt(Pt,e),Dt.forEach(t),At.forEach(t),s=0;s<Tt.length;s++)(n=Tt[s]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(s=Tt[0]).blockedOn;)Rt(s),null===s.blockedOn&&Tt.shift()}var Ht=y.ReactCurrentBatchConfig,Wt=!0;function $t(e,t,s,n){var a=vt,r=Ht.transition;Ht.transition=null;try{vt=1,qt(e,t,s,n)}finally{vt=a,Ht.transition=r}}function Yt(e,t,s,n){var a=vt,r=Ht.transition;Ht.transition=null;try{vt=4,qt(e,t,s,n)}finally{vt=a,Ht.transition=r}}function qt(e,t,s,n){if(Wt){var a=Gt(e,t,s,n);if(null===a)Wn(e,t,n,Jt,s),Ot(e,n);else if(function(e,t,s,n,a){switch(t){case"focusin":return Et=It(Et,e,t,s,n,a),!0;case"dragenter":return Mt=It(Mt,e,t,s,n,a),!0;case"mouseover":return Pt=It(Pt,e,t,s,n,a),!0;case"pointerover":var r=a.pointerId;return Dt.set(r,It(Dt.get(r)||null,e,t,s,n,a)),!0;case"gotpointercapture":return r=a.pointerId,At.set(r,It(At.get(r)||null,e,t,s,n,a)),!0}return!1}(a,e,t,s,n))n.stopPropagation();else if(Ot(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var r=va(a);if(null!==r&&wt(r),null===(r=Gt(e,t,s,n))&&Wn(e,t,n,Jt,s),r===a)break;a=r}null!==a&&n.stopPropagation()}else Wn(e,t,n,null,s)}}var Jt=null;function Gt(e,t,s,n){if(Jt=null,null!==(e=ba(e=we(n))))if(null===(t=Ue(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Ke:return 1;case et:return 4;case tt:case st:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Kt=null;function es(){if(Kt)return Kt;var e,t,s=Zt,n=s.length,a="value"in Xt?Xt.value:Xt.textContent,r=a.length;for(e=0;e<n&&s[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&s[n-t]===a[r-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function ns(){return!1}function as(e){function t(t,s,n,a,r){for(var i in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ss:ns,this.isPropagationStopped=ns,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var rs,is,os,ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=as(ls),ds=R({},ls,{view:0,detail:0}),us=as(ds),hs=R({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(rs=e.screenX-os.screenX,is=e.screenY-os.screenY):is=rs=0,os=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:is}}),ms=as(hs),gs=as(R({},hs,{dataTransfer:0})),fs=as(R({},ds,{relatedTarget:0})),xs=as(R({},ls,{animationName:0,elapsedTime:0,pseudoElement:0})),ps=R({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bs=as(ps),vs=as(R({},ls,{data:0})),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=js[e])&&!!t[e]}function ks(){return Ns}var Ss=R({},ds,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ws[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_s=as(Ss),Cs=as(R({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Es=as(R({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Ms=as(R({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ps=R({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=as(Ps),As=[9,13,27,32],Ts=d&&"CompositionEvent"in window,Ls=null;d&&"documentMode"in document&&(Ls=document.documentMode);var Os=d&&"TextEvent"in window&&!Ls,Is=d&&(!Ts||Ls&&8<Ls&&11>=Ls),Rs=String.fromCharCode(32),Fs=!1;function Bs(e,t){switch(e){case"keyup":return-1!==As.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vs=!1;var Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Us[e.type]:"textarea"===t}function Ws(e,t,s,n){_e(n),0<(t=Yn(t,"onChange")).length&&(s=new cs("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var $s=null,Ys=null;function qs(e){Fn(e,0)}function Js(e){if(q(ya(e)))return e}function Gs(e,t){if("change"===e)return t}var Qs=!1;if(d){var Xs;if(d){var Zs="oninput"in document;if(!Zs){var Ks=document.createElement("div");Ks.setAttribute("oninput","return;"),Zs="function"===typeof Ks.oninput}Xs=Zs}else Xs=!1;Qs=Xs&&(!document.documentMode||9<document.documentMode)}function en(){$s&&($s.detachEvent("onpropertychange",tn),Ys=$s=null)}function tn(e){if("value"===e.propertyName&&Js(Ys)){var t=[];Ws(t,Ys,e,we(e)),De(qs,t)}}function sn(e,t,s){"focusin"===e?(en(),Ys=s,($s=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Js(Ys)}function an(e,t){if("click"===e)return Js(t)}function rn(e,t){if("input"===e||"change"===e)return Js(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var s,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=J((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=hn(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&un(s.ownerDocument.documentElement,s)){if(null!==n&&mn(s))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=s.textContent.length,r=Math.min(n.start,a);n=void 0===n.end?r:Math.min(n.end,a),!e.extend&&r>n&&(a=n,n=r,r=a),a=dn(s,r);var i=dn(s,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,pn=null,bn=null,vn=!1;function yn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;vn||null==xn||xn!==J(n)||("selectionStart"in(n=xn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=Yn(pn,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=xn)))}function wn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,s=jn[e];for(t in s)if(s.hasOwnProperty(t)&&t in kn)return Nn[e]=s[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var _n=Sn("animationend"),Cn=Sn("animationiteration"),En=Sn("animationstart"),Mn=Sn("transitionend"),Pn=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Pn.set(e,t),l(t,[e])}for(var Tn=0;Tn<Dn.length;Tn++){var Ln=Dn[Tn];An(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}An(_n,"onAnimationEnd"),An(Cn,"onAnimationIteration"),An(En,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Mn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Rn(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,n,a,i,o,l,c){if(Ve.apply(this,arguments),Ie){if(!Ie)throw Error(r(198));var d=Re;Ie=!1,Re=null,Fe||(Fe=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&a.isPropagationStopped())break e;Rn(a,o,c),r=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==r&&a.isPropagationStopped())break e;Rn(a,o,c),r=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var s=t[fa];void 0===s&&(s=t[fa]=new Set);var n=e+"__bubble";s.has(n)||(Hn(t,e,2,!1),s.add(n))}function zn(e,t,s){var n=0;t&&(n|=4),Hn(s,e,n,t)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Vn]){e[Vn]=!0,i.forEach(function(t){"selectionchange"!==t&&(In.has(t)||zn(t,!1,e),zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vn]||(t[Vn]=!0,zn("selectionchange",!1,t))}}function Hn(e,t,s,n){switch(Qt(t)){case 1:var a=$t;break;case 4:a=Yt;break;default:a=qt}s=a.bind(null,t,s,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):void 0!==a?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Wn(e,t,s,n,a){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){n=r=i;continue e}o=o.parentNode}}n=n.return}De(function(){var n=r,a=we(s),i=[];e:{var o=Pn.get(e);if(void 0!==o){var l=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":l=_s;break;case"focusin":c="focus",l=fs;break;case"focusout":c="blur",l=fs;break;case"beforeblur":case"afterblur":l=fs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Es;break;case _n:case Cn:case En:l=xs;break;case Mn:l=Ms;break;case"scroll":l=us;break;case"wheel":l=Ds;break;case"copy":case"cut":case"paste":l=bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cs}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,g=n;null!==g;){var f=(m=g).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Ae(g,h))&&d.push($n(g,f,m)))),u)break;g=g.return}0<d.length&&(o=new l(o,c,null,s,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!ba(c)&&!c[ga])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=s.relatedTarget||s.toElement)?ba(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=ms,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cs,f="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?o:ya(l),m=null==c?o:ya(c),(o=new d(f,g+"leave",l,s,a)).target=u,o.relatedTarget=m,f=null,ba(a)===n&&((d=new d(h,g+"enter",c,s,a)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,g=0,m=d=l;m;m=qn(m))g++;for(m=0,f=h;f;f=qn(f))m++;for(;0<g-m;)d=qn(d),g--;for(;0<m-g;)h=qn(h),m--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=qn(d),h=qn(h)}d=null}else d=null;null!==l&&Jn(i,o,l,d,!1),null!==c&&null!==u&&Jn(i,u,c,d,!0)}if("select"===(l=(o=n?ya(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Gs;else if(Hs(o))if(Qs)x=rn;else{x=nn;var p=sn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=an);switch(x&&(x=x(e,n))?Ws(i,x,s,a):(p&&p(e,o,n),"focusout"===e&&(p=o._wrapperState)&&p.controlled&&"number"===o.type&&ee(o,"number",o.value)),p=n?ya(n):window,e){case"focusin":(Hs(p)||"true"===p.contentEditable)&&(xn=p,pn=n,bn=null);break;case"focusout":bn=pn=xn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,yn(i,s,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":yn(i,s,a)}var b;if(Ts)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vs?Bs(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(Is&&"ko"!==s.locale&&(Vs||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vs&&(b=es()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,Vs=!0)),0<(p=Yn(n,v)).length&&(v=new vs(v,e,null,s,a),i.push({event:v,listeners:p}),b?v.data=b:null!==(b=zs(s))&&(v.data=b))),(b=Os?function(e,t){switch(e){case"compositionend":return zs(t);case"keypress":return 32!==t.which?null:(Fs=!0,Rs);case"textInput":return(e=t.data)===Rs&&Fs?null:e;default:return null}}(e,s):function(e,t){if(Vs)return"compositionend"===e||!Ts&&Bs(e,t)?(e=es(),Kt=Zt=Xt=null,Vs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(n=Yn(n,"onBeforeInput")).length&&(a=new vs("onBeforeInput","beforeinput",null,s,a),i.push({event:a,listeners:n}),a.data=b))}Fn(i,t)})}function $n(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Yn(e,t){for(var s=t+"Capture",n=[];null!==e;){var a=e,r=a.stateNode;5===a.tag&&null!==r&&(a=r,null!=(r=Ae(e,s))&&n.unshift($n(e,r,a)),null!=(r=Ae(e,t))&&n.push($n(e,r,a))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jn(e,t,s,n,a){for(var r=t._reactName,i=[];null!==s&&s!==n;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ae(s,r))&&i.unshift($n(s,l,o)):a||null!=(l=Ae(s,r))&&i.push($n(s,l,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Gn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Qn,"")}function Zn(e,t,s){if(t=Xn(t),Xn(e)!==t&&s)throw Error(r(425))}function Kn(){}var ea=null,ta=null;function sa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ra="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ra?function(e){return ra.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function la(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=a}while(s);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,ma="__reactProps$"+ua,ga="__reactContainer$"+ua,fa="__reactEvents$"+ua,xa="__reactListeners$"+ua,pa="__reactHandles$"+ua;function ba(e){var t=e[ha];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ga]||s[ha]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=da(e);null!==e;){if(s=e[ha])return s;e=da(e)}return t}s=(e=s).parentNode}return null}function va(e){return!(e=e[ha]||e[ga])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function wa(e){return e[ma]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function _a(e,t){Na++,ja[Na]=e.current,e.current=t}var Ca={},Ea=ka(Ca),Ma=ka(!1),Pa=Ca;function Da(e,t){var s=e.type.contextTypes;if(!s)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,r={};for(a in s)r[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){Sa(Ma),Sa(Ea)}function La(e,t,s){if(Ea.current!==Ca)throw Error(r(168));_a(Ea,t),_a(Ma,s)}function Oa(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return s;for(var a in n=n.getChildContext())if(!(a in t))throw Error(r(108,H(e)||"Unknown",a));return R({},s,n)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Pa=Ea.current,_a(Ea,e),_a(Ma,Ma.current),!0}function Ra(e,t,s){var n=e.stateNode;if(!n)throw Error(r(169));s?(e=Oa(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,Sa(Ma),Sa(Ea),_a(Ea,e)):Sa(Ma),_a(Ma,s)}var Fa=null,Ba=!1,za=!1;function Va(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!za&&null!==Fa){za=!0;var e=0,t=vt;try{var s=Fa;for(vt=1;e<s.length;e++){var n=s[e];do{n=n(!0)}while(null!==n)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),qe(Ke,Ua),a}finally{vt=t,za=!1}}return null}var Ha=[],Wa=0,$a=null,Ya=0,qa=[],Ja=0,Ga=null,Qa=1,Xa="";function Za(e,t){Ha[Wa++]=Ya,Ha[Wa++]=$a,$a=e,Ya=t}function Ka(e,t,s){qa[Ja++]=Qa,qa[Ja++]=Xa,qa[Ja++]=Ga,Ga=e;var n=Qa;e=Xa;var a=32-it(n)-1;n&=~(1<<a),s+=1;var r=32-it(t)+a;if(30<r){var i=a-a%5;r=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Qa=1<<32-it(t)+a|s<<a|n,Xa=r+e}else Qa=1<<r|s<<a|n,Xa=e}function er(e){null!==e.return&&(Za(e,1),Ka(e,1,0))}function tr(e){for(;e===$a;)$a=Ha[--Wa],Ha[Wa]=null,Ya=Ha[--Wa],Ha[Wa]=null;for(;e===Ga;)Ga=qa[--Ja],qa[Ja]=null,Xa=qa[--Ja],qa[Ja]=null,Qa=qa[--Ja],qa[Ja]=null}var sr=null,nr=null,ar=!1,rr=null;function ir(e,t){var s=Dc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function or(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sr=e,nr=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sr=e,nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Ga?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Dc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sr=e,nr=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(ar){var t=nr;if(t){var s=t;if(!or(e,t)){if(lr(e))throw Error(r(418));t=ca(s.nextSibling);var n=sr;t&&or(e,t)?ir(n,s):(e.flags=-4097&e.flags|2,ar=!1,sr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,ar=!1,sr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sr=e}function ur(e){if(e!==sr)return!1;if(!ar)return dr(e),ar=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!sa(e.type,e.memoizedProps)),t&&(t=nr)){if(lr(e))throw hr(),Error(r(418));for(;t;)ir(e,t),t=ca(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){nr=ca(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}nr=null}}else nr=sr?ca(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=nr;e;)e=ca(e.nextSibling)}function mr(){nr=sr=null,ar=!1}function gr(e){null===rr?rr=[e]:rr.push(e)}var fr=y.ReactCurrentBatchConfig;function xr(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(r(309));var n=s.stateNode}if(!n)throw Error(r(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function pr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function vr(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=2,s):n:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,n){return null===t||6!==t.tag?((t=Rc(s,e.mode,n)).return=e,t):((t=a(t,s)).return=e,t)}function c(e,t,s,n){var r=s.type;return r===N?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===A&&br(r)===t.type)?((n=a(t,s.props)).ref=xr(e,t,s),n.return=e,n):((n=Lc(s.type,s.key,s.props,null,e.mode,n)).ref=xr(e,t,s),n.return=e,n)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Fc(s,e.mode,n)).return=e,t):((t=a(t,s.children||[])).return=e,t)}function u(e,t,s,n,r){return null===t||7!==t.tag?((t=Oc(s,e.mode,n,r)).return=e,t):((t=a(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(s=Lc(t.type,t.key,t.props,null,e.mode,s)).ref=xr(e,null,t),s.return=e,s;case j:return(t=Fc(t,e.mode,s)).return=e,t;case A:return h(e,(0,t._init)(t._payload),s)}if(te(t)||O(t))return(t=Oc(t,e.mode,s,null)).return=e,t;pr(e,t)}return null}function m(e,t,s,n){var a=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==a?null:l(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return s.key===a?c(e,t,s,n):null;case j:return s.key===a?d(e,t,s,n):null;case A:return m(e,t,(a=s._init)(s._payload),n)}if(te(s)||O(s))return null!==a?null:u(e,t,s,n,null);pr(e,s)}return null}function g(e,t,s,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(s)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?s:n.key)||null,n,a);case j:return d(t,e=e.get(null===n.key?s:n.key)||null,n,a);case A:return g(e,t,s,(0,n._init)(n._payload),a)}if(te(n)||O(n))return u(t,e=e.get(s)||null,n,a,null);pr(t,n)}return null}function f(a,r,o,l){for(var c=null,d=null,u=r,f=r=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var p=m(a,u,o[f],l);if(null===p){null===u&&(u=x);break}e&&u&&null===p.alternate&&t(a,u),r=i(p,r,f),null===d?c=p:d.sibling=p,d=p,u=x}if(f===o.length)return s(a,u),ar&&Za(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(a,o[f],l))&&(r=i(u,r,f),null===d?c=u:d.sibling=u,d=u);return ar&&Za(a,f),c}for(u=n(a,u);f<o.length;f++)null!==(x=g(u,a,f,o[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),r=i(x,r,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ar&&Za(a,f),c}function x(a,o,l,c){var d=O(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=o,x=o=0,p=null,b=l.next();null!==f&&!b.done;x++,b=l.next()){f.index>x?(p=f,f=null):p=f.sibling;var v=m(a,f,b.value,c);if(null===v){null===f&&(f=p);break}e&&f&&null===v.alternate&&t(a,f),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v,f=p}if(b.done)return s(a,f),ar&&Za(a,x),d;if(null===f){for(;!b.done;x++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return ar&&Za(a,x),d}for(f=n(a,f);!b.done;x++,b=l.next())null!==(b=g(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),ar&&Za(a,x),d}return function e(n,r,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=r;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){s(n,d.sibling),(r=a(d,i.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&br(c)===d.type){s(n,d.sibling),(r=a(d,i.props)).ref=xr(n,d,i),r.return=n,n=r;break e}s(n,d);break}t(n,d),d=d.sibling}i.type===N?((r=Oc(i.props.children,n.mode,l,i.key)).return=n,n=r):((l=Lc(i.type,i.key,i.props,null,n.mode,l)).ref=xr(n,r,i),l.return=n,n=l)}return o(n);case j:e:{for(d=i.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){s(n,r.sibling),(r=a(r,i.children||[])).return=n,n=r;break e}s(n,r);break}t(n,r),r=r.sibling}(r=Fc(i,n.mode,l)).return=n,n=r}return o(n);case A:return e(n,r,(d=i._init)(i._payload),l)}if(te(i))return f(n,r,i,l);if(O(i))return x(n,r,i,l);pr(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==r&&6===r.tag?(s(n,r.sibling),(r=a(r,i)).return=n,n=r):(s(n,r),(r=Rc(i,n.mode,l)).return=n,n=r),o(n)):s(n,r)}}var yr=vr(!0),wr=vr(!1),jr=ka(null),Nr=null,kr=null,Sr=null;function _r(){Sr=kr=Nr=null}function Cr(e){var t=jr.current;Sa(jr),e._currentValue=t}function Er(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Mr(e,t){Nr=e,Sr=kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(Sr!==e)if(e={context:e,memoizedValue:t,next:null},null===kr){if(null===Nr)throw Error(r(308));kr=e,Nr.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Dr=null;function Ar(e){null===Dr?Dr=[e]:Dr.push(e)}function Tr(e,t,s,n){var a=t.interleaved;return null===a?(s.next=s,Ar(t)):(s.next=a.next,a.next=s),t.interleaved=s,Lr(e,n)}function Lr(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Or=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&El)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lr(e,s)}return null===(a=n.interleaved)?(t.next=t,Ar(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lr(e,s)}function zr(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,bt(e,s)}}function Vr(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var a=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===r?a=r=i:r=r.next=i,s=s.next}while(null!==s);null===r?a=r=t:r=r.next=t}else a=r=t;return s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ur(e,t,s,n){var a=e.updateQueue;Or=!1;var r=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?r=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=a.baseState;for(i=0,d=c=l=null,o=r;;){var h=o.lane,m=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,f=o;switch(h=t,m=s,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(m,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(m,u,h):g)||void 0===h)break e;u=R({},u,h);break e;case 2:Or=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===r&&(a.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=u}}function Hr(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=s,"function"!==typeof a)throw Error(r(191,a));a.call(n)}}}var Wr={},$r=ka(Wr),Yr=ka(Wr),qr=ka(Wr);function Jr(e){if(e===Wr)throw Error(r(174));return e}function Gr(e,t){switch(_a(qr,t),_a(Yr,e),_a($r,Wr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa($r),_a($r,t)}function Qr(){Sa($r),Sa(Yr),Sa(qr)}function Xr(e){Jr(qr.current);var t=Jr($r.current),s=le(t,e.type);t!==s&&(_a(Yr,e),_a($r,s))}function Zr(e){Yr.current===e&&(Sa($r),Sa(Yr))}var Kr=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,ri=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function mi(){throw Error(r(321))}function gi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!on(e[s],t[s]))return!1;return!0}function fi(e,t,s,n,a,i){if(ri=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Zi:Ki,e=s(n,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(r(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=s(n,a)}while(di)}if(ni.current=Xi,t=null!==oi&&null!==oi.next,ri=0,li=oi=ii=null,ci=!1,t)throw Error(r(300));return e}function xi(){var e=0!==ui;return ui=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(r(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=oi,a=n.baseQueue,i=s.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(null!==a){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ri&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ii.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(vo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(null!==(e=s.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Il|=i,a=a.next}while(a!==e)}else null===a&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function wi(e){var t=bi(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(null!==a){s.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);on(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function ji(){}function Ni(e,t){var s=ii,n=bi(),a=t(),i=!on(n.memoizedState,a);if(i&&(n.memoizedState=a,vo=!0),n=n.queue,Oi(_i.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(s.flags|=2048,Pi(9,Si.bind(null,s,n,a,t),void 0,null),null===Ml)throw Error(r(349));0!==(30&ri)||ki(s,t,a)}return a}function ki(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Si(e,t,s,n){t.value=s,t.getSnapshot=n,Ci(t)&&Ei(e)}function _i(e,t,s){return s(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!on(e,s)}catch(n){return!0}}function Ei(e){var t=Lr(e,1);null!==t&&sc(t,e,1,-1)}function Mi(e){var t=pi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Di(){return bi().memoizedState}function Ai(e,t,s,n){var a=pi();ii.flags|=e,a.memoizedState=Pi(1|t,s,void 0,void 0===n?null:n)}function Ti(e,t,s,n){var a=bi();n=void 0===n?null:n;var r=void 0;if(null!==oi){var i=oi.memoizedState;if(r=i.destroy,null!==n&&gi(n,i.deps))return void(a.memoizedState=Pi(t,s,r,n))}ii.flags|=e,a.memoizedState=Pi(1|t,s,r,n)}function Li(e,t){return Ai(8390656,8,e,t)}function Oi(e,t){return Ti(2048,8,e,t)}function Ii(e,t){return Ti(4,2,e,t)}function Ri(e,t){return Ti(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ti(4,4,Fi.bind(null,t,e),s)}function zi(){}function Vi(e,t){var s=bi();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&gi(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Ui(e,t){var s=bi();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&gi(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Hi(e,t,s){return 0===(21&ri)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=s):(on(s,t)||(s=ft(),ii.lanes|=s,Il|=s,e.baseState=!0),t)}function Wi(e,t){var s=vt;vt=0!==s&&4>s?s:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{vt=s,ai.transition=n}}function $i(){return bi().memoizedState}function Yi(e,t,s){var n=tc(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Ji(e))Gi(t,s);else if(null!==(s=Tr(e,t,s,n))){sc(s,e,n,ec()),Qi(s,t,n)}}function qi(e,t,s){var n=tc(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Gi(t,a);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=r(i,s);if(a.hasEagerState=!0,a.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ar(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(s=Tr(e,t,a,n))&&(sc(s,e,n,a=ec()),Qi(s,t,n))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Qi(e,t,s){if(0!==(4194240&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,bt(e,s)}}var Xi={readContext:Pr,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Zi={readContext:Pr,useCallback:function(e,t){return pi().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:Li,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ai(4194308,4,Fi.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var s=pi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=pi();return t=void 0!==s?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},pi().memoizedState=e},useState:Mi,useDebugValue:zi,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Wi.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ii,a=pi();if(ar){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===Ml)throw Error(r(349));0!==(30&ri)||ki(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,Li(_i.bind(null,n,i,e),[e]),n.flags|=2048,Pi(9,Si.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=pi(),t=Ml.identifierPrefix;if(ar){var s=Xa;t=":"+t+"R"+(s=(Qa&~(1<<32-it(Qa)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ki={readContext:Pr,useCallback:Vi,useContext:Pr,useEffect:Oi,useImperativeHandle:Bi,useInsertionEffect:Ii,useLayoutEffect:Ri,useMemo:Ui,useReducer:yi,useRef:Di,useState:function(){return yi(vi)},useDebugValue:zi,useDeferredValue:function(e){return Hi(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:$i,unstable_isNewReconciler:!1},eo={readContext:Pr,useCallback:Vi,useContext:Pr,useEffect:Oi,useImperativeHandle:Bi,useInsertionEffect:Ii,useLayoutEffect:Ri,useMemo:Ui,useReducer:wi,useRef:Di,useState:function(){return wi(vi)},useDebugValue:zi,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[wi(vi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:$i,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var s in t=R({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function so(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:R({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ec(),a=tc(e),r=Fr(n,a);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Br(e,r,a))&&(sc(t,e,a,n),zr(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ec(),a=tc(e),r=Fr(n,a);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Br(e,r,a))&&(sc(t,e,a,n),zr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),n=tc(e),a=Fr(s,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Br(e,a,n))&&(sc(t,e,n,s),zr(t,e,n))}};function ao(e,t,s,n,a,r,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(s,n)||!ln(a,r))}function ro(e,t,s){var n=!1,a=Ca,r=t.contextType;return"object"===typeof r&&null!==r?r=Pr(r):(a=Aa(t)?Pa:Ea.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?Da(e,a):Ca),t=new t(s,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=r),t}function io(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Ir(e);var r=t.contextType;"object"===typeof r&&null!==r?a.context=Pr(r):(r=Aa(t)?Pa:Ea.current,a.context=Da(e,r)),a.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(so(e,t,r,s),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),Ur(e,s,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var s="",n=t;do{s+=V(n),n=n.return}while(n);var a=s}catch(r){a="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,s){(s=Fr(-1,s)).tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Wl||(Wl=!0,$l=n),uo(0,t)},s}function go(e,t,s){(s=Fr(-1,s)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){uo(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(s.callback=function(){uo(0,t),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function fo(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Sc.bind(null,e,t,s),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function po(e,t,s,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Fr(-1,1)).tag=2,Br(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,t,s,n){t.child=null===e?wr(t,null,s,n):yr(t,e.child,s,n)}function wo(e,t,s,n,a){s=s.render;var r=t.ref;return Mr(t,a),n=fi(e,t,s,n,r,a),s=xi(),null===e||vo?(ar&&s&&er(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function jo(e,t,s,n,a){if(null===e){var r=s.type;return"function"!==typeof r||Ac(r)||void 0!==r.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Lc(s.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,No(e,t,r,n,a))}if(r=e.child,0===(e.lanes&a)){var i=r.memoizedProps;if((s=null!==(s=s.compare)?s:ln)(i,n)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Tc(r,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,s,n,a){if(null!==e){var r=e.memoizedProps;if(ln(r,n)&&e.ref===t.ref){if(vo=!1,t.pendingProps=n=r,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,s,n,a)}function ko(e,t,s){var n=t.pendingProps,a=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Tl,Al),Al|=s;else{if(0===(1073741824&s))return e=null!==r?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Tl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:s,_a(Tl,Al),Al|=n}else null!==r?(n=r.baseLanes|s,t.memoizedState=null):n=s,_a(Tl,Al),Al|=n;return yo(e,t,a,s),t.child}function So(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,s,n,a){var r=Aa(s)?Pa:Ea.current;return r=Da(t,r),Mr(t,a),s=fi(e,t,s,n,r,a),n=xi(),null===e||vo?(ar&&n&&er(t),t.flags|=1,yo(e,t,s,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function Co(e,t,s,n,a){if(Aa(s)){var r=!0;Ia(t)}else r=!1;if(Mr(t,a),null===t.stateNode)Ho(e,t),ro(t,s,n),oo(t,s,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Pr(c):c=Da(t,c=Aa(s)?Pa:Ea.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Or=!1;var h=t.memoizedState;i.state=h,Ur(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Ma.current||Or?("function"===typeof d&&(so(t,s,d,n),l=t.memoizedState),(o=Or||ao(t,s,o,n,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rr(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=s.contextType)&&null!==l?l=Pr(l):l=Da(t,l=Aa(s)?Pa:Ea.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,n,l),Or=!1,h=t.memoizedState,i.state=h,Ur(t,n,i,a);var g=t.memoizedState;o!==u||h!==g||Ma.current||Or?("function"===typeof m&&(so(t,s,m,n),g=t.memoizedState),(c=Or||ao(t,s,c,n,h,g,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,g,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Eo(e,t,s,n,r,a)}function Eo(e,t,s,n,a,r){So(e,t);var i=0!==(128&t.flags);if(!n&&!i)return a&&Ra(t,s,!1),Wo(e,t,r);n=t.stateNode,bo.current=t;var o=i&&"function"!==typeof s.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=yr(t,e.child,null,r),t.child=yr(t,null,o,r)):yo(e,t,o,r),t.memoizedState=n.state,a&&Ra(t,s,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Gr(e,t.containerInfo)}function Po(e,t,s,n,a){return mr(),gr(a),t.flags|=256,yo(e,t,s,n),t.child}var Do,Ao,To,Lo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,s){var n,a=t.pendingProps,i=Kr.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_a(Kr,1&i),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,a,0,null),e=Oc(e,a,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(s),t.memoizedState=Oo,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,s,n,a,i,o){if(s)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,n=co(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ic({mode:"visible",children:n.children},a,0,null),(i=Oc(i,a,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&yr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Oo,i);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bo(e,t,o,n=co(i=Error(r(419)),n,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(n=Ml)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Lr(e,a),sc(n,e,a,-1))}return fc(),Bo(e,t,o,n=co(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,nr=ca(a.nextSibling),sr=t,ar=!0,rr=null,null!==e&&(qa[Ja++]=Qa,qa[Ja++]=Xa,qa[Ja++]=Ga,Qa=e.id,Xa=e.overflow,Ga=t),t=Fo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,i,s);if(o){o=a.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Tc(n,o):(o=Oc(o,l,s,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Tc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=s),a.return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,s,n){return null!==n&&gr(n),yr(t,e.child,null,s),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Er(e.return,t,s)}function Vo(e,t,s,n,a){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=s,r.tailMode=a)}function Uo(e,t,s){var n=t.pendingProps,a=n.revealOrder,r=n.tail;if(yo(e,t,n.children,s),0!==(2&(n=Kr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,s,t);else if(19===e.tag)zo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_a(Kr,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(a=s),s=s.sibling;null===(s=a)?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Vo(t,!1,a,s,r);break;case"backwards":for(s=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Vo(t,!0,s,null,r);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Tc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Tc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function $o(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function qo(e,t,s){var n=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Aa(t.type)&&Ta(),Yo(t),null;case 3:return n=t.stateNode,Qr(),Sa(Ma),Sa(Ea),si(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ur(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(ic(rr),rr=null))),Ao(e,t),Yo(t),null;case 5:Zr(t);var a=Jr(qr.current);if(s=t.type,null!==e&&null!=t.stateNode)To(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return Yo(t),null}if(e=Jr($r.current),ur(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[ha]=t,n[ma]=i,e=0!==(1&t.mode),s){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(a=0;a<On.length;a++)Bn(On[a],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Q(n,i),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Bn("invalid",n);break;case"textarea":ae(n,i),Bn("invalid",n)}for(var l in be(s,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(s){case"input":Y(n),K(n,i,!0);break;case"textarea":Y(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Kn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),"select"===s&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[ha]=t,e[ma]=n,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(s,n),s){case"dialog":Bn("cancel",e),Bn("close",e),a=n;break;case"iframe":case"object":case"embed":Bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<On.length;a++)Bn(On[a],e);a=n;break;case"source":Bn("error",e),a=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),a=n;break;case"details":Bn("toggle",e),a=n;break;case"input":Q(e,n),a=G(e,n),Bn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Bn("invalid",e)}for(i in be(s,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Bn("scroll",e):null!=d&&v(e,i,d,l))}switch(s){case"input":Y(e),K(e,n,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?se(e,!!n.multiple,i,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Kn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(s=Jr(qr.current),Jr($r.current),ur(t)){if(n=t.stateNode,s=t.memoizedProps,n[ha]=t,(i=n.nodeValue!==s)&&null!==(e=sr))switch(e.tag){case 3:Zn(n.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===s.nodeType?s:s.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Yo(t),null;case 13:if(Sa(Kr),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ar&&null!==nr&&0!==(1&t.mode)&&0===(128&t.flags))hr(),mr(),t.flags|=98560,i=!1;else if(i=ur(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[ha]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),i=!1}else null!==rr&&(ic(rr),rr=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Kr.current)?0===Ll&&(Ll=3):fc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Qr(),Ao(e,t),null===e&&Un(t.stateNode.containerInfo),Yo(t),null;case 10:return Cr(t.type._context),Yo(t),null;case 19:if(Sa(Kr),null===(i=t.memoizedState))return Yo(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)$o(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,$o(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;null!==s;)e=n,(i=s).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _a(Kr,1&Kr.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Ul&&(t.flags|=128,n=!0,$o(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),$o(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ar)return Yo(t),null}else 2*Xe()-i.renderingStartTime>Ul&&1073741824!==s&&(t.flags|=128,n=!0,$o(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=i.last)?s.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,s=Kr.current,_a(Kr,n?1&s|2:1&s),t):(Yo(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Jo(e,t){switch(tr(t),t.tag){case 1:return Aa(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qr(),Sa(Ma),Sa(Ea),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(Sa(Kr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Kr),null;case 4:return Qr(),null;case 10:return Cr(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Do=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ao=function(){},To=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jr($r.current);var r,i=null;switch(s){case"input":a=G(e,a),n=G(e,n),i=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),i=[];break;case"textarea":a=ne(e,a),n=ne(e,n),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Kn)}for(d in be(s,n),s=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(r in l)l.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(s||(s={}),s[r]=c[r])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Lo=function(e,t,s,n){s!==n&&(t.flags|=4)};var Go=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Ko(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(n){kc(e,t,n)}else s.current=null}function el(e,t,s){try{s()}catch(n){kc(e,t,n)}}var tl=!1;function sl(e,t,s){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var r=a.destroy;a.destroy=void 0,void 0!==r&&el(t,s,r)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function al(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[ma],delete t[fa],delete t[xa],delete t[pa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Kn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,s),e=e.sibling;null!==e;)ll(e,t,s),e=e.sibling}function cl(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,s),e=e.sibling;null!==e;)cl(e,t,s),e=e.sibling}var dl=null,ul=!1;function hl(e,t,s){for(s=s.child;null!==s;)ml(e,t,s),s=s.sibling}function ml(e,t,s){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(at,s)}catch(o){}switch(s.tag){case 5:Qo||Ko(s,t);case 6:var n=dl,a=ul;dl=null,hl(e,t,s),ul=a,null!==(dl=n)&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):dl.removeChild(s.stateNode));break;case 18:null!==dl&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?la(e.parentNode,s):1===e.nodeType&&la(e,s),Ut(e)):la(dl,s.stateNode));break;case 4:n=dl,a=ul,dl=s.stateNode.containerInfo,ul=!0,hl(e,t,s),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=s.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var r=a,i=r.destroy;r=r.tag,void 0!==i&&(0!==(2&r)||0!==(4&r))&&el(s,t,i),a=a.next}while(a!==n)}hl(e,t,s);break;case 1:if(!Qo&&(Ko(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){kc(s,t,o)}hl(e,t,s);break;case 21:hl(e,t,s);break;case 22:1&s.mode?(Qo=(n=Qo)||null!==s.memoizedState,hl(e,t,s),Qo=n):hl(e,t,s);break;default:hl(e,t,s)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Xo),t.forEach(function(t){var n=Ec.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}}function fl(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(r(160));ml(i,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),pl(e),4&n){try{sl(3,e,e.return),nl(3,e)}catch(x){kc(e,e.return,x)}try{sl(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fl(t,e),pl(e),512&n&&null!==s&&Ko(s,s.return);break;case 5:if(fl(t,e),pl(e),512&n&&null!==s&&Ko(s,s.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==s?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?xe(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):v(a,u,h,d)}switch(l){case"input":Z(a,i);break;case"textarea":re(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?se(a,!!i.multiple,g,!1):m!==!!i.multiple&&(null!=i.defaultValue?se(a,!!i.multiple,i.defaultValue,!0):se(a,!!i.multiple,i.multiple?[]:"",!1))}a[ma]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(fl(t,e),pl(e),4&n){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(fl(t,e),pl(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fl(t,e),pl(e);break;case 13:fl(t,e),pl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vl=Xe())),4&n&&gl(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Qo=(d=Qo)||u,fl(t,e),Qo=d):fl(t,e),pl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(g=(m=Zo).child,m.tag){case 0:case 11:case 14:case 15:sl(4,m,m.return);break;case 1:Ko(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,s=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(n,s,x)}}break;case 5:Ko(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==g?(g.return=m,Zo=g):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),pl(e),4&n&&gl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(il(s)){var n=s;break e}s=s.return}throw Error(r(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(r(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,s){Zo=e,vl(e,t,s)}function vl(e,t,s){for(var n=0!==(1&e.mode);null!==Zo;){var a=Zo,r=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||Go;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=i,(Qo=l)&&!c)for(Zo=a;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?jl(a):null!==l?(l.return=i,Zo=l):jl(a);for(;null!==r;)Zo=r,vl(r,t,s),r=r.sibling;Zo=a,Go=o,Qo=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==r?(r.return=a,Zo=r):yl(e)}}function yl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qo)if(null===s)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:to(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hr(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Hr(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(r(163))}Qo||512&t.flags&&al(t)}catch(m){kc(t,t.return,m)}}if(t===e){Zo=null;break}if(null!==(s=t.sibling)){s.return=t.return,Zo=s;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zo=s;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{nl(4,t)}catch(l){kc(t,s,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var r=t.return;try{al(t)}catch(l){kc(t,r,l)}break;case 5:var i=t.return;try{al(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Nl,kl=Math.ceil,Sl=y.ReactCurrentDispatcher,_l=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,El=0,Ml=null,Pl=null,Dl=0,Al=0,Tl=ka(0),Ll=0,Ol=null,Il=0,Rl=0,Fl=0,Bl=null,zl=null,Vl=0,Ul=1/0,Hl=null,Wl=!1,$l=null,Yl=null,ql=!1,Jl=null,Gl=0,Ql=0,Xl=null,Zl=-1,Kl=0;function ec(){return 0!==(6&El)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Dl?Dl&-Dl:null!==fr.transition?(0===Kl&&(Kl=ft()),Kl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function sc(e,t,s,n){if(50<Ql)throw Ql=0,Xl=null,Error(r(185));pt(e,s,n),0!==(2&El)&&e===Ml||(e===Ml&&(0===(2&El)&&(Rl|=s),4===Ll&&oc(e,Dl)),nc(e,n),1===s&&0===El&&0===(1&t.mode)&&(Ul=Xe()+500,Ba&&Ua()))}function nc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes;0<r;){var i=31-it(r),o=1<<i,l=a[i];-1===l?0!==(o&s)&&0===(o&n)||(a[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var n=ht(e,e===Ml?Dl:0);if(0===n)null!==s&&Je(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=s&&Je(s),1===t)0===e.tag?function(e){Ba=!0,Va(e)}(lc.bind(null,e)):Va(lc.bind(null,e)),ia(function(){0===(6&El)&&Ua()}),s=null;else{switch(yt(n)){case 1:s=Ke;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=nt}s=Mc(s,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ac(e,t){if(Zl=-1,Kl=0,0!==(6&El))throw Error(r(327));var s=e.callbackNode;if(jc()&&e.callbackNode!==s)return null;var n=ht(e,e===Ml?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var a=El;El|=2;var i=gc();for(Ml===e&&Dl===t||(Hl=null,Ul=Xe()+500,hc(e,t));;)try{bc();break}catch(l){mc(e,l)}_r(),Sl.current=i,El=a,null!==Pl?t=0:(Ml=null,Dl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=gt(e))&&(n=a,t=rc(e,a))),1===t)throw s=Ol,hc(e,0),oc(e,n),nc(e,Xe()),s;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var a=s[n],r=a.getSnapshot;a=a.value;try{if(!on(r(),a))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,n))&&(0!==(i=gt(e))&&(n=i,t=rc(e,i))),1===t))throw s=Ol,hc(e,0),oc(e,n),nc(e,Xe()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,zl,Hl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,zl,Hl),t);break}wc(e,zl,Hl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,zl,Hl),n);break}wc(e,zl,Hl);break;default:throw Error(r(329))}}}return nc(e,Xe()),e.callbackNode===s?ac.bind(null,e):null}function rc(e,t){var s=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=zl,zl=s,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),n=1<<s;e[s]=-1,t&=~n}}function lc(e){if(0!==(6&El))throw Error(r(327));jc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var s=xc(e,t);if(0!==e.tag&&2===s){var n=gt(e);0!==n&&(t=n,s=rc(e,n))}if(1===s)throw s=Ol,hc(e,0),oc(e,t),nc(e,Xe()),s;if(6===s)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Hl),nc(e,Xe()),null}function cc(e,t){var s=El;El|=1;try{return e(t)}finally{0===(El=s)&&(Ul=Xe()+500,Ba&&Ua())}}function dc(e){null!==Jl&&0===Jl.tag&&0===(6&El)&&jc();var t=El;El|=1;var s=Cl.transition,n=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=n,Cl.transition=s,0===(6&(El=t))&&Ua()}}function uc(){Al=Tl.current,Sa(Tl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,aa(s)),null!==Pl)for(s=Pl.return;null!==s;){var n=s;switch(tr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ta();break;case 3:Qr(),Sa(Ma),Sa(Ea),si();break;case 5:Zr(n);break;case 4:Qr();break;case 13:case 19:Sa(Kr);break;case 10:Cr(n.type._context);break;case 22:case 23:uc()}s=s.return}if(Ml=e,Pl=e=Tc(e.current,null),Dl=Al=t,Ll=0,Ol=null,Fl=Rl=Il=0,zl=Bl=null,null!==Dr){for(t=0;t<Dr.length;t++)if(null!==(n=(s=Dr[t]).interleaved)){s.interleaved=null;var a=n.next,r=s.pending;if(null!==r){var i=r.next;r.next=a,n.next=i}s.pending=n}Dr=null}return e}function mc(e,t){for(;;){var s=Pl;try{if(_r(),ni.current=Xi,ci){for(var n=ii.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ci=!1}if(ri=0,li=oi=ii=null,di=!1,ui=0,_l.current=null,null===s||null===s.return){Ll=1,Ol=t,Pl=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=xo(o);if(null!==g){g.flags&=-257,po(g,o,l,0,t),1&g.mode&&fo(i,d,t),c=d;var f=(t=g).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(r(426))}else if(ar&&1&l.mode){var p=xo(o);if(null!==p){0===(65536&p.flags)&&(p.flags|=256),po(p,o,l,0,t),gr(lo(c,l));break e}}i=c=lo(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Vr(i,mo(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yl||!Yl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Vr(i,go(i,l,t));break e}}i=i.return}while(null!==i)}yc(s)}catch(y){t=y,Pl===s&&null!==s&&(Pl=s=s.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=Xi,null===e?Xi:e}function fc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Ml||0===(268435455&Il)&&0===(268435455&Rl)||oc(Ml,Dl)}function xc(e,t){var s=El;El|=2;var n=gc();for(Ml===e&&Dl===t||(Hl=null,hc(e,t));;)try{pc();break}catch(a){mc(e,a)}if(_r(),El=s,Sl.current=n,null!==Pl)throw Error(r(261));return Ml=null,Dl=0,Ll}function pc(){for(;null!==Pl;)vc(Pl)}function bc(){for(;null!==Pl&&!Ge();)vc(Pl)}function vc(e){var t=Nl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?yc(e):Pl=t,_l.current=null}function yc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=qo(s,t,Al)))return void(Pl=s)}else{if(null!==(s=Jo(s,t)))return s.flags&=32767,void(Pl=s);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,s){var n=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,s,n){do{jc()}while(null!==Jl);if(0!==(6&El))throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-it(s),r=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~r}}(e,i),e===Ml&&(Pl=Ml=null,Dl=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||ql||(ql=!0,Mc(tt,function(){return jc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=El;El|=4,_l.current=null,function(e,t){if(ea=Wt,mn(e=hn())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch(w){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var g;h!==s||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(g=h.firstChild);)m=h,h=g;for(;;){if(h===e)break t;if(m===s&&++d===a&&(l=o),m===i&&++u===n&&(c=o),null!==(g=h.nextSibling))break;m=(h=m).parentNode}h=g}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ta={focusedElem:e,selectionRange:s},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,p=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),p);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=tl,tl=!1}(e,s),xl(s,e),gn(ta),Wt=!!ea,ta=ea=null,e.current=s,bl(s,e,a),Qe(),El=l,vt=o,Cl.transition=i}else e.current=s;if(ql&&(ql=!1,Jl=e,Gl=a),i=e.pendingLanes,0===i&&(Yl=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=$l,$l=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Ua()}(e,t,s,n)}finally{Cl.transition=a,vt=n}return null}function jc(){if(null!==Jl){var e=yt(Gl),t=Cl.transition,s=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Jl)var n=!1;else{if(e=Jl,Jl=null,Gl=0,0!==(6&El))throw Error(r(331));var a=El;for(El|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:sl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var m=(u=Zo).sibling,g=u.return;if(rl(u),u===d){Zo=null;break}if(null!==m){m.return=g,Zo=m;break}Zo=g}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var p=x.sibling;x.sibling=null,x=p}while(null!==x)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Zo=b;break e}Zo=i.return}}var v=e.current;for(Zo=v;null!==Zo;){var y=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Zo=y;else e:for(o=v;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(El=a,Ua(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{vt=s,Cl.transition=t}}return!1}function Nc(e,t,s){e=Br(e,t=mo(0,t=lo(s,t),1),1),t=ec(),null!==e&&(pt(e,1,t),nc(e,t))}function kc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){t=Br(t,e=go(t,e=lo(s,e),1),1),e=ec(),null!==t&&(pt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Ml===e&&(Dl&s)===s&&(4===Ll||3===Ll&&(130023424&Dl)===Dl&&500>Xe()-Vl?hc(e,0):Fl|=s),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Lr(e,t))&&(pt(e,t,s),nc(e,s))}function Cc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),_c(e,s)}function Ec(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),_c(e,s)}function Mc(e,t){return qe(e,t)}function Pc(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,s,n){return new Pc(e,t,s,n)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var s=e.alternate;return null===s?((s=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Lc(e,t,s,n,a,i){var o=2;if(n=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Oc(s.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Dc(12,s,t,2|a)).elementType=S,e.lanes=i,e;case M:return(e=Dc(13,s,t,a)).elementType=M,e.lanes=i,e;case P:return(e=Dc(19,s,t,a)).elementType=P,e.lanes=i,e;case T:return Ic(s,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case E:o=11;break e;case D:o=14;break e;case A:o=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dc(o,s,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Oc(e,t,s,n){return(e=Dc(7,e,n,t)).lanes=s,e}function Ic(e,t,s,n){return(e=Dc(22,e,n,t)).elementType=T,e.lanes=s,e.stateNode={isHidden:!1},e}function Rc(e,t,s){return(e=Dc(6,e,null,t)).lanes=s,e}function Fc(e,t,s){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,s,n,a,r,i,o,l){return e=new Bc(e,t,s,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Dc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ir(r),e}function Vc(e){if(!e)return Ca;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var s=e.type;if(Aa(s))return Oa(e,s,t)}return t}function Uc(e,t,s,n,a,r,i,o,l){return(e=zc(s,n,!0,e,0,r,0,o,l)).context=Vc(null),s=e.current,(r=Fr(n=ec(),a=tc(s))).callback=void 0!==t&&null!==t?t:null,Br(s,r,a),e.current.lanes=a,pt(e,a,n),nc(e,n),e}function Hc(e,t,s,n){var a=t.current,r=ec(),i=tc(a);return s=Vc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Fr(r,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Br(a,t,i))&&(sc(e,a,i,r),zr(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Yc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Nl=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ma.current)vo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return vo=!1,function(e,t,s){switch(t.tag){case 3:Mo(t),mr();break;case 5:Xr(t);break;case 1:Aa(t.type)&&Ia(t);break;case 4:Gr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_a(jr,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(_a(Kr,1&Kr.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Ro(e,t,s):(_a(Kr,1&Kr.current),null!==(e=Wo(e,t,s))?e.sibling:null);_a(Kr,1&Kr.current);break;case 19:if(n=0!==(s&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,s);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Kr,Kr.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,s)}return Wo(e,t,s)}(e,t,s);vo=0!==(131072&e.flags)}else vo=!1,ar&&0!==(1048576&t.flags)&&Ka(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ho(e,t),e=t.pendingProps;var a=Da(t,Ea.current);Mr(t,s),a=fi(null,t,n,e,a,s);var i=xi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(n)?(i=!0,Ia(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ir(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,s),t=Eo(null,t,n,!0,i,s)):(t.tag=0,ar&&i&&er(t),yo(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(n),e=to(n,e),a){case 0:t=_o(null,t,n,e,s);break e;case 1:t=Co(null,t,n,e,s);break e;case 11:t=wo(null,t,n,e,s);break e;case 14:t=jo(null,t,n,to(n.type,e),s);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,_o(e,t,n,a=t.elementType===n?a:to(n,a),s);case 1:return n=t.type,a=t.pendingProps,Co(e,t,n,a=t.elementType===n?a:to(n,a),s);case 3:e:{if(Mo(t),null===e)throw Error(r(387));n=t.pendingProps,a=(i=t.memoizedState).element,Rr(e,t),Ur(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Po(e,t,n,s,a=lo(Error(r(423)),t));break e}if(n!==a){t=Po(e,t,n,s,a=lo(Error(r(424)),t));break e}for(nr=ca(t.stateNode.containerInfo.firstChild),sr=t,ar=!0,rr=null,s=wr(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(mr(),n===a){t=Wo(e,t,s);break e}yo(e,t,n,s)}t=t.child}return t;case 5:return Xr(t),null===e&&cr(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,sa(n,a)?o=null:null!==i&&sa(n,i)&&(t.flags|=32),So(e,t),yo(e,t,o,s),t.child;case 6:return null===e&&cr(t),null;case 13:return Ro(e,t,s);case 4:return Gr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=yr(t,null,n,s):yo(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,wo(e,t,n,a=t.elementType===n?a:to(n,a),s);case 7:return yo(e,t,t.pendingProps,s),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,_a(jr,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===a.children&&!Ma.current){t=Wo(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Fr(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Er(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Er(o,s,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Mr(t,s),n=n(a=Pr(a)),t.flags|=1,yo(e,t,n,s),t.child;case 14:return a=to(n=t.type,t.pendingProps),jo(e,t,n,a=to(n.type,a),s);case 15:return No(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),Ho(e,t),t.tag=1,Aa(n)?(e=!0,Ia(t)):e=!1,Mr(t,s),ro(t,n,a),oo(t,n,a,s),Eo(null,t,n,!0,e,s);case 19:return Uo(e,t,s);case 22:return ko(e,t,s)}throw Error(r(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Kc(e,t,s,n,a){var r=s._reactRootContainer;if(r){var i=r;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}Hc(t,i,e,a)}else i=function(e,t,s,n,a){if(a){if("function"===typeof n){var r=n;n=function(){var e=Wc(i);r.call(e)}}var i=Uc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[ga]=i.current,Un(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ga]=l.current,Un(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,s,n)}),l}(s,t,e,a,n);return Wc(i)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[ga]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Tt.length&&0!==t&&t<Tt[s].priority;s++);Tt.splice(s,0,e),0===s&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(bt(t,1|s),nc(t,Xe()),0===(6&El)&&(Ul=Xe()+500,Ua()))}break;case 13:dc(function(){var t=Lr(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),Yc(e,1)}},jt=function(e){if(13===e.tag){var t=Lr(e,134217728);if(null!==t)sc(t,e,134217728,ec());Yc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Lr(e,t);if(null!==s)sc(s,e,t,ec());Yc(e,t)}},kt=function(){return vt},St=function(e,t){var s=vt;try{return vt=e,t()}finally{vt=s}},je=function(e,t,s){switch(t){case"input":if(Z(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(r(90));q(n),Z(n,a)}}}break;case"textarea":re(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ee=cc,Me=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,wa,_e,Ce,cc]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(sd),rt=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(r(200));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Qc(e))throw Error(r(299));var s=!1,n="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,s,0,n,a),e[ga]=t.current,Un(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Xc(t))throw Error(r(200));return Kc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Qc(e))throw Error(r(405));var n=null!=s&&s.hydratedSources||null,a=!1,i="",o=qc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=Uc(t,null,e,1,null!=s?s:null,a,0,i,o),e[ga]=t.current,Un(e),n)for(e=0;e<n.length;e++)a=(a=(s=n[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Gc(t)},t.render=function(e,t,s){if(!Xc(t))throw Error(r(200));return Kc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc(function(){Kc(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Xc(s))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Kc(e,t,s,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var r=Object.create(null);s.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,s.d(r,i),r}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/";var n,a=s(43),r=s.t(a,2),i=s(391),o=s(950),l=s.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,s,n){return void 0===s&&(s=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,t,s,a){void 0===a&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,l=n.Pop,h=null,x=p();function p(){return(o.state||{idx:null}).idx}function b(){l=n.Pop;let e=p(),t=null==e?null:e-x;x=e,h&&h({action:l,location:y.location,delta:t})}function v(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,s="string"===typeof e?e:f(e);return s=s.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==x&&(x=0,o.replaceState(c({},o.state,{idx:x}),""));let y={get action(){return l},get location(){return e(r,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(d,b),h=e,()=>{r.removeEventListener(d,b),h=null}},createHref:e=>t(r,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=n.Push;let a=g(y.location,e,t);s&&s(a,e),x=p()+1;let c=m(a,x),d=y.createHref(a);try{o.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;r.location.assign(d)}i&&h&&h({action:l,location:y.location,delta:1})},replace:function(e,t){l=n.Replace;let a=g(y.location,e,t);s&&s(a,e),x=p();let r=m(a,x),c=y.createHref(a);o.replaceState(r,"",c),i&&h&&h({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,s){return void 0===s&&(s="/"),y(e,t,s,!1)}function y(e,t,s,n){let a=L(("string"===typeof t?x(t):t).pathname||"/",s);if(null==a)return null;let r=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let i=null;for(let o=0;null==i&&o<r.length;++o){let e=T(a);i=D(r[o],e,n)}return i}function w(e,t,s,n){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===n&&(n="");let a=(e,a,r)=>{let i={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=B([n,i.relativePath]),l=s.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let n of j(e.path))a(e,t,n);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,a=s.endsWith("?"),r=s.replace(/\?$/,"");if(0===n.length)return a?[r,""]:[r];let i=j(n.join("/")),o=[];return o.push(...i.map(e=>""===e?r:[r,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,k=3,S=2,_=1,C=10,E=-2,M=e=>"*"===e;function P(e,t){let s=e.split("/"),n=s.length;return s.some(M)&&(n+=E),t&&(n+=S),s.filter(e=>!M(e)).reduce((e,t)=>e+(N.test(t)?k:""===t?_:C),n)}function D(e,t,s){void 0===s&&(s=!1);let{routesMeta:n}=e,a={},r="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&s&&!n[n.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:B([r,d.pathname]),pathnameBase:z(B([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=B([r,d.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let r=new RegExp(a,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let r=a[0],i=r.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce((e,t,s)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[s]||"";i=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:r,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function O(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let s=I(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function F(e,t,s,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=x(e):(a=c({},e),u(!a.pathname||!a.pathname.includes("?"),O("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),O("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),O("#","search","hash",a)));let r,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)r=s;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:s,search:n="",hash:a=""}="string"===typeof e?x(e):e,r=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:r,search:V(n),hash:U(a)}}(a,r),d=o&&"/"!==o&&o.endsWith("/"),h=(i||"."===o)&&s.endsWith("/");return l.pathname.endsWith("/")||!d&&!h||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],$=(new Set(W),["get",...W]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Y.apply(this,arguments)}const q=a.createContext(null);const J=a.createContext(null);const G=a.createContext(null);const Q=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=a.createContext(null);function K(){return null!=a.useContext(Q)}function ee(){return K()||u(!1),a.useContext(Q).location}function te(e){a.useContext(G).static||a.useLayoutEffect(e)}function se(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=fe(he.UseNavigateStable),s=a.useRef(!1);te(()=>{s.current=!0});let n=a.useCallback(function(n,a){void 0===a&&(a={}),s.current&&("number"===typeof n?e.navigate(n):e.navigate(n,Y({fromRouteId:t},a)))},[e,t]);return n}():function(){K()||u(!1);let e=a.useContext(q),{basename:t,future:s,navigator:n}=a.useContext(G),{matches:r}=a.useContext(X),{pathname:i}=ee(),o=JSON.stringify(R(r,s.v7_relativeSplatPath)),l=a.useRef(!1);te(()=>{l.current=!0});let c=a.useCallback(function(s,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof s)return void n.go(s);let r=F(s,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:B([t,r.pathname])),(a.replace?n.replace:n.push)(r,a.state,a)},[t,n,o,i,e]);return c}()}function ne(){let{matches:e}=a.useContext(X),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:s}=void 0===t?{}:t,{future:n}=a.useContext(G),{matches:r}=a.useContext(X),{pathname:i}=ee(),o=JSON.stringify(R(r,n.v7_relativeSplatPath));return a.useMemo(()=>F(e,JSON.parse(o),i,"path"===s),[e,o,i,s])}function re(e,t,s,r){K()||u(!1);let{navigator:i}=a.useContext(G),{matches:o}=a.useContext(X),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=ee();if(t){var g;let e="string"===typeof t?x(t):t;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||u(!1),h=e}else h=m;let f=h.pathname||"/",p=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:p});let y=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:B([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,s,r);return t&&y?a.createElement(Q.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:n.Pop}},y):y}function ie(){let e=function(){var e;let t=a.useContext(Z),s=ge(he.UseRouteError),n=fe(he.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:r},s):null,null)}const oe=a.createElement(ie,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:s,children:n}=e,r=a.useContext(q);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement(X.Provider,{value:t},n)}function de(e,t,s,n){var r;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===n&&(n=null),null==e){var i;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let o=e,l=null==(r=s)?void 0:r.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:n}=s,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,r)=>{let i,u=!1,h=null,m=null;var g;s&&(i=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||oe,c&&(d<0&&0===r?(g="route-fallback",!1||xe[g]||(xe[g]=!0),u=!0,m=null):d===r&&(u=!0,m=n.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),x=()=>{let t;return t=i?h:u?m:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ce,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=s},children:t})};return s&&(n.route.ErrorBoundary||n.route.errorElement||0===r)?a.createElement(le,{location:s.location,revalidation:s.revalidation,component:h,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=a.useContext(q);return t||u(!1),t}function ge(e){let t=a.useContext(J);return t||u(!1),t}function fe(e){let t=function(){let e=a.useContext(X);return e||u(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||u(!1),s.route.id}const xe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function be(e){let{to:t,replace:s,state:n,relative:r}=e;K()||u(!1);let{future:i,static:o}=a.useContext(G),{matches:l}=a.useContext(X),{pathname:c}=ee(),d=se(),h=F(t,R(l,i.v7_relativeSplatPath),c,"path"===r),m=JSON.stringify(h);return a.useEffect(()=>d(JSON.parse(m),{replace:s,state:n,relative:r}),[d,m,r,s,n]),null}function ve(e){u(!1)}function ye(e){let{basename:t="/",children:s=null,location:r,navigationType:i=n.Pop,navigator:o,static:l=!1,future:c}=e;K()&&u(!1);let d=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:d,navigator:o,static:l,future:Y({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof r&&(r=x(r));let{pathname:m="/",search:g="",hash:f="",state:p=null,key:b="default"}=r,v=a.useMemo(()=>{let e=L(m,d);return null==e?null:{location:{pathname:e,search:g,hash:f,state:p,key:b},navigationType:i}},[d,m,g,f,p,b,i]);return null==v?null:a.createElement(G.Provider,{value:h},a.createElement(Q.Provider,{children:s,value:v}))}function we(e){let{children:t,location:s}=e;return re(je(t),s)}new Promise(()=>{});a.Component;function je(e,t){void 0===t&&(t=[]);let s=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let r=[...t,n];if(e.type===a.Fragment)return void s.push.apply(s,je(e.props.children,r));e.type!==ve&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,r)),s.push(i)}),s}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ne.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Fd){}new Map;const _e=r.startTransition;l.flushSync,r.useId;function Ce(e){let{basename:t,children:s,future:n,window:r}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),p(function(e,t){let{pathname:s,search:n,hash:a}=e.location;return g("",{pathname:s,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=a.useCallback(e=>{u&&_e?_e(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>pe(n),[n]),a.createElement(ye,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:l,future:n})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let s,{onClick:n,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,g=ke(e,Se),{basename:x}=a.useContext(G),p=!1;if("string"===typeof d&&Me.test(d)&&(s=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),s=L(t.pathname,x);t.origin===e.origin&&null!=s?d=s+t.search+t.hash:p=!0}catch(Fd){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;K()||u(!1);let{basename:n,navigator:r}=a.useContext(G),{hash:i,pathname:o,search:l}=ae(e,{relative:s}),c=o;return"/"!==n&&(c="/"===o?n:B([n,o])),r.createHref({pathname:c,search:l,hash:i})}(d,{relative:r}),v=function(e,t){let{target:s,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=se(),d=ee(),u=ae(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==n?n:f(d)===f(u);c(e,{replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,r,s,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:r,viewTransition:m});return a.createElement("a",Ne({},g,{href:s||b,onClick:p||i?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var De,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Le(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:t+""}function Oe(e,t,s){return(t=Le(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Re(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(s),!0).forEach(function(t){Oe(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var Fe=s(579);const Be=(0,a.createContext)(),ze=()=>{const e=(0,a.useContext)(Be);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ve=e=>{let{children:t}=e;const[s,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(localStorage.getItem("token")),[o,l]=(0,a.useState)(!0),c="http://localhost:8080/api";(0,a.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{i(e),n(JSON.parse(t)),console.log("Restored user session from localStorage")}catch(s){console.error("Error parsing stored user data:",s),localStorage.removeItem("token"),localStorage.removeItem("user")}fetch("".concat(c,"/health")).then(e=>{e.ok?console.log("Backend is reachable"):console.warn("Backend responded with non-OK status:",e.status)}).catch(e=>{console.error("Backend connectivity test failed:",e)}),l(!1)},[]);const d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),n(null)},u=()=>r?{Authorization:"Bearer ".concat(r)}:{},h={user:s,token:r,loading:o,login:async(e,t)=>{try{console.log("Attempting login for:",e);const a=await fetch("".concat(c,"/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(console.log("Login response status:",a.status),!a.ok){let e="Login failed";try{e=(await a.json()).message||"Server error: ".concat(a.status)}catch(s){console.error("Error parsing error response:",s),e="HTTP ".concat(a.status,": ").concat(a.statusText)}throw new Error(e)}const r=await a.json();console.log("Login successful for user:",r.username);const o={id:r.id,username:r.username,email:r.email,roles:r.roles};return localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(o)),i(r.token),n(o),{success:!0,user:o}}catch(a){return console.error("Login error:",a),"Failed to fetch"===a.message?{success:!1,error:"Unable to connect to server. Please check your internet connection and try again."}:{success:!1,error:a.message}}},register:async e=>{try{const t="".concat(c,"/auth/signup");console.log("Attempting registration to:",t),console.log("Registration data:",e);const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("Response status:",s.status),console.log("Response headers:",s.headers),!s.ok){const e=await s.text();let t;console.error("Registration failed with status:",s.status),console.error("Error response:",e);try{t=JSON.parse(e)}catch(Fd){t={message:e||"Registration failed"}}throw new Error(t.message||"Registration failed")}const n=await s.json();return console.log("Registration successful:",n),{success:!0,message:n.message}}catch(t){return console.error("Registration error:",t),{success:!1,error:t.message}}},logout:d,isAuthenticated:()=>!!r&&!!s,isAdmin:()=>{var e;return(null===s||void 0===s||null===(e=s.roles)||void 0===e?void 0:e.includes("ROLE_ADMIN"))||!1},apiCall:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.startsWith("http")?e:"".concat(c).concat(e),n=Re({headers:Re(Re({"Content-Type":"application/json"},u()),t.headers)},t);try{const e=await fetch(s,n);if(401===e.status)throw d(),new Error("Authentication required");if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||"HTTP ".concat(e.status))}return await e.json()}catch(a){throw console.error("API call error:",a),a}},getAuthHeader:u};return(0,Fe.jsx)(Be.Provider,{value:h,children:t})};function Ue(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}const He=["title","titleId"];function We(e,t){let{title:s,titleId:n}=e,r=Ue(e,He);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const $e=a.forwardRef(We),Ye=["title","titleId"];function qe(e,t){let{title:s,titleId:n}=e,r=Ue(e,Ye);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Je=a.forwardRef(qe),Ge=()=>{var e,t;const{user:s,logout:n,isAuthenticated:r}=ze(),[i,o]=(0,a.useState)(!1),l=se(),c=()=>{n(),l("/"),o(!1)};return(0,Fe.jsx)("nav",{className:"sticky top-0 z-50 backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(10, 10, 11, 0.95), rgba(26, 27, 35, 0.95))",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 215, 0, 0.1)",borderBottom:"1px solid rgba(255, 215, 0, 0.1)"},children:(0,Fe.jsxs)("div",{className:"container-main",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Fe.jsxs)(Pe,{to:"/",className:"flex items-center space-x-3 fade-in group",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("span",{className:"text-4xl filter drop-shadow-lg transition-transform duration-300 group-hover:scale-110",children:"\ud83c\udfac"}),(0,Fe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-400 to-red-600 rounded-full blur opacity-30 group-hover:opacity-60 transition-opacity duration-300"})]}),(0,Fe.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-red-400 via-red-500 to-red-600 bg-clip-text text-transparent",style:{textShadow:"0 0 20px rgba(255, 7, 58, 0.5)",fontFamily:"'Cinzel', serif"},children:"CinemaFlix"})]}),(0,Fe.jsx)("div",{className:"hidden md:flex items-center space-x-6",children:r()?(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsxs)("button",{className:"relative p-2 text-gray-300 hover:text-red-400 transition-colors duration-300 group",children:[(0,Fe.jsx)($e,{className:"h-6 w-6"}),(0,Fe.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:"3"}),(0,Fe.jsx)("span",{className:"absolute inset-0 rounded-full bg-red-500/20 scale-0 group-hover:scale-100 transition-transform duration-300"})]}),(0,Fe.jsxs)(Pe,{to:"/user/wishlist",className:"relative p-2 text-gray-300 hover:text-red-400 transition-colors duration-300 group",children:[(0,Fe.jsx)(Je,{className:"h-6 w-6"}),(0,Fe.jsx)("span",{className:"absolute inset-0 rounded-full bg-red-500/20 scale-0 group-hover:scale-100 transition-transform duration-300"})]}),(0,Fe.jsxs)("div",{className:"relative group",children:[(0,Fe.jsxs)("button",{className:"flex items-center space-x-3 transition-all duration-200",children:[(0,Fe.jsx)("span",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",boxShadow:"var(--shadow-md)"},children:null!==s&&void 0!==s&&s.name?s.name.charAt(0).toUpperCase():"U"}),(0,Fe.jsx)("span",{style:{color:"var(--text-primary)",fontWeight:"var(--font-weight-medium)"},children:(null===s||void 0===s?void 0:s.name)||"User"})]}),(0,Fe.jsx)("div",{className:"absolute right-0 mt-3 w-52 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 slide-up",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",border:"1px solid var(--neutral-200)"},children:(0,Fe.jsxs)("div",{style:{padding:"var(--space-sm)"},children:[(0,Fe.jsx)(Pe,{to:"/profile",className:"block px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--neutral-100)",e.target.style.color="var(--brand-primary)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="var(--text-primary)"},children:"Profile"}),(null===s||void 0===s||null===(e=s.roles)||void 0===e?void 0:e.some(e=>"ROLE_ADMIN"===e.name))&&(0,Fe.jsx)(Pe,{to:"/admin",className:"block px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--neutral-100)",e.target.style.color="var(--brand-primary)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="var(--text-primary)"},children:"Admin Dashboard"}),(0,Fe.jsx)("button",{onClick:c,className:"block w-full text-left px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--neutral-100)",e.target.style.color="var(--brand-primary)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="var(--text-primary)"},children:"Logout"})]})})]})]}):(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsx)(Pe,{to:"/login",className:"bg-white text-neutral-900 px-6 py-3 rounded-xl text-lg font-medium hover:bg-neutral-100 transition-colors",style:{textDecoration:"none"},children:"Login"}),(0,Fe.jsx)(Pe,{to:"/register",className:"bg-white text-neutral-900 px-6 py-3 rounded-xl text-lg font-medium hover:bg-neutral-100 transition-colors",style:{textDecoration:"none"},children:"Sign Up"})]})}),(0,Fe.jsx)("button",{onClick:()=>{o(!i)},className:"md:hidden flex items-center justify-center w-8 h-8 text-gray-600",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),i&&(0,Fe.jsx)("div",{className:"md:hidden bg-white border-t border-gray-200",children:(0,Fe.jsxs)("div",{className:"py-4 space-y-4",children:[(0,Fe.jsx)(Pe,{to:"/movies",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"Movies"}),(0,Fe.jsx)(Pe,{to:"/events",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"Events"}),(0,Fe.jsx)(Pe,{to:"/sports",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"Sports"}),r()?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Pe,{to:"/my-bookings",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"My Bookings"}),(0,Fe.jsx)(Pe,{to:"/profile",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"Profile"}),(null===s||void 0===s||null===(t=s.roles)||void 0===t?void 0:t.some(e=>"ROLE_ADMIN"===e.name))&&(0,Fe.jsx)(Pe,{to:"/admin",className:"block text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>o(!1),children:"Admin Dashboard"}),(0,Fe.jsx)("button",{onClick:c,className:"block w-full text-left text-gray-600 hover:text-blue-600 transition-colors",children:"Logout"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Pe,{to:"/login",className:"block text-blue-600 hover:text-blue-800 font-medium transition-colors",onClick:()=>o(!1),children:"Login"}),(0,Fe.jsx)(Pe,{to:"/register",className:"block bg-white text-neutral-900 px-4 py-2 rounded-md hover:bg-neutral-100 transition-colors text-center",onClick:()=>o(!1),children:"Sign Up"})]})]})})]})})},Qe=()=>(0,Fe.jsx)("footer",{className:"bg-gray-800 text-white mt-16",children:(0,Fe.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Fe.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Fe.jsx)("span",{className:"text-2xl",children:"\ud83c\udfac"}),(0,Fe.jsx)("span",{className:"text-xl font-bold",children:"MovieBook"})]}),(0,Fe.jsx)("p",{className:"text-gray-400 mb-4",children:"Your favorite destination for booking movies, events, and sports tickets. Experience entertainment like never before with our easy-to-use platform."}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("a",{href:"https://twitter.com/moviebook",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),(0,Fe.jsx)("a",{href:"https://facebook.com/moviebook",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),(0,Fe.jsx)("a",{href:"https://pinterest.com/moviebook",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Pinterest",children:(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.404-5.957 1.404-5.957s-.359-.719-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.747.099.120.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.407-1.507-.703-2.448-2.909-2.448-4.680 0-3.123 2.498-8.133 7.431-8.133 3.905 0 6.949 2.748 6.949 6.98 0 4.675-2.624 8.395-6.4 8.395-1.295 0-2.515-.69-2.93-1.518l-.797 3.063C4.318 19.799 3.924 20.533 3.467 21.325 5.312 21.777 8.630 22 12.017 22c6.624 0 11.990-5.367 11.990-11.987C24.007 5.367 18.641.001.012.017 0z"})})}),(0,Fe.jsx)("a",{href:"https://instagram.com/moviebook",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,Fe.jsxs)("ul",{className:"space-y-2",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)(Pe,{to:"/movies",className:"text-gray-400 hover:text-white transition-colors",children:"Movies"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(Pe,{to:"/events",className:"text-gray-400 hover:text-white transition-colors",children:"Events"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(Pe,{to:"/sports",className:"text-gray-400 hover:text-white transition-colors",children:"Sports"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(Pe,{to:"/my-bookings",className:"text-gray-400 hover:text-white transition-colors",children:"My Bookings"})})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,Fe.jsxs)("ul",{className:"space-y-2",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/help",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),(0,Fe.jsxs)("div",{className:"border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[(0,Fe.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2025 MovieBook. All rights reserved."}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:"Built with"}),(0,Fe.jsx)("span",{className:"text-blue-400",children:"React"}),(0,Fe.jsx)("span",{className:"text-gray-400",children:"+"}),(0,Fe.jsx)("span",{className:"text-green-400",children:"Spring Boot"})]})]})]})}),Xe=()=>{const{isAuthenticated:e,user:t}=ze();return(0,Fe.jsxs)("div",{className:"min-h-screen bg-neutral-900 text-white",children:[(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-black/80 to-neutral-800",children:(0,Fe.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h1",{className:"text-4xl md:text-6xl font-extrabold mb-6 text-red-500",children:"\ud83c\udfac Welcome to MovieBook"}),(0,Fe.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-neutral-300",children:"Your ultimate destination for booking movies, events & sports"}),e()?(0,Fe.jsxs)("div",{className:"space-x-4",children:[(0,Fe.jsxs)("p",{className:"text-lg mb-4 text-neutral-300",children:["Welcome back, ",null===t||void 0===t?void 0:t.name,"! \ud83d\udc4b"]}),(0,Fe.jsx)(Pe,{to:"/movies",className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Browse Movies"}),(0,Fe.jsx)(Pe,{to:"/my-bookings",className:"border-2 border-red-600 text-red-300 px-8 py-3 rounded-lg font-semibold hover:bg-red-600 hover:text-white transition-colors",children:"My Bookings"})]}):(0,Fe.jsxs)("div",{className:"space-x-4",children:[(0,Fe.jsx)(Pe,{to:"/register",className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Get Started"}),(0,Fe.jsx)(Pe,{to:"/movies",className:"border-2 border-red-600 text-red-300 px-8 py-3 rounded-lg font-semibold hover:bg-red-600 hover:text-white transition-colors",children:"Browse Movies"})]})]})})}),(0,Fe.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,Fe.jsxs)("div",{className:"text-center mb-12",children:[(0,Fe.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Everything You Need for Entertainment"}),(0,Fe.jsx)("p",{className:"text-lg text-neutral-300",children:"Book tickets, manage your entertainment, and never miss out on the fun"})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Fe.jsx)(Pe,{to:"/movies",className:"group",children:(0,Fe.jsxs)("div",{className:"bg-neutral-800/60 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow border border-neutral-700",children:[(0,Fe.jsx)("div",{className:"text-4xl mb-4 text-center",children:"\ud83c\udfac"}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-white mb-2 text-center",children:"Latest Movies"}),(0,Fe.jsx)("p",{className:"text-neutral-300 text-center mb-4",children:"Discover and book tickets for the latest blockbusters and indie films"}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsx)("span",{className:"text-red-400 group-hover:text-red-500 font-medium",children:"Explore Movies \u2192"})})]})}),(0,Fe.jsx)(Pe,{to:"/events",className:"group",children:(0,Fe.jsxs)("div",{className:"bg-neutral-800/60 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow border border-neutral-700",children:[(0,Fe.jsx)("div",{className:"text-4xl mb-4 text-center",children:"\ud83c\udfaa"}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-white mb-2 text-center",children:"Live Events"}),(0,Fe.jsx)("p",{className:"text-neutral-300 text-center mb-4",children:"Concerts, comedy shows, theater performances and more"}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsx)("span",{className:"text-red-400 group-hover:text-red-500 font-medium",children:"Browse Events \u2192"})})]})}),(0,Fe.jsx)(Pe,{to:"/sports",className:"group",children:(0,Fe.jsxs)("div",{className:"bg-neutral-800/60 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow border border-neutral-700",children:[(0,Fe.jsx)("div",{className:"text-4xl mb-4 text-center",children:"\u26bd"}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-white mb-2 text-center",children:"Sports Matches"}),(0,Fe.jsx)("p",{className:"text-neutral-300 text-center mb-4",children:"Cricket, football, basketball and other sporting events"}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsx)("span",{className:"text-red-400 group-hover:text-red-500 font-medium",children:"View Sports \u2192"})})]})})]})]}),(0,Fe.jsx)("div",{className:"bg-neutral-800/40 py-16",children:(0,Fe.jsx)("div",{className:"container mx-auto px-4",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:"10K+"}),(0,Fe.jsx)("div",{className:"text-neutral-300",children:"Movies Available"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:"500+"}),(0,Fe.jsx)("div",{className:"text-neutral-300",children:"Cinema Halls"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:"1M+"}),(0,Fe.jsx)("div",{className:"text-neutral-300",children:"Happy Customers"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:"50+"}),(0,Fe.jsx)("div",{className:"text-neutral-300",children:"Cities Covered"})]})]})})}),(0,Fe.jsx)("div",{className:"bg-neutral-900 text-white py-16",children:(0,Fe.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,Fe.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Your Entertainment Journey?"}),(0,Fe.jsx)("p",{className:"text-lg text-neutral-300 mb-8",children:"Join thousands of users who trust MovieBook for their entertainment needs"}),e()?(0,Fe.jsx)(Pe,{to:"/movies",className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Start Booking"}):(0,Fe.jsx)(Pe,{to:"/register",className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Sign Up Now"})]})})]})},Ze=()=>{const[e,t]=(0,a.useState)({email:"",password:""}),[s,n]=(0,a.useState)({}),[r,i]=(0,a.useState)(!1),{login:o}=ze(),l=se(),c=e=>{const{name:a,value:r}=e.target;t(e=>Re(Re({},e),{},{[a]:r})),s[a]&&n(e=>Re(Re({},e),{},{[a]:""}))};return(0,Fe.jsxs)("div",{className:"min-h-screen bg-neutral-900 text-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Fe.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Fe.jsx)("div",{className:"flex justify-center",children:(0,Fe.jsx)("span",{className:"text-4xl",children:"\ud83c\udfac"})}),(0,Fe.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-red-500",children:"Sign in to your account"}),(0,Fe.jsxs)("p",{className:"mt-2 text-center text-sm text-neutral-300",children:["Or"," ",(0,Fe.jsx)(Pe,{to:"/register",className:"font-medium text-red-400 hover:text-red-300",children:"create a new account"})]})]}),(0,Fe.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Fe.jsxs)("div",{className:"bg-neutral-800/60 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-neutral-700",children:[(0,Fe.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const s=(()=>{const t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",t})();if(Object.keys(s).length>0)n(s);else{i(!0),n({});try{const t=await o(e.email,e.password);if(t.success){var a,r;const e=null===(a=t.user)||void 0===a||null===(r=a.roles)||void 0===r?void 0:r.includes("ROLE_ADMIN");l(e?"/admin/dashboard":"/dashboard",{replace:!0})}else n({submit:t.error})}catch(c){n({submit:"An unexpected error occurred"})}finally{i(!1)}}},children:[s.submit&&(0,Fe.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,Fe.jsx)("div",{className:"flex",children:(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:s.submit})})})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-300",children:"Email address"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:c,className:"input ".concat(s.email?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Enter your email"}),s.email&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.email})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-300",children:"Password"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:c,className:"input ".concat(s.password?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Enter your password"}),s.password&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.password})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,Fe.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-300",children:"Remember me"})]}),(0,Fe.jsx)("div",{className:"text-sm",children:(0,Fe.jsx)("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("button",{type:"submit",disabled:r,className:"bg-red-600 hover:bg-red-700 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),(0,Fe.jsxs)("div",{className:"mt-6",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Fe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Fe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Fe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Demo Credentials"})})]}),(0,Fe.jsxs)("div",{className:"mt-6 bg-neutral-800/30 border border-neutral-700 rounded-md p-4",children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-neutral-300 mb-2",children:"Test Accounts:"}),(0,Fe.jsxs)("div",{className:"text-xs text-neutral-300 space-y-1",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Admin:"})," admin@moviebook.com / password123"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"User:"})," user@moviebook.com / password123"]})]})]})]})]})})]})},Ke=()=>{const[e,t]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),[s,n]=(0,a.useState)({}),[r,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),{register:c}=ze(),d=se(),u=e=>{const{name:a,value:r}=e.target;t(e=>Re(Re({},e),{},{[a]:r})),s[a]&&n(e=>Re(Re({},e),{},{[a]:""}))};return o?(0,Fe.jsx)("div",{className:"min-h-screen bg-neutral-900 text-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Fe.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Fe.jsxs)("div",{className:"bg-neutral-800/60 py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center border border-neutral-700",children:[(0,Fe.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Fe.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Account Created Successfully!"}),(0,Fe.jsx)("p",{className:"text-neutral-300",children:"Redirecting to login page..."})]})})}):(0,Fe.jsxs)("div",{className:"min-h-screen bg-neutral-900 text-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Fe.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Fe.jsx)("div",{className:"flex justify-center",children:(0,Fe.jsx)("span",{className:"text-4xl",children:"\ud83c\udfac"})}),(0,Fe.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-red-500",children:"Create your account"}),(0,Fe.jsxs)("p",{className:"mt-2 text-center text-sm text-neutral-300",children:["Or"," ",(0,Fe.jsx)(Pe,{to:"/login",className:"font-medium text-red-400 hover:text-red-300",children:"sign in to your existing account"})]})]}),(0,Fe.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Fe.jsx)("div",{className:"bg-neutral-800/60 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-neutral-700",children:(0,Fe.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const s=(()=>{const t={};return e.name?e.name.length<2&&(t.name="Name must be at least 2 characters"):t.name="Name is required",e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",e.phone&&!/^\+?[\d\s\-()]{10,}$/.test(e.phone)&&(t.phone="Please enter a valid phone number"),t})();if(Object.keys(s).length>0)n(s);else{i(!0),n({});try{const t={fullName:e.name,email:e.email,password:e.password,phoneNumber:e.phone||null},s=await c(t);s.success?(l(!0),setTimeout(()=>{d("/login",{state:{message:"Registration successful! Please sign in with your credentials."}})},2e3)):n({submit:s.error})}catch(a){n({submit:"An unexpected error occurred"})}finally{i(!1)}}},children:[s.submit&&(0,Fe.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,Fe.jsx)("div",{className:"flex",children:(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:s.submit})})})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:e.name,onChange:u,className:"input ".concat(s.name?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Enter your full name"}),s.name&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.name})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:u,className:"input ".concat(s.email?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Enter your email"}),s.email&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.email})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:e.phone,onChange:u,className:"input ".concat(s.phone?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Enter your phone number"}),s.phone&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.phone})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:e.password,onChange:u,className:"input ".concat(s.password?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Create a password"}),s.password&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.password})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,Fe.jsxs)("div",{className:"mt-1",children:[(0,Fe.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:u,className:"input ".concat(s.confirmPassword?"border-red-500 focus:border-red-500 focus:ring-red-500":""),style:{background:"#f8fafc"},placeholder:"Confirm your password"}),s.confirmPassword&&(0,Fe.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s.confirmPassword})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,Fe.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-neutral-300",children:["I agree to the"," ",(0,Fe.jsx)("a",{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",(0,Fe.jsx)("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("button",{type:"submit",disabled:r,className:"bg-red-600 hover:bg-red-700 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})})]})})})]})},et=["title","titleId"];function tt(e,t){let{title:s,titleId:n}=e,r=Ue(e,et);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const st=a.forwardRef(tt),nt=["title","titleId"];function at(e,t){let{title:s,titleId:n}=e,r=Ue(e,nt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rt=a.forwardRef(at),it=["title","titleId"];function ot(e,t){let{title:s,titleId:n}=e,r=Ue(e,it);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const lt=a.forwardRef(ot),ct=["title","titleId"];function dt(e,t){let{title:s,titleId:n}=e,r=Ue(e,ct);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const ut=a.forwardRef(dt),ht=["title","titleId"];function mt(e,t){let{title:s,titleId:n}=e,r=Ue(e,ht);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const gt=a.forwardRef(mt),ft=["title","titleId"];function xt(e,t){let{title:s,titleId:n}=e,r=Ue(e,ft);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const pt=a.forwardRef(xt),bt=()=>{const e=se(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)(new Set),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[g,f]=(0,a.useState)("all");(0,a.useEffect)(()=>{console.log("Movies - Component mounted"),x();const e=e=>{"adminMovies"===e.key&&(console.log("Movies - Admin movies updated, reloading..."),x())},t=()=>{document.hidden||(console.log("Movies - Visibility change"),x())};return window.addEventListener("storage",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("storage",e),document.removeEventListener("visibilitychange",t)}},[]);const x=()=>{console.log("Movies - loadMovies called - UPDATED VERSION");try{r(!0);const e=JSON.parse(localStorage.getItem("adminMovies")||"[]");console.log("Movies - Raw admin movies:",e);const t=e.filter(e=>!1!==e.isActive).map(e=>({id:e.id,title:e.title,genre:e.genre,language:e.language,rating:8.5,duration:e.durationMinutes,releaseDate:e.releaseDate,poster:e.posterUrl||"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",isNowShowing:e.isNowShowing||!1,price:300}));console.log("Movies - Transformed movies:",t),console.log("Movies - Setting movies count:",t.length),s(t);const n=localStorage.getItem("movieWishlist");n&&o(new Set(JSON.parse(n)))}catch(e){console.error("Error loading movies:",e),s([])}finally{r(!1)}},p=t.filter(e=>{const t=e.title.toLowerCase().includes(l.toLowerCase())||e.genre.toLowerCase().includes(l.toLowerCase()),s=!d||e.genre.toLowerCase().includes(d.toLowerCase()),n=!h||e.language===h,a="all"===g||"showing"===g&&e.isNowShowing||"coming"===g&&!e.isNowShowing;return t&&s&&n&&a});console.log("Movies - Total movies loaded:",t.length),console.log("Movies - Filtered movies count:",p.length),console.log("Movies - Current filters:",{searchTerm:l,selectedGenre:d,selectedLanguage:h,selectedStatus:g});const b=t=>{let{movie:s}=t;const n=i.has(s.id);return(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl overflow-hidden group hover:scale-105 transition-all duration-300 border border-gray-700 hover:border-red-500/50",children:[(0,Fe.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Fe.jsx)("img",{src:s.poster,alt:s.title,className:"w-full h-80 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{const t=new Set(i);t.has(e)?t.delete(e):t.add(e),o(t);const s=[...t];localStorage.setItem("movieWishlist",JSON.stringify(s)),window.dispatchEvent(new StorageEvent("storage",{key:"movieWishlist",newValue:JSON.stringify(s)}))})(s.id),className:"absolute top-4 right-4 p-2 rounded-full transition-all duration-300 ".concat(n?"bg-red-500 text-white":"bg-black/50 text-white hover:bg-red-500"),children:n?(0,Fe.jsx)(pt,{className:"h-5 w-5"}):(0,Fe.jsx)(Je,{className:"h-5 w-5"})}),s.isNowShowing?(0,Fe.jsx)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Now Showing"}):(0,Fe.jsx)("div",{className:"absolute top-4 left-4 bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-semibold",children:"Coming Soon"}),(0,Fe.jsxs)("div",{className:"absolute bottom-4 left-4 flex items-center bg-black/60 rounded-full px-3 py-1",children:[(0,Fe.jsx)(st,{className:"h-4 w-4 text-yellow-400 mr-1"}),(0,Fe.jsx)("span",{className:"text-white text-sm font-semibold",children:s.rating})]})]}),(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1",children:s.title}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:s.genre}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 mr-1"}),(0,Fe.jsxs)("span",{children:[s.duration," min"]})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)(lt,{className:"h-4 w-4 mr-1"}),(0,Fe.jsx)("span",{children:new Date(s.releaseDate).getFullYear()})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fe.jsxs)("span",{className:"text-2xl font-bold text-red-500",children:["\u20b9",s.price]}),(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:s.language})]}),s.isNowShowing?(0,Fe.jsxs)("button",{onClick:()=>{return t=s.id,void e("/book/".concat(t));var t},className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-semibold transition-colors duration-300 flex items-center justify-center",children:[(0,Fe.jsx)(ut,{className:"h-5 w-5 mr-2"}),"Book Now"]}):(0,Fe.jsxs)("button",{disabled:!0,className:"w-full bg-gray-600 text-gray-400 py-3 rounded-lg font-semibold cursor-not-allowed flex items-center justify-center",children:[(0,Fe.jsx)(lt,{className:"h-5 w-5 mr-2"}),"Coming Soon"]})]})]})};return n?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4"}),(0,Fe.jsx)("p",{className:"text-white",children:"Loading movies..."})]})}):(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 py-12",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent mb-4",children:"Browse Movies"}),(0,Fe.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Discover amazing movies and book your tickets instantly"})]})})}),(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Find Your Perfect Movie"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search movies...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-red-500 focus:outline-none"})]}),(0,Fe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-red-500 focus:outline-none",children:[(0,Fe.jsx)("option",{value:"",children:"All Genres"}),(0,Fe.jsx)("option",{value:"action",children:"Action"}),(0,Fe.jsx)("option",{value:"adventure",children:"Adventure"}),(0,Fe.jsx)("option",{value:"animation",children:"Animation"}),(0,Fe.jsx)("option",{value:"comedy",children:"Comedy"}),(0,Fe.jsx)("option",{value:"family",children:"Family"}),(0,Fe.jsx)("option",{value:"sci-fi",children:"Sci-Fi"})]}),(0,Fe.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-red-500 focus:outline-none",children:[(0,Fe.jsx)("option",{value:"",children:"All Languages"}),(0,Fe.jsx)("option",{value:"English",children:"English"}),(0,Fe.jsx)("option",{value:"Hindi",children:"Hindi"}),(0,Fe.jsx)("option",{value:"Tamil",children:"Tamil"}),(0,Fe.jsx)("option",{value:"Telugu",children:"Telugu"})]}),(0,Fe.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"px-4 py-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-red-500 focus:outline-none",children:[(0,Fe.jsx)("option",{value:"all",children:"All Movies"}),(0,Fe.jsx)("option",{value:"showing",children:"Now Showing"}),(0,Fe.jsx)("option",{value:"coming",children:"Coming Soon"})]})]})]}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(e=>(0,Fe.jsx)(b,{movie:e},e.id))}),0===p.length&&(0,Fe.jsxs)("div",{className:"text-center py-16",children:[(0,Fe.jsx)(ut,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No movies found"}),(0,Fe.jsx)("p",{className:"text-gray-400",children:"Try adjusting your search or filter criteria."})]})]})]})},vt="http://localhost:8080/api";const yt=new class{async getMovies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.search&&t.append("search",e.search),e.genre&&t.append("genre",e.genre),e.language&&t.append("language",e.language),e.rating&&t.append("rating",e.rating),!0===e.nowShowing&&t.append("nowShowing","true"),!0===e.comingSoon&&t.append("comingSoon","true"),void 0!==e.page&&t.append("page",e.page),void 0!==e.size&&t.append("size",e.size),e.sortBy&&t.append("sortBy",e.sortBy),e.sortDirection&&t.append("sortDirection",e.sortDirection);const s=await fetch("".concat(vt,"/movies?").concat(t));if(!s.ok)throw new Error("Failed to fetch movies: ".concat(s.statusText));return s.json()}async getMovieById(e){const t=await fetch("".concat(vt,"/movies/").concat(e));if(!t.ok)throw new Error("Failed to fetch movie: ".concat(t.statusText));return t.json()}async getGenres(){const e=await fetch("".concat(vt,"/movies/genres"));if(!e.ok)throw new Error("Failed to fetch genres: ".concat(e.statusText));return e.json()}async getLanguages(){const e=await fetch("".concat(vt,"/movies/languages"));if(!e.ok)throw new Error("Failed to fetch languages: ".concat(e.statusText));return e.json()}async searchMovies(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const s=new URLSearchParams({query:e,page:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).toString(),size:t.toString()}),n=await fetch("".concat(vt,"/public/movies/search?").concat(s));if(!n.ok)throw new Error("Failed to search movies: ".concat(n.statusText));return n.json()}async createMovie(e,t){const s=await fetch("".concat(vt,"/movies"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to create movie: ".concat(s.statusText));return s.json()}async updateMovie(e,t,s){const n=await fetch("".concat(vt,"/movies/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update movie: ".concat(n.statusText));return n.json()}async deleteMovie(e,t){const s=await fetch("".concat(vt,"/movies/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!s.ok)throw new Error("Failed to delete movie: ".concat(s.statusText));return s.json()}async getMovieStats(e){const t=await fetch("".concat(vt,"/movies/stats/total"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch movie stats: ".concat(t.statusText));return t.json()}},wt=()=>{const{id:e}=ne(),t=se(),[s,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&(async()=>{try{i(!0);const t=await yt.getMovieById(e);n(t)}catch(t){l("Failed to load movie details"),console.error("Error fetching movie:",t)}finally{i(!1)}})()},[e]);return r?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"container mx-auto px-4",children:(0,Fe.jsx)("div",{className:"animate-pulse",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,Fe.jsxs)("div",{className:"md:flex",children:[(0,Fe.jsx)("div",{className:"md:w-1/3",children:(0,Fe.jsx)("div",{className:"h-96 md:h-full bg-gray-200"})}),(0,Fe.jsxs)("div",{className:"md:w-2/3 p-6",children:[(0,Fe.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})]})})})})}):o||!s?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"container mx-auto px-4",children:(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:o||"Movie not found"}),(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"bg-red-100 text-red-800 px-4 py-2 rounded hover:bg-red-200",children:"Back to Movies"})]})})})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Fe.jsxs)("button",{onClick:()=>t("/movies"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800",children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Movies"]}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,Fe.jsxs)("div",{className:"md:flex",children:[(0,Fe.jsx)("div",{className:"md:w-1/3",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("img",{src:s.posterUrl||"/api/placeholder/400/600",alt:s.title,className:"w-full h-96 md:h-full object-cover",onError:e=>{e.target.src="/api/placeholder/400/600"}}),s.rating&&(0,Fe.jsxs)("div",{className:"absolute top-4 left-4 ".concat((c=s.rating,c>=8?"bg-green-500":c>=6?"bg-yellow-500":"bg-red-500")," text-white px-3 py-1 rounded-full font-bold"),children:[s.rating,"/10"]}),s.nowShowing&&(0,Fe.jsx)("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"NOW SHOWING"}),s.comingSoon&&(0,Fe.jsx)("div",{className:"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"COMING SOON"})]})}),(0,Fe.jsx)("div",{className:"md:w-2/3 p-6",children:(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.title}),(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:s.genre&&s.genre.split(",").map((e,t)=>(0,Fe.jsx)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:e.trim()},t))}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[s.language&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Language"}),(0,Fe.jsx)("dd",{className:"text-sm text-gray-900",children:s.language})]}),s.duration&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,Fe.jsx)("dd",{className:"text-sm text-gray-900",children:(e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,"h ").concat(s,"m")})(s.duration)})]}),s.releaseDate&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Release Date"}),(0,Fe.jsx)("dd",{className:"text-sm text-gray-900",children:new Date(s.releaseDate).toLocaleDateString()})]}),s.director&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Director"}),(0,Fe.jsx)("dd",{className:"text-sm text-gray-900",children:s.director})]}),s.cast&&(0,Fe.jsxs)("div",{className:"col-span-2",children:[(0,Fe.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Cast"}),(0,Fe.jsx)("dd",{className:"text-sm text-gray-900",children:s.cast})]})]}),s.description&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Synopsis"}),(0,Fe.jsx)("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),s.trailerUrl&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Trailer"}),(0,Fe.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,Fe.jsx)("iframe",{src:s.trailerUrl,title:"".concat(s.title," Trailer"),className:"w-full h-64 rounded-lg",allowFullScreen:!0})})]}),(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-4",children:[s.nowShowing&&(0,Fe.jsx)("button",{onClick:()=>t("/book/".concat(s.id)),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-medium",children:"Book Tickets"}),(0,Fe.jsx)("button",{className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 font-medium",children:"Add to Watchlist"}),(0,Fe.jsx)("button",{className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 font-medium",children:"Share"})]})]})})]})})]})});var c},jt=()=>{localStorage.setItem("adminShows",JSON.stringify({1:{"2025-10-17":[{id:1,time:"10:00 AM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:120,totalSeats:150,price:350,format:"IMAX 2D"},{id:2,time:"01:00 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:85,totalSeats:150,price:350,format:"IMAX 2D"},{id:3,time:"04:30 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 2 - Premium",availableSeats:95,totalSeats:120,price:450,format:"Dolby Atmos"},{id:4,time:"07:30 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:45,totalSeats:150,price:400,format:"IMAX 3D"},{id:5,time:"10:30 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 3 - Premium",availableSeats:78,totalSeats:120,price:450,format:"Dolby Atmos"}],"2025-10-18":[{id:6,time:"11:00 AM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:140,totalSeats:150,price:350,format:"IMAX 2D"},{id:7,time:"02:30 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 2 - Premium",availableSeats:110,totalSeats:120,price:450,format:"Dolby Atmos"},{id:8,time:"06:00 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:65,totalSeats:150,price:400,format:"IMAX 3D"},{id:9,time:"09:30 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 3 - Premium",availableSeats:88,totalSeats:120,price:450,format:"Dolby Atmos"}]},2:{"2025-10-17":[{id:10,time:"12:00 PM",venue:"CinemaFlix Standard City",screen:"Screen 4 - Standard",availableSeats:80,totalSeats:100,price:300,format:"Standard 2D"},{id:11,time:"03:00 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 2 - Premium",availableSeats:90,totalSeats:120,price:400,format:"Dolby Atmos"},{id:12,time:"06:30 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:55,totalSeats:150,price:450,format:"IMAX 3D"},{id:13,time:"09:45 PM",venue:"CinemaFlix Standard City",screen:"Screen 5 - Standard",availableSeats:70,totalSeats:100,price:300,format:"Standard 2D"}]},3:{"2025-10-17":[{id:14,time:"11:30 AM",venue:"CinemaFlix Premium Mall",screen:"Screen 2 - Premium",availableSeats:100,totalSeats:120,price:420,format:"Dolby Atmos"},{id:15,time:"02:15 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:75,totalSeats:150,price:480,format:"IMAX 2D"},{id:16,time:"05:30 PM",venue:"CinemaFlix Premium Mall",screen:"Screen 3 - Premium",availableSeats:85,totalSeats:120,price:420,format:"Dolby Atmos"},{id:17,time:"08:45 PM",venue:"CinemaFlix IMAX Downtown",screen:"Screen 1 - IMAX",availableSeats:40,totalSeats:150,price:480,format:"IMAX 2D"}]}})),console.log("Admin shows seeded successfully!")};"undefined"!==typeof window&&(window.seedAdminShows=jt);const Nt=jt,kt=["title","titleId"];function St(e,t){let{title:s,titleId:n}=e,r=Ue(e,kt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _t=a.forwardRef(St),Ct=()=>{const{movieId:e}=ne(),t=se(),[s,n]=(0,a.useState)(null),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(()=>(new Date).toISOString().split("T")[0]),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[m,g]=(0,a.useState)(1),f=(0,a.useMemo)(()=>({1:{id:1,title:"Dune: Part Two",genre:"Sci-Fi, Adventure",language:"English",rating:8.5,duration:166,poster:"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",price:350},2:{id:2,title:"Godzilla x Kong: The New Empire",genre:"Action, Adventure",language:"English",rating:6.4,duration:115,poster:"https://image.tmdb.org/t/p/w500/gmGK92wI1dwI5F1kmrvCRzKRGAJ.jpg",price:300},3:{id:3,title:"Deadpool & Wolverine",genre:"Action, Comedy",language:"English",rating:7.8,duration:128,poster:"https://image.tmdb.org/t/p/w500/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg",price:400}}),[]);(0,a.useEffect)(()=>{localStorage.getItem("adminShows")||Nt()},[]);const x=(0,a.useCallback)((e,t)=>{if(!t)return console.warn("Invalid date provided to getShowsForMovie:",t),[];try{const s=JSON.parse(localStorage.getItem("adminShows")||"{}"),n=new Date(t);if(isNaN(n.getTime()))return console.warn("Invalid date provided to getShowsForMovie:",t),[];const a=n.toISOString().split("T")[0];return s[e]&&s[e][a]?s[e][a]:[{id:1,time:"10:00 AM",venue:"CinemaFlix IMAX",screen:"Screen 1 - IMAX",availableSeats:120,totalSeats:150,price:350,format:"IMAX 2D"},{id:2,time:"01:00 PM",venue:"CinemaFlix IMAX",screen:"Screen 1 - IMAX",availableSeats:85,totalSeats:150,price:350,format:"IMAX 2D"},{id:3,time:"04:30 PM",venue:"CinemaFlix Premium",screen:"Screen 2 - Premium",availableSeats:95,totalSeats:120,price:450,format:"Dolby Atmos"},{id:4,time:"07:30 PM",venue:"CinemaFlix IMAX",screen:"Screen 1 - IMAX",availableSeats:45,totalSeats:150,price:400,format:"IMAX 3D"},{id:5,time:"10:30 PM",venue:"CinemaFlix Premium",screen:"Screen 3 - Premium",availableSeats:78,totalSeats:120,price:450,format:"Dolby Atmos"}]}catch(s){return console.error("Error in getShowsForMovie:",s),[]}},[]);(0,a.useEffect)(()=>{const t=f[e];if(t){n(t);const s=x(e,o);i(s)}},[e,o,x,f]),(0,a.useEffect)(()=>{if(e&&o){const t=x(e,o);i(t)}},[o,e,x]);const p=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),b=()=>c&&0!==u.length?u.length*c.price:0;return s?(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,Fe.jsx)("div",{className:"bg-gray-800 py-6",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"text-gray-400 hover:text-white transition-colors",children:"\u2190 Back to Movies"}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>=1?"text-red-500":"text-gray-500"),children:[(0,Fe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(m>=1?"bg-red-500 text-white":"bg-gray-600"),children:"1"}),(0,Fe.jsx)("span",{children:"Select Show"})]}),(0,Fe.jsx)("div",{className:"w-8 h-px bg-gray-600"}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>=2?"text-red-500":"text-gray-500"),children:[(0,Fe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(m>=2?"bg-red-500 text-white":"bg-gray-600"),children:"2"}),(0,Fe.jsx)("span",{children:"Select Seats"})]}),(0,Fe.jsx)("div",{className:"w-8 h-px bg-gray-600"}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>=3?"text-red-500":"text-gray-500"),children:[(0,Fe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(m>=3?"bg-red-500 text-white":"bg-gray-600"),children:"3"}),(0,Fe.jsx)("span",{children:"Payment"})]})]})]})})}),(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Fe.jsx)("div",{className:"lg:col-span-1",children:(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 sticky top-6",children:[(0,Fe.jsx)("img",{src:s.poster,alt:s.title,className:"w-full h-80 object-cover rounded-lg mb-4"}),(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:s.title}),(0,Fe.jsx)("p",{className:"text-gray-400 mb-4",children:s.genre}),(0,Fe.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Fe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 mr-2"}),(0,Fe.jsxs)("span",{children:[s.duration," minutes"]})]}),(0,Fe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Fe.jsx)("span",{className:"w-4 h-4 mr-2",children:"\ud83c\udf10"}),(0,Fe.jsx)("span",{children:s.language})]}),(0,Fe.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Fe.jsx)("span",{className:"w-4 h-4 mr-2",children:"\u2b50"}),(0,Fe.jsxs)("span",{children:[s.rating,"/10 IMDb"]})]})]}),c&&u.length>0&&(0,Fe.jsxs)("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Booking Summary"}),(0,Fe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:"Show Time:"}),(0,Fe.jsx)("span",{className:"text-white",children:c.time})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:"Venue:"}),(0,Fe.jsx)("span",{className:"text-white",children:c.venue})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:"Seats:"}),(0,Fe.jsx)("span",{className:"text-white",children:u.join(", ")})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:"Tickets:"}),(0,Fe.jsxs)("span",{className:"text-white",children:[u.length," \xd7 \u20b9",c.price]})]}),(0,Fe.jsx)("div",{className:"border-t border-gray-600 pt-2",children:(0,Fe.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,Fe.jsx)("span",{className:"text-white",children:"Total:"}),(0,Fe.jsxs)("span",{className:"text-red-500",children:["\u20b9",b()]})]})})]})]})]})}),(0,Fe.jsxs)("div",{className:"lg:col-span-2",children:[1===m&&(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Date & Show"}),(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Choose Date"}),(0,Fe.jsx)("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const e=[],t=new Date;for(let s=0;s<7;s++){const n=new Date(t);n.setDate(t.getDate()+s),e.push(n)}return e})().map((e,t)=>(0,Fe.jsxs)("button",{onClick:()=>l(e.toISOString().split("T")[0]),className:"p-3 rounded-lg text-center transition-colors ".concat(o===e.toISOString().split("T")[0]?"bg-red-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,Fe.jsx)("div",{className:"text-xs",children:p(e)}),(0,Fe.jsx)("div",{className:"font-semibold",children:e.getDate()})]},t))})]}),o&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Available Shows"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(e=>(0,Fe.jsxs)("button",{onClick:()=>{d(e),g(2)},className:"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition-colors",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fe.jsx)("span",{className:"text-xl font-semibold text-white",children:e.time}),(0,Fe.jsxs)("span",{className:"text-red-500 font-semibold",children:["\u20b9",e.price]})]}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:e.venue}),(0,Fe.jsxs)("span",{className:"text-green-400",children:[e.availableSeats," seats available"]})]})]},e.id))})]})]}),2===m&&(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Select Seats"}),(0,Fe.jsx)("button",{onClick:()=>g(1),className:"text-gray-400 hover:text-white",children:"\u2190 Change Show"})]}),(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("div",{className:"bg-gray-600 h-2 rounded-full mb-2"}),(0,Fe.jsx)("p",{className:"text-center text-gray-400 text-sm",children:"SCREEN"})]}),(0,Fe.jsxs)("div",{className:"flex justify-center space-x-8 mb-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mr-2"}),(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:"Available"})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:"Selected"})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-red-800 rounded mr-2"}),(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:"Booked"})]})]}),(0,Fe.jsx)("div",{className:"mb-8",children:["A","B","C","D","E","F","G","H","I","J"].map(e=>(0,Fe.jsxs)("div",{className:"flex justify-center items-center mb-2",children:[(0,Fe.jsx)("span",{className:"w-8 text-gray-400 text-sm font-semibold",children:e}),(0,Fe.jsx)("div",{className:"flex space-x-1",children:Array.from({length:12},(t,s)=>{const n="".concat(e).concat(s+1),a=Math.random()<.3,r=u.includes(n);return(0,Fe.jsx)("button",{onClick:()=>!a&&(e=>{u.includes(e)?h(u.filter(t=>t!==e)):u.length<6&&h([...u,e])})(n),disabled:a,className:"w-8 h-8 rounded text-xs font-semibold transition-colors ".concat(a?"bg-red-800 text-red-200 cursor-not-allowed":r?"bg-red-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:s+1},n)})})]},e))}),u.length>0&&(0,Fe.jsx)("div",{className:"flex justify-center",children:(0,Fe.jsxs)("button",{onClick:()=>g(3),className:"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:["Continue to Payment (\u20b9",b(),")"]})})]}),3===m&&(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Payment"}),(0,Fe.jsx)("button",{onClick:()=>g(2),className:"text-gray-400 hover:text-white",children:"\u2190 Change Seats"})]}),(0,Fe.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Fe.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Payment Summary"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsxs)("span",{className:"text-gray-400",children:["Movie Tickets (",u.length,")"]}),(0,Fe.jsxs)("span",{className:"text-white",children:["\u20b9",b()]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400",children:"Convenience Fee"}),(0,Fe.jsxs)("span",{className:"text-white",children:["\u20b9",Math.round(.02*b())]})]}),(0,Fe.jsx)("div",{className:"border-t border-gray-600 pt-3",children:(0,Fe.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,Fe.jsx)("span",{className:"text-white",children:"Total Amount"}),(0,Fe.jsxs)("span",{className:"text-red-500",children:["\u20b9",b()+Math.round(.02*b())]})]})})]})]}),(0,Fe.jsxs)("button",{onClick:async()=>{if(0!==u.length)try{const e={movieId:s.id,movieTitle:s.title,showId:c.id,showTime:c.time,venue:c.venue,date:o,seats:u,totalAmount:b(),bookingDate:(new Date).toISOString()},n=JSON.parse(localStorage.getItem("userBookings")||"[]"),a=Re(Re({id:Date.now()},e),{},{status:"confirmed"});n.push(a),localStorage.setItem("userBookings",JSON.stringify(n));const r=JSON.parse(localStorage.getItem("userDashboardStats")||'{"totalBookings": 0, "upcomingShows": 0, "totalSpent": 0}');r.totalBookings=n.length,r.upcomingShows+=1,r.totalSpent+=b(),localStorage.setItem("userDashboardStats",JSON.stringify(r)),console.log("BookMovie - Updated stats:",r),console.log("BookMovie - Total bookings count:",n.length),window.dispatchEvent(new StorageEvent("storage",{key:"userBookings",newValue:JSON.stringify(n)})),window.dispatchEvent(new StorageEvent("storage",{key:"userDashboardStats",newValue:JSON.stringify(r)})),console.log("BookMovie - Storage events dispatched"),window.dispatchEvent(new CustomEvent("bookingUpdate",{detail:{bookings:n,stats:r}})),alert("Booking confirmed successfully!"),t("/user/dashboard")}catch(e){alert("Booking failed. Please try again."),console.error("Booking error:",e)}},className:"w-full bg-red-500 hover:bg-red-600 text-white py-4 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center",children:[(0,Fe.jsx)(_t,{className:"h-6 w-6 mr-2"}),"Pay \u20b9",b()+Math.round(.02*b())]}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm text-center mt-4",children:"By proceeding, you agree to our Terms & Conditions"})]})]})]})]})})]}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4"}),(0,Fe.jsx)("p",{className:"text-white",children:"Loading movie details..."})]})})},Et=["title","titleId"];function Mt(e,t){let{title:s,titleId:n}=e,r=Ue(e,Et);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Pt=a.forwardRef(Mt),Dt=["title","titleId"];function At(e,t){let{title:s,titleId:n}=e,r=Ue(e,Dt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Tt=a.forwardRef(At),Lt=["title","titleId"];function Ot(e,t){let{title:s,titleId:n}=e,r=Ue(e,Lt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const It=a.forwardRef(Ot),Rt=["title","titleId"];function Ft(e,t){let{title:s,titleId:n}=e,r=Ue(e,Rt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Bt=a.forwardRef(Ft),zt=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[f,x]=(0,a.useState)({title:"",description:"",genre:"",language:"",durationMinutes:"",rating:"",releaseDate:"",director:"",cast:"",posterUrl:"",trailerUrl:"",isNowShowing:!1,isComingSoon:!1,isActive:!0}),p=["Action","Comedy","Drama","Horror","Romance","Sci-Fi","Thriller","Adventure","Animation"];(0,a.useEffect)(()=>{b()},[]);const b=async()=>{try{n(!0);const e=JSON.parse(localStorage.getItem("adminMovies")||"[]");console.log("AdminMovieManagement - Loaded movies from localStorage:",e),t(e)}catch(e){console.error("Error loading movies:",e),i("Failed to load movies: "+e.message)}finally{n(!1)}},v=e=>{const{name:t,value:s,type:n,checked:a}=e.target;x(e=>Re(Re({},e),{},{[t]:"checkbox"===n?a:s}))},y=()=>{x({title:"",description:"",genre:"",language:"",durationMinutes:"",rating:"",releaseDate:"",director:"",cast:"",posterUrl:"",trailerUrl:"",isNowShowing:!1,isComingSoon:!1,isActive:!0}),d(null),l(!1),i(null)},w=e.filter(e=>{var t,s;const n=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.director)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase())),a=!m||e.genre===m;return n&&a}),j=e=>{if(!e)return"Not set";const t=Math.floor(e/60),s=e%60;return"".concat(t,"h ").concat(s,"m")};return s?(0,Fe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Movie Management"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage movie catalog with full CRUD operations"})]}),(0,Fe.jsxs)("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,Fe.jsx)(Pt,{className:"h-5 w-5"}),(0,Fe.jsx)("span",{children:"Add New Movie"})]})]}),r&&(0,Fe.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:[r,(0,Fe.jsx)("button",{onClick:()=>i(null),className:"ml-2 text-red-800 hover:text-red-900",children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Fe.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Search by title or director...",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre"}),(0,Fe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"All Genres"}),p.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsx)("div",{className:"flex items-end",children:(0,Fe.jsx)("button",{onClick:()=>{h(""),g("")},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Clear Filters"})})]})}),o&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-bold mb-4",children:c?"Edit Movie":"Add New Movie"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Re(Re({},f),{},{durationMinutes:parseInt(f.durationMinutes)||0}),t=JSON.parse(localStorage.getItem("adminMovies")||"[]");if(c){const s=t.map(t=>t.id===c.id?Re(Re({},e),{},{id:c.id}):t);localStorage.setItem("adminMovies",JSON.stringify(s)),console.log("AdminMovieManagement - Updated movie:",e)}else{const s=Re(Re({},e),{},{id:Date.now()}),n=[...t,s];localStorage.setItem("adminMovies",JSON.stringify(n)),console.log("AdminMovieManagement - Created new movie:",s)}window.dispatchEvent(new StorageEvent("storage",{key:"adminMovies",newValue:localStorage.getItem("adminMovies")})),y(),b()}catch(t){i(t.message)}},className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,Fe.jsx)("input",{type:"text",name:"title",value:f.title,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Director *"}),(0,Fe.jsx)("input",{type:"text",name:"director",value:f.director,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Fe.jsx)("textarea",{name:"description",value:f.description,onChange:v,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre *"}),(0,Fe.jsxs)("select",{name:"genre",value:f.genre,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select Genre"}),p.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language *"}),(0,Fe.jsxs)("select",{name:"language",value:f.language,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select Language"}),["English","Hindi","Tamil","Telugu","Malayalam","Kannada","Bengali"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),(0,Fe.jsxs)("select",{name:"rating",value:f.rating,onChange:v,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select Rating"}),["U","UA","A","PG","PG-13","R"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),(0,Fe.jsx)("input",{type:"number",name:"durationMinutes",value:f.durationMinutes,onChange:v,min:"1",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Release Date"}),(0,Fe.jsx)("input",{type:"date",name:"releaseDate",value:f.releaseDate,onChange:v,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cast"}),(0,Fe.jsx)("input",{type:"text",name:"cast",value:f.cast,onChange:v,placeholder:"e.g., Actor 1, Actor 2, Actor 3",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poster URL"}),(0,Fe.jsx)("input",{type:"url",name:"posterUrl",value:f.posterUrl,onChange:v,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trailer URL"}),(0,Fe.jsx)("input",{type:"url",name:"trailerUrl",value:f.trailerUrl,onChange:v,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",name:"isNowShowing",checked:f.isNowShowing,onChange:v,className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:"Now Showing"})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",name:"isComingSoon",checked:f.isComingSoon,onChange:v,className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:"Coming Soon"})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",name:"isActive",checked:f.isActive,onChange:v,className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:"Active"})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Update Movie":"Create Movie"})]})]})]})})}),(0,Fe.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:w.map(e=>(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("img",{src:e.posterUrl||"/api/placeholder/400/300",alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.target.src="/api/placeholder/400/300"}}),(0,Fe.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-1",children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{var t;d(e),x({title:e.title||"",description:e.description||"",genre:e.genre||"",language:e.language||"",durationMinutes:(null===(t=e.durationMinutes)||void 0===t?void 0:t.toString())||"",rating:e.rating||"",releaseDate:e.releaseDate||"",director:e.director||"",cast:e.cast||"",posterUrl:e.posterUrl||"",trailerUrl:e.trailerUrl||"",isNowShowing:e.isNowShowing||!1,isComingSoon:e.isComingSoon||!1,isActive:void 0===e.isActive||e.isActive}),l(!0)})(e),className:"bg-blue-600 text-white p-1 rounded hover:bg-blue-700",title:"Edit",children:(0,Fe.jsx)(Tt,{className:"h-4 w-4"})}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this movie?"))try{const t=JSON.parse(localStorage.getItem("adminMovies")||"[]").filter(t=>t.id!==e);localStorage.setItem("adminMovies",JSON.stringify(t)),console.log("AdminMovieManagement - Deleted movie with ID:",e),window.dispatchEvent(new StorageEvent("storage",{key:"adminMovies",newValue:localStorage.getItem("adminMovies")})),b()}catch(t){i(t.message)}})(e.id),className:"bg-red-600 text-white p-1 rounded hover:bg-red-700",title:"Delete",children:(0,Fe.jsx)(It,{className:"h-4 w-4"})})]})]}),(0,Fe.jsxs)("div",{className:"p-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:e.title}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description||"No description available"}),(0,Fe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Director:"}),(0,Fe.jsx)("span",{className:"font-medium",children:e.director||"N/A"})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Genre:"}),(0,Fe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:e.genre})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Language:"}),(0,Fe.jsx)("span",{children:e.language})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,Fe.jsxs)("span",{className:"flex items-center",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 mr-1"}),j(e.durationMinutes)]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Release:"}),(0,Fe.jsxs)("span",{className:"flex items-center",children:[(0,Fe.jsx)(lt,{className:"h-4 w-4 mr-1"}),e.releaseDate||"Not set"]})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,Fe.jsxs)("div",{className:"flex space-x-1",children:[e.isNowShowing&&(0,Fe.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Now Showing"}),e.isComingSoon&&(0,Fe.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Coming Soon"})]}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})]})]})]},e.id))}),0===w.length&&!s&&(0,Fe.jsxs)("div",{className:"text-center py-8",children:[(0,Fe.jsx)(Bt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Fe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No movies found"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:u||m?"Try adjusting your filters.":"Get started by adding your first movie."})]})]})},Vt=["title","titleId"];function Ut(e,t){let{title:s,titleId:n}=e,r=Ue(e,Vt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Ht=a.forwardRef(Ut),Wt="http://localhost:8080/api";const $t=new class{getAuthHeaders(){const e=localStorage.getItem("token");return Re({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})}async createMovie(e){const t=await fetch("".concat(Wt,"/movies"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create movie: ".concat(t.statusText));return t.json()}async updateMovie(e,t){const s=await fetch("".concat(Wt,"/movies/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update movie: ".concat(s.statusText));return s.json()}async deleteMovie(e){const t=await fetch("".concat(Wt,"/movies/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete movie: ".concat(t.statusText));return t.json()}async getShows(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const s=await fetch("".concat(Wt,"/shows?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch shows: ".concat(s.statusText));return s.json()}async createShow(e){const t=await fetch("".concat(Wt,"/shows"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create show: ".concat(t.statusText));return t.json()}async updateShow(e,t){const s=await fetch("".concat(Wt,"/shows/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update show: ".concat(s.statusText));return s.json()}async deleteShow(e){const t=await fetch("".concat(Wt,"/shows/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete show: ".concat(t.statusText));return t.json()}async getVenues(){const e=await fetch("".concat(Wt,"/venues"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch venues: ".concat(e.statusText));return e.json()}async createVenue(e){const t=await fetch("".concat(Wt,"/venues"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create venue: ".concat(t.statusText));return t.json()}async updateVenue(e,t){const s=await fetch("".concat(Wt,"/venues/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update venue: ".concat(s.statusText));return s.json()}async deleteVenue(e){const t=await fetch("".concat(Wt,"/venues/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete venue: ".concat(t.statusText));return t.json()}async getAllBookings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const s=await fetch("".concat(Wt,"/bookings/all?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch bookings: ".concat(s.statusText));return s.json()}async cancelBooking(e){const t=await fetch("".concat(Wt,"/bookings/").concat(e,"/cancel"),{method:"PUT",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to cancel booking: ".concat(t.statusText));return t.json()}async getDashboardStats(){const e=await fetch("".concat(Wt,"/admin/statistics"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch dashboard statistics: ".concat(e.statusText));return e.json()}async getAllUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const s=await fetch("".concat(Wt,"/admin/users?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch users: ".concat(s.statusText));return s.json()}async createUser(e){const t=await fetch("".concat(Wt,"/admin/users"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create user: ".concat(t.statusText));return t.json()}async updateUser(e,t){const s=await fetch("".concat(Wt,"/admin/users/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update user: ".concat(s.statusText));return s.json()}async deleteUser(e){const t=await fetch("".concat(Wt,"/admin/users/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete user: ".concat(t.statusText));return t.json()}async toggleUserStatus(e,t){const s=await fetch("".concat(Wt,"/admin/users/").concat(e,"/status"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({isActive:t})});if(!s.ok)throw new Error("Failed to toggle user status: ".concat(s.statusText));return s.json()}async updateUserRole(e,t){const s=await fetch("".concat(Wt,"/admin/users/").concat(e,"/role"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({roleId:t})});if(!s.ok)throw new Error("Failed to update user role: ".concat(s.statusText));return s.json()}async getRoles(){const e=await fetch("".concat(Wt,"/admin/roles"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch roles: ".concat(e.statusText));return e.json()}async getCities(){const e=await fetch("".concat(Wt,"/cities"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch cities: ".concat(e.statusText));return e.json()}async createCity(e){const t=await fetch("".concat(Wt,"/cities"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create city: ".concat(t.statusText));return t.json()}async updateCity(e,t){const s=await fetch("".concat(Wt,"/cities/").concat(e),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update city: ".concat(s.statusText));return s.json()}async deleteCity(e){const t=await fetch("".concat(Wt,"/cities/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete city: ".concat(t.statusText));return t.json()}},Yt=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[f,x]=(0,a.useState)({movieId:"",venueId:"",showTime:"",showDate:"",price:"",screenName:"",totalSeats:150,availableSeats:150,isActive:!0});async function p(){try{l(!0);const[e,s,a]=await Promise.all([$t.getShows(),yt.getMovies({}),$t.getVenues()]),r=e&&e.content||[];t(r),n(s&&s.content||[]),i(a||[]),b(r)}catch(e){d("Failed to load data: "+(e&&e.message?e.message:e))}finally{l(!1)}}(0,a.useEffect)(()=>{p()},[]);const b=e=>{try{const t={};e.forEach(e=>{var s;const n=null===(s=e.movie)||void 0===s?void 0:s.id,a=e.showDate;var r;n&&a&&(t[n]||(t[n]={}),t[n][a]||(t[n][a]=[]),t[n][a].push({id:e.id,time:e.showTime,venue:(null===(r=e.venue)||void 0===r?void 0:r.name)||"Unknown Venue",screen:e.screenName||"Screen 1",availableSeats:e.availableSeats||0,totalSeats:e.totalSeats||150,price:e.price||0,format:"Standard"}))}),localStorage.setItem("adminShows",JSON.stringify(t))}catch(c){console.error("Failed to sync shows to localStorage:",c)}},v=e=>{const{name:t,value:s}=e.target;x(e=>Re(Re({},e),{},{[t]:s}))},y=()=>{x({movieId:"",venueId:"",showTime:"",showDate:"",price:"",screenName:"",totalSeats:150,availableSeats:150,isActive:!0}),g(null),h(!1)};return o?(0,Fe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Show Management"}),(0,Fe.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,Fe.jsx)(Pt,{className:"h-5 w-5"}),(0,Fe.jsx)("span",{children:"Add New Show"})]})]}),c&&(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:c}),u&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-bold mb-4",children:m?"Edit Show":"Add New Show"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={movie:{id:f.movieId},venue:{id:f.venueId},showDate:f.showDate,showTime:f.showTime,price:parseFloat(f.price),screenName:f.screenName,totalSeats:parseInt(f.totalSeats),availableSeats:parseInt(f.availableSeats),isActive:f.isActive};m?await $t.updateShow(m.id,e):await $t.createShow(e),y(),p()}catch(t){d(t.message)}},className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movie"}),(0,Fe.jsxs)("select",{name:"movieId",value:f.movieId,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select Movie"}),s.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue"}),(0,Fe.jsxs)("select",{name:"venueId",value:f.venueId,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select Venue"}),r.map(e=>{var t;return(0,Fe.jsxs)("option",{value:e.id,children:[e.name," - ",null===(t=e.city)||void 0===t?void 0:t.name]},e.id)})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Fe.jsx)("input",{type:"date",name:"showDate",value:f.showDate,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),(0,Fe.jsx)("input",{type:"time",name:"showTime",value:f.showTime,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (\u20b9)"}),(0,Fe.jsx)("input",{type:"number",name:"price",value:f.price,onChange:v,required:!0,step:"0.01",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Screen Name"}),(0,Fe.jsx)("input",{type:"text",name:"screenName",value:f.screenName,onChange:v,placeholder:"Screen 1, IMAX, etc.",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Seats"}),(0,Fe.jsx)("input",{type:"number",name:"totalSeats",value:f.totalSeats,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available"}),(0,Fe.jsx)("input",{type:"number",name:"availableSeats",value:f.availableSeats,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:m?"Update Show":"Create Show"})]})]})]})})}),(0,Fe.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var t,s,n,a;return(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:(null===(t=e.movie)||void 0===t?void 0:t.title)||"Unknown Movie"}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{var t,s;g(e),x({movieId:(null===(t=e.movie)||void 0===t?void 0:t.id)||"",venueId:(null===(s=e.venue)||void 0===s?void 0:s.id)||"",showTime:e.showTime||"",showDate:e.showDate||"",price:e.price||"",screenName:e.screenName||"",totalSeats:e.totalSeats||150,availableSeats:e.availableSeats||150,isActive:void 0===e.isActive||e.isActive}),h(!0)})(e),className:"text-blue-600 hover:text-blue-800",children:(0,Fe.jsx)(Tt,{className:"h-4 w-4"})}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this show?"))try{await $t.deleteShow(e),p()}catch(t){d(t.message)}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,Fe.jsx)(It,{className:"h-4 w-4"})})]})]}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Fe.jsx)(Ht,{className:"h-4 w-4 mr-2"}),(0,Fe.jsx)("span",{children:(null===(s=e.venue)||void 0===s?void 0:s.name)||"Unknown Venue"})]}),(0,Fe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 mr-2"}),(0,Fe.jsx)("span",{children:(n=e.showDate,a=e.showTime,n&&a?"".concat(n," at ").concat(a):"Not set")})]}),(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.price]}),(0,Fe.jsxs)("span",{className:"text-sm text-gray-500",children:[e.availableSeats,"/",e.totalSeats," seats"]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[e.screenName&&(0,Fe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e.screenName}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})]})]})]})},e.id)})}),0===e.length&&!o&&(0,Fe.jsx)("div",{className:"text-center py-8",children:(0,Fe.jsx)("p",{className:"text-gray-500",children:"No shows found. Create your first show!"})})]})},qt=["title","titleId"];function Jt(e,t){let{title:s,titleId:n}=e,r=Ue(e,qt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Gt=a.forwardRef(Jt),Qt=["title","titleId"];function Xt(e,t){let{title:s,titleId:n}=e,r=Ue(e,Qt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Zt=a.forwardRef(Xt),Kt=["title","titleId"];function es(e,t){let{title:s,titleId:n}=e,r=Ue(e,Kt);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const ts=a.forwardRef(es),ss=["title","titleId"];function ns(e,t){let{title:s,titleId:n}=e,r=Ue(e,ss);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const as=a.forwardRef(ns),rs=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[f,x]=(0,a.useState)({username:"",email:"",firstName:"",lastName:"",phoneNumber:"",password:"",confirmPassword:"",roles:["USER"],isActive:!0}),p=["USER","ADMIN"];(0,a.useEffect)(()=>{b()},[]);const b=async()=>{try{n(!0);const e=await $t.getAllUsers(),s=(await $t.getRoles(),(e.content||e||[]).map(e=>{var t;return{id:e.id,username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone,roles:[(null===(t=e.role)||void 0===t?void 0:t.name)||"USER"],isActive:e.isActive,createdAt:e.createdAt}}));t(s),console.log("Loaded users:",s)}catch(e){i("Failed to load users: "+e.message),console.error("Error loading users:",e)}finally{n(!1)}},v=e=>{const{name:t,value:s,type:n,checked:a}=e.target;x(e=>Re(Re({},e),{},{[t]:"checkbox"===n?a:s}))},y=()=>{x({username:"",email:"",firstName:"",lastName:"",phoneNumber:"",password:"",confirmPassword:"",roles:["USER"],isActive:!0}),d(null),l(!1),i(null)},w=e.filter(e=>{var t,s,n,a,r;const i=(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.firstName)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))||(null===(a=e.lastName)||void 0===a?void 0:a.toLowerCase().includes(u.toLowerCase())),o=!m||(null===(r=e.roles)||void 0===r?void 0:r.includes(m));return i&&o});return s?(0,Fe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage user accounts and permissions"})]}),(0,Fe.jsxs)("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,Fe.jsx)(Pt,{className:"h-5 w-5"}),(0,Fe.jsx)("span",{children:"Add New User"})]})]}),r&&(0,Fe.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:[r,(0,Fe.jsx)("button",{onClick:()=>i(null),className:"ml-2 text-red-800 hover:text-red-900",children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Fe.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Search by name, email, or username...",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Fe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"All Roles"}),p.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsx)("div",{className:"flex items-end",children:(0,Fe.jsx)("button",{onClick:()=>{h(""),g("")},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Clear Filters"})})]})}),o&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-bold mb-4",children:c?"Edit User":"Add New User"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.password===f.confirmPassword)try{const e=Re(Re({},f),{},{confirmPassword:void 0});c?(await $t.updateUser(c.id,e),console.log("Updated user:",e)):(await $t.createUser(e),console.log("Created user:",e)),y(),b()}catch(t){i(t.message)}else i("Passwords do not match")},className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,Fe.jsx)("input",{type:"text",name:"username",value:f.username,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Fe.jsx)("input",{type:"email",name:"email",value:f.email,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,Fe.jsx)("input",{type:"text",name:"firstName",value:f.firstName,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,Fe.jsx)("input",{type:"text",name:"lastName",value:f.lastName,onChange:v,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Fe.jsx)("input",{type:"tel",name:"phoneNumber",value:f.phoneNumber,onChange:v,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",c?"(leave blank to keep current)":"*"]}),(0,Fe.jsx)("input",{type:"password",name:"password",value:f.password,onChange:v,required:!c,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",c?"":"*"]}),(0,Fe.jsx)("input",{type:"password",name:"confirmPassword",value:f.confirmPassword,onChange:v,required:!c,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),(0,Fe.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:f.roles.includes(e),onChange:()=>(e=>{x(t=>Re(Re({},t),{},{roles:t.roles.includes(e)?t.roles.filter(t=>t!==e):[...t.roles,e]}))})(e),className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",name:"isActive",checked:f.isActive,onChange:v,className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:"Active Account"})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Update User":"Create User"})]})]})]})})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>{var t;return(0,Fe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Fe.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,Fe.jsx)(Gt,{className:"h-6 w-6 text-gray-600"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-500",children:["@",e.username]})]})]})}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Fe.jsxs)("div",{className:"text-sm text-gray-900 flex items-center",children:[(0,Fe.jsx)(Zt,{className:"h-4 w-4 mr-1"}),e.email]}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Fe.jsx)(ts,{className:"h-4 w-4 mr-1"}),e.phoneNumber||"Not provided"]})]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(t=e.roles)||void 0===t?void 0:t.map(e=>(0,Fe.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat("ADMIN"===e?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:["ADMIN"===e&&(0,Fe.jsx)(as,{className:"h-3 w-3 inline mr-1"}),e]},e))})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Fe.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{d(e),x({username:e.username||"",email:e.email||"",firstName:e.firstName||"",lastName:e.lastName||"",phoneNumber:e.phoneNumber||"",password:"",confirmPassword:"",roles:e.roles||["USER"],isActive:void 0===e.isActive||e.isActive}),l(!0)})(e),className:"text-blue-600 hover:text-blue-800",title:"Edit",children:(0,Fe.jsx)(Tt,{className:"h-4 w-4"})}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await $t.deleteUser(e),console.log("Deleted user:",e),b()}catch(t){i(t.message)}})(e.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:(0,Fe.jsx)(It,{className:"h-4 w-4"})})]})})]},e.id)})})]})})}),0===w.length&&!s&&(0,Fe.jsxs)("div",{className:"text-center py-8",children:[(0,Fe.jsx)(Gt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Fe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:u||m?"Try adjusting your filters.":"Get started by adding your first user."})]})]})},is=["title","titleId"];function os(e,t){let{title:s,titleId:n}=e,r=Ue(e,is);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ls=a.forwardRef(os),cs=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(""),[f,x]=(0,a.useState)(""),[p,b]=(0,a.useState)({name:"",address:"",cityId:"",totalScreens:"",totalSeats:"",phone:"",email:"",isActive:!0});(0,a.useEffect)(()=>{v()},[]);const v=async()=>{try{i(!0);const[e,s]=await Promise.all([$t.getVenues(),$t.getCities()]);t(e||[]),n(s||[])}catch(e){l("Failed to load data: "+e.message)}finally{i(!1)}},y=e=>{const{name:t,value:s,type:n,checked:a}=e.target;b(e=>Re(Re({},e),{},{[t]:"checkbox"===n?a:s}))},w=()=>{b({name:"",address:"",cityId:"",totalScreens:"",totalSeats:"",phone:"",email:"",isActive:!0}),h(null),d(!1),l(null)},j=e.filter(e=>{var t,s,n;const a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(s=e.address)||void 0===s?void 0:s.toLowerCase().includes(m.toLowerCase())),r=!f||(null===(n=e.city)||void 0===n?void 0:n.id)===parseInt(f);return a&&r});return r?(0,Fe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Venue Management"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage theaters and cinema venues"})]}),(0,Fe.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,Fe.jsx)(Pt,{className:"h-5 w-5"}),(0,Fe.jsx)("span",{children:"Add New Venue"})]})]}),o&&(0,Fe.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:[o,(0,Fe.jsx)("button",{onClick:()=>l(null),className:"ml-2 text-red-800 hover:text-red-900",children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Fe.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Search by venue name or address...",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Fe.jsxs)("select",{value:f,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"All Cities"}),s.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Fe.jsx)("div",{className:"flex items-end",children:(0,Fe.jsx)("button",{onClick:()=>{g(""),x("")},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Clear Filters"})})]})}),c&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-bold mb-4",children:u?"Edit Venue":"Add New Venue"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Re(Re({},p),{},{totalScreens:parseInt(p.totalScreens)||0,totalSeats:parseInt(p.totalSeats)||0,city:{id:p.cityId}});u?await $t.updateVenue(u.id,e):await $t.createVenue(e),w(),v()}catch(t){l(t.message)}},className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue Name *"}),(0,Fe.jsx)("input",{type:"text",name:"name",value:p.name,onChange:y,required:!0,placeholder:"e.g., PVR Cinemas",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),(0,Fe.jsx)("textarea",{name:"address",value:p.address,onChange:y,required:!0,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Fe.jsxs)("select",{name:"cityId",value:p.cityId,onChange:y,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Fe.jsx)("option",{value:"",children:"Select City"}),s.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Screens"}),(0,Fe.jsx)("input",{type:"number",name:"totalScreens",value:p.totalScreens,onChange:y,min:"1",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Seats"}),(0,Fe.jsx)("input",{type:"number",name:"totalSeats",value:p.totalSeats,onChange:y,min:"1",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Fe.jsx)("input",{type:"tel",name:"phone",value:p.phone,onChange:y,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Fe.jsx)("input",{type:"email",name:"email",value:p.email,onChange:y,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",name:"isActive",checked:p.isActive,onChange:y,className:"mr-2"}),(0,Fe.jsx)("label",{className:"text-sm text-gray-700",children:"Active Venue"})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:u?"Update Venue":"Create Venue"})]})]})]})})}),(0,Fe.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j.map(e=>{var t;return(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{var t,s,n;h(e),b({name:e.name||"",address:e.address||"",cityId:(null===(t=e.city)||void 0===t?void 0:t.id)||"",totalScreens:(null===(s=e.totalScreens)||void 0===s?void 0:s.toString())||"",totalSeats:(null===(n=e.totalSeats)||void 0===n?void 0:n.toString())||"",phone:e.phoneNumber||"",email:e.email||"",isActive:void 0===e.isActive||e.isActive}),d(!0)})(e),className:"text-blue-600 hover:text-blue-800",children:(0,Fe.jsx)(Tt,{className:"h-4 w-4"})}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this venue?"))try{await $t.deleteVenue(e),v()}catch(t){l(t.message)}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,Fe.jsx)(It,{className:"h-4 w-4"})})]})]}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex items-start text-sm text-gray-600",children:[(0,Fe.jsx)(Ht,{className:"h-4 w-4 mr-2 mt-1 flex-shrink-0"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{children:e.address}),(0,Fe.jsx)("div",{className:"font-medium text-blue-600",children:null===(t=e.city)||void 0===t?void 0:t.name})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Fe.jsx)(ls,{className:"h-4 w-4 mr-2"}),(0,Fe.jsxs)("span",{children:[e.totalScreens||0," Screens \u2022 ",e.totalSeats||0," Total Seats"]})]}),e.phoneNumber&&(0,Fe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",e.phoneNumber]}),e.email&&(0,Fe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,Fe.jsx)("div",{className:"flex justify-between items-center pt-2",children:(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})})]})]})},e.id)})}),0===j.length&&!r&&(0,Fe.jsxs)("div",{className:"text-center py-8",children:[(0,Fe.jsx)(ls,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Fe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No venues found"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:m||f?"Try adjusting your filters.":"Get started by adding your first venue."})]})]})};const ds=s.p+"static/media/accessible.a39e448ce16bddf172ab2beb9c1e36b3.svg",us=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(""),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)({rows:"10",seatsPerRow:"15",aisleAfterSeat:[5,10],premiumRows:[],disabledSeats:[],accessibleRows:[],premiumSeats:[]});(0,a.useEffect)(()=>{w()},[]),(0,a.useEffect)(()=>{s&&j(s)},[s]),(0,a.useEffect)(()=>{o&&N(o)},[o]);const w=async()=>{try{const e=await $t.getVenues();t(e||[])}catch(e){g("Failed to load venues: "+e.message)}},j=async e=>{try{h(!0);const t=[{id:1,name:"Screen 1",capacity:150,venueId:parseInt(e)},{id:2,name:"Screen 2",capacity:200,venueId:parseInt(e)},{id:3,name:"Screen 3",capacity:100,venueId:parseInt(e)}];i(t)}catch(t){g("Failed to load screens: "+t.message)}finally{h(!1)}},N=async e=>{try{h(!0);const e=JSON.parse(localStorage.getItem("adminSeatLayouts")||"{}"),t=s&&o?"".concat(s,":").concat(o):null;if(t&&e[t])return void d(e[t]);k(v)}catch(t){g("Failed to load seat layout: "+t.message)}finally{h(!1)}},k=e=>{const t=[],s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],n=new Set((e.accessibleRows||[]).map(e=>parseInt(e,10))),a=parseInt(e.rows,10)||10,r=parseInt(e.seatsPerRow,10)||15;for(let i=0;i<a;i++){const a=[],o=s[i];for(let t=1;t<=r;t++){const s="".concat(o).concat(t),r=e.disabledSeats.some(e=>e.row===i&&e.seat===t),l=e.premiumRows.includes(i+1),c=e.aisleAfterSeat.includes(t),d=n.has(i+1);a.push({id:s,row:i,seat:t,rowLetter:o,seatNumber:t,type:l?"premium":"regular",isDisabled:r,isAisle:c,isAccessible:d,isAvailable:!r})}t.push(a)}return d(t),t},S=(e,t)=>{y(s=>Re(Re({},s),{},{[e]:t}))},_=e=>{let t="w-8 h-8 text-xs font-medium rounded border-2 cursor-pointer transition-colors ";return e.isDisabled?t+"bg-gray-300 border-gray-400 text-gray-500 cursor-not-allowed":"premium"===e.type?t+"bg-gray-900 text-white border-gray-800 hover:bg-gray-800":e.isAccessible?t+"bg-gray-900 text-white border-red-600":t+"bg-gray-100 border-gray-300 text-gray-900 hover:bg-gray-200"};return u&&0===c.length?(0,Fe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Seat Management"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage theater seating arrangements and layouts"})]}),(0,Fe.jsxs)("button",{onClick:()=>x(!f),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,Fe.jsx)(Tt,{className:"h-5 w-5"}),(0,Fe.jsx)("span",{children:f?"Hide Editor":"Layout Editor"})]})]}),m&&(0,Fe.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:[m,(0,Fe.jsx)("button",{onClick:()=>g(null),className:"ml-2 text-red-800 hover:text-red-900",children:"\xd7"})]}),0!==c.length||f?(0,Fe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Venue and Screen"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),(0,Fe.jsxs)("select",{value:s,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400 appearance-none relative z-50",children:[(0,Fe.jsx)("option",{value:"",style:{color:"#374151"},children:"Select Venue"}),0===e.length?(0,Fe.jsx)("option",{value:"",disabled:!0,style:{color:"#6b7280"},children:"No venues available"}):e.map(e=>(0,Fe.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Screen"}),(0,Fe.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400 appearance-none relative z-50",disabled:!s,children:[(0,Fe.jsx)("option",{value:"",style:{color:"#374151"},children:"Select Screen"}),0===r.length?(0,Fe.jsx)("option",{value:"",disabled:!0,style:{color:"#6b7280"},children:"No screens available"}):r.map(e=>(0,Fe.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]})]})]}):(0,Fe.jsxs)("div",{className:"bg-white p-12 rounded-lg shadow-sm border text-center",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"No seat layout found"}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-6",children:"Start the Layout Editor to configure rows, seats per row, premium rows and accessible rows, then generate and save the layout."}),(0,Fe.jsx)("div",{className:"flex justify-center",children:(0,Fe.jsx)("button",{onClick:()=>x(!0),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg",children:"Start Layout Editor"})})]}),f&&(0,Fe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Layout Configuration"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows"}),(0,Fe.jsx)("input",{type:"number",value:v.rows,onChange:e=>S("rows",e.target.value),min:"1",max:"20",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seats per Row"}),(0,Fe.jsx)("input",{type:"number",value:v.seatsPerRow,onChange:e=>S("seatsPerRow",e.target.value),min:"1",max:"30",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Premium Rows"}),(0,Fe.jsx)("input",{type:"text",value:v.premiumRows.join(", "),onChange:e=>S("premiumRows",e.target.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e))),placeholder:"1, 2, 3",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessible Rows (for disabled)"}),(0,Fe.jsx)("input",{type:"text",value:(v.accessibleRows||[]).join(", "),onChange:e=>S("accessibleRows",e.target.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e))),placeholder:"1, 2",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white text-gray-900 placeholder-gray-400"})]})]}),(0,Fe.jsx)("div",{className:"flex justify-end mt-4",children:(0,Fe.jsx)("button",{onClick:()=>{const e=k(v);if(s&&o){const t=JSON.parse(localStorage.getItem("adminSeatLayouts")||"{}"),n="".concat(s,":").concat(o);t[n]=e,localStorage.setItem("adminSeatLayouts",JSON.stringify(t)),console.log("Generate & saved layout for",n)}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Generate Layout"})})]}),c.length>0&&(0,Fe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold",children:"Seat Layout"}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:p,onChange:()=>b(e=>!e),className:"form-checkbox"}),(0,Fe.jsx)("span",{className:"text-sm",children:"Premium Mode (toggle to mark seats)"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-4 ml-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-sm",children:"Regular"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-900 border-2 border-gray-800 rounded"}),(0,Fe.jsx)("span",{className:"text-sm",children:"Premium"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-900 border-2 border-green-600 rounded flex items-center justify-center text-white text-[10px]",children:"\u267f"}),(0,Fe.jsx)("span",{className:"text-sm",children:"Accessible"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"text-center mb-8",children:[(0,Fe.jsx)("div",{className:"inline-block bg-gray-800 text-white px-8 py-2 rounded-lg mb-2",children:"SCREEN"}),(0,Fe.jsx)("div",{className:"h-1 bg-gray-300 rounded mx-auto",style:{width:"60%"}})]}),(0,Fe.jsx)("div",{className:"flex flex-col items-center space-y-2 overflow-x-auto",children:c.map((e,t)=>{var s,n;return(0,Fe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Fe.jsx)("div",{className:"w-8 text-center font-medium text-gray-600",children:null===(s=e[0])||void 0===s?void 0:s.rowLetter}),e.map(e=>(0,Fe.jsxs)(a.Fragment,{children:[(0,Fe.jsx)("button",{onClick:()=>((e,t)=>{const s=c.map((s,n)=>n!==e?s.map(e=>Re({},e)):s.map(e=>{if(e.seat!==t)return Re({},e);const s=Re({},e);return p?s.type="premium"===s.type?"regular":"premium":(s.isDisabled=!s.isDisabled,s.isAvailable=!s.isDisabled),s}));d(s);const n=[];s.forEach((e,t)=>{e.forEach(e=>{e.isDisabled&&n.push({row:t,seat:e.seat})})}),y(e=>Re(Re({},e),{},{disabledSeats:n}))})(e.row,e.seat),className:_(e),title:"".concat(e.id," - ").concat(e.type," ").concat(e.isDisabled?"(Disabled)":""),children:(0,Fe.jsx)("div",{className:"flex items-center justify-center",children:e.isAccessible?(0,Fe.jsx)("img",{src:ds,alt:"accessible",className:"h-4 w-4 object-contain"}):(0,Fe.jsx)("span",{className:"text-xs",children:e.seatNumber})})}),e.isAisle&&(0,Fe.jsx)("div",{className:"w-4"})]},e.id)),(0,Fe.jsx)("div",{className:"w-8 text-center font-medium text-gray-600",children:null===(n=e[0])||void 0===n?void 0:n.rowLetter})]},t)})}),(0,Fe.jsx)("div",{className:"flex justify-center mt-8",children:(0,Fe.jsx)("button",{onClick:async()=>{try{if(h(!0),!s||!o)return void alert("Please select a venue and screen before saving layout");const e=JSON.parse(localStorage.getItem("adminSeatLayouts")||"{}"),t="".concat(s,":").concat(o);e[t]=c,localStorage.setItem("adminSeatLayouts",JSON.stringify(e)),console.log("Saved admin seat layout under",t),alert("Seat layout saved successfully!")}catch(e){g("Failed to save seat layout: "+e.message)}finally{h(!1)}},disabled:u,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-6 py-2 rounded-lg",children:u?"Saving...":"Save Layout"})}),(0,Fe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-6",children:[(0,Fe.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"How to use:"}),(0,Fe.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Fe.jsx)("li",{children:"\u2022 Click on seats to toggle disabled/enabled status"}),(0,Fe.jsx)("li",{children:"\u2022 Toggle Premium Mode to mark/unmark specific seats as premium"}),(0,Fe.jsx)("li",{children:"\u2022 Use the Layout Editor to configure rows, seats per row, and accessible rows"}),(0,Fe.jsx)("li",{children:"\u2022 Aisles provide walking space between seat sections"}),(0,Fe.jsx)("li",{children:"\u2022 Remember to save your changes after editing"})]})]})]})]})},hs=["title","titleId"];function ms(e,t){let{title:s,titleId:n}=e,r=Ue(e,hs);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gs=a.forwardRef(ms),fs=["title","titleId"];function xs(e,t){let{title:s,titleId:n}=e,r=Ue(e,fs);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ps=a.forwardRef(xs),bs=["title","titleId"];function vs(e,t){let{title:s,titleId:n}=e,r=Ue(e,bs);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))}const ys=a.forwardRef(vs),ws="http://localhost:8080/api";const js=new class{getAuthHeaders(){const e=localStorage.getItem("token");return Re({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})}async getShows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=new URLSearchParams;s.append("movieId",e),t.city&&s.append("city",t.city),t.date&&s.append("date",t.date),t.venueId&&s.append("venueId",t.venueId);const n="".concat(ws,"/shows?").concat(s.toString()),a=await fetch(n,{headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Failed to fetch shows: ".concat(a.statusText));return a.json()}async getShowById(e){const t=await fetch("".concat(ws,"/shows/").concat(e),{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch show: ".concat(t.statusText));return t.json()}async getSeats(e){const t=await fetch("".concat(ws,"/seats/show/").concat(e),{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch seats: ".concat(t.statusText));return t.json()}async reserveSeats(e){const t=await fetch("".concat(ws,"/booking/seats/reserve"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({seatIds:e})});if(!t.ok)throw new Error("Failed to reserve seats: ".concat(t.statusText));return t.json()}async getBookingSummary(e){const t=await fetch("".concat(ws,"/booking/summary/").concat(e),{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch booking summary: ".concat(t.statusText));return t.json()}async getVenues(){const e=await fetch("".concat(ws,"/venues"));if(!e.ok)throw new Error("Failed to fetch venues: ".concat(e.statusText));return e.json()}async getVenuesByCity(e){const t=await fetch("".concat(ws,"/venues/city/").concat(e));if(!t.ok)throw new Error("Failed to fetch venues: ".concat(t.statusText));return t.json()}async getSeatsByShow(e){const t=await fetch("".concat(ws,"/seats/show/").concat(e));if(!t.ok)throw new Error("Failed to fetch seats: ".concat(t.statusText));return t.json()}async getSeatAvailability(e){const t=await fetch("".concat(ws,"/seats/show/").concat(e,"/availability"));if(!t.ok)throw new Error("Failed to fetch seat availability: ".concat(t.statusText));return t.json()}async blockSeats(e,t){const s=await fetch("".concat(ws,"/seats/block"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({seatIds:e,showId:t})});if(!s.ok)throw new Error("Failed to block seats: ".concat(s.statusText));return s.json()}async unblockSeats(e,t){const s=await fetch("".concat(ws,"/seats/unblock"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({seatIds:e,showId:t})});if(!s.ok)throw new Error("Failed to unblock seats: ".concat(s.statusText));return s.json()}async createBooking(e){const t=await fetch("".concat(ws,"/bookings"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create booking: ".concat(t.statusText));return t.json()}async getUserBookings(){const e=await fetch("".concat(ws,"/bookings/my-bookings"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch user bookings: ".concat(e.statusText));return e.json()}async getBookingById(e){const t=await fetch("".concat(ws,"/bookings/").concat(e),{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch booking: ".concat(t.statusText));return t.json()}async cancelBooking(e){const t=await fetch("".concat(ws,"/bookings/").concat(e,"/cancel"),{method:"PUT",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to cancel booking: ".concat(t.statusText));return t.json()}async getCities(){const e=await fetch("".concat(ws,"/cities"));if(!e.ok)throw new Error("Failed to fetch cities: ".concat(e.statusText));return e.json()}},Ns=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("all");(0,a.useEffect)(()=>{u();const e=()=>{u()},t=()=>{document.hidden||u()},s=()=>{u()};return window.addEventListener("focus",e),document.addEventListener("visibilitychange",t),window.addEventListener("bookingCreated",s),()=>{window.removeEventListener("focus",e),document.removeEventListener("visibilitychange",t),window.removeEventListener("bookingCreated",s)}},[]);const u=async()=>{try{n(!0);let s=[];try{const e=await js.getAllBookings();s=Array.isArray(e)?e:e.content||[]}catch(e){console.log("API bookings not available, using demo data")}const a=JSON.parse(localStorage.getItem("demoBookings")||"[]").map(e=>({id:e.id,bookingReference:"BK".concat(e.id),user:{id:e.userId,firstName:e.userFirstName||"Demo",lastName:e.userLastName||"User",email:e.userEmail||"user".concat(e.userId,"@demo.com")},show:{movie:{title:e.movieTitle,posterUrl:"/placeholder-movie.jpg"},venue:{name:e.venueName,address:e.venueName},showDate:e.showDate,showTime:e.showTime},seats:e.seats.map(e=>({seatNumber:e.seatNumber,seatType:e.type,price:e.price})),totalAmount:e.totalAmount,bookingDate:e.bookingDate,status:e.status||"CONFIRMED",paymentStatus:"CONFIRMED",source:"DEMO"})),r=[...s,...a];t(r)}catch(s){console.error("Error loading bookings:",s),i("Failed to load bookings")}finally{n(!1)}},h=e.filter(e=>{var t,s,n,a,r,i,l,d,u,h;const m=(null===(t=e.show)||void 0===t||null===(s=t.movie)||void 0===s||null===(n=s.title)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.bookingReference)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.show)||void 0===r||null===(i=r.venue)||void 0===i||null===(l=i.name)||void 0===l?void 0:l.toLowerCase().includes(o.toLowerCase()))||(null===(d=e.user)||void 0===d||null===(u=d.email)||void 0===u?void 0:u.toLowerCase().includes(o.toLowerCase())),g="all"===c||(null===(h=e.status)||void 0===h?void 0:h.toLowerCase())===c.toLowerCase();return m&&g}),m=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"confirmed":case"completed":return(0,Fe.jsx)(gs,{className:"w-5 h-5"});case"cancelled":return(0,Fe.jsx)(ps,{className:"w-5 h-5"});default:return(0,Fe.jsx)(ys,{className:"w-5 h-5"})}},f=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return s?(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsxs)("div",{className:"animate-pulse",children:[(0,Fe.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),(0,Fe.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,Fe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e))})]})}):(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Management"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Monitor and manage all movie bookings"})]}),(0,Fe.jsxs)("button",{onClick:u,disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Fe.jsx)("span",{children:s?"Refreshing...":"Refresh"})]})]}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,Fe.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Fe.jsxs)("div",{className:"flex-1 relative",children:[(0,Fe.jsx)(gt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search by movie title, booking reference, venue, or user email...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Fe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Fe.jsx)("option",{value:"all",children:"All Status"}),(0,Fe.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Fe.jsx)("option",{value:"completed",children:"Completed"}),(0,Fe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Fe.jsx)(ys,{className:"h-6 w-6 text-blue-600"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Fe.jsx)(gs,{className:"h-6 w-6 text-green-600"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Confirmed"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"CONFIRMED"===e.status).length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Fe.jsx)(_t,{className:"h-6 w-6 text-yellow-600"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,Fe.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20b9",e.reduce((e,t)=>e+(t.totalAmount||0),0)]})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Fe.jsx)(Gt,{className:"h-6 w-6 text-purple-600"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Demo Bookings"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"DEMO"===e.source).length})]})]})})]}),r&&(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,Fe.jsx)("p",{className:"text-red-800",children:r})}),0===h.length?(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[(0,Fe.jsx)(ys,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bookings found"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:o||"all"!==c?"Try adjusting your search or filter criteria":"No bookings have been made yet"})]}):(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Details"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Movie & Show"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seats"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>{var t,s,n,a,i,o,l,c,d,h,x,p;return(0,Fe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.bookingReference,"DEMO"===e.source&&(0,Fe.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Demo"})]}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500",children:f(e.bookingDate)})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[null===(t=e.user)||void 0===t?void 0:t.firstName," ",null===(s=e.user)||void 0===s?void 0:s.lastName]}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500",children:null===(n=e.user)||void 0===n?void 0:n.email})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:null===(a=e.show)||void 0===a||null===(i=a.movie)||void 0===i?void 0:i.title}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500",children:null===(o=e.show)||void 0===o||null===(l=o.venue)||void 0===l?void 0:l.name}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-500",children:[f(null===(c=e.show)||void 0===c?void 0:c.showDate)," at ",(p=null===(d=e.show)||void 0===d?void 0:d.showTime,new Date("2000-01-01T".concat(p)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}))]})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(h=e.seats)||void 0===h?void 0:h.slice(0,3).map((e,t)=>(0,Fe.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:e.seatNumber},t)),(null===(x=e.seats)||void 0===x?void 0:x.length)>3&&(0,Fe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.seats.length-3," more"]})]})}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20b9",e.totalAmount]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(m(e.status)),children:[g(e.status),(0,Fe.jsx)("span",{className:"ml-1",children:e.status})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,Fe.jsx)(Bt,{className:"h-4 w-4"})}),(0,Fe.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{const s=JSON.parse(localStorage.getItem("demoBookings")||"[]").map(s=>s.id===e?Re(Re({},s),{},{status:t}):s);localStorage.setItem("demoBookings",JSON.stringify(s)),u()}catch(r){console.error("Error updating booking status:",r)}})(e.id,t.target.value),className:"text-sm border-gray-300 rounded",children:[(0,Fe.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,Fe.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,Fe.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]})})]},"".concat(e.source||"API","-").concat(e.id))})})]})})})]})};function ks(e){return e+.5|0}const Ss=(e,t,s)=>Math.max(Math.min(e,s),t);function _s(e){return Ss(ks(2.55*e),0,255)}function Cs(e){return Ss(ks(255*e),0,255)}function Es(e){return Ss(ks(e/2.55)/100,0,1)}function Ms(e){return Ss(ks(100*e),0,100)}const Ps={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ds=[..."0123456789ABCDEF"],As=e=>Ds[15&e],Ts=e=>Ds[(240&e)>>4]+Ds[15&e],Ls=e=>(240&e)>>4===(15&e);function Os(e){var t=(e=>Ls(e.r)&&Ls(e.g)&&Ls(e.b)&&Ls(e.a))(e)?As:Ts;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Is=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rs(e,t,s){const n=t*Math.min(s,1-s),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-n*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function Fs(e,t,s){const n=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return s-s*t*Math.max(Math.min(a,4-a,1),0)};return[n(5),n(3),n(1)]}function Bs(e,t,s){const n=Rs(e,1,.5);let a;for(t+s>1&&(a=1/(t+s),t*=a,s*=a),a=0;a<3;a++)n[a]*=1-t-s,n[a]+=t;return n}function zs(e){const t=e.r/255,s=e.g/255,n=e.b/255,a=Math.max(t,s,n),r=Math.min(t,s,n),i=(a+r)/2;let o,l,c;return a!==r&&(c=a-r,l=i>.5?c/(2-a-r):c/(a+r),o=function(e,t,s,n,a){return e===a?(t-s)/n+(t<s?6:0):t===a?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,a),o=60*o+.5),[0|o,l||0,i]}function Vs(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Cs)}function Us(e,t,s){return Vs(Rs,e,t,s)}function Hs(e){return(e%360+360)%360}function Ws(e){const t=Is.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?_s(+t[5]):Cs(+t[5]));const a=Hs(+t[2]),r=+t[3]/100,i=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return Vs(Bs,e,t,s)}(a,r,i):"hsv"===t[1]?function(e,t,s){return Vs(Fs,e,t,s)}(a,r,i):Us(a,r,i),{r:s[0],g:s[1],b:s[2],a:n}}const $s={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ys={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let qs;function Js(e){qs||(qs=function(){const e={},t=Object.keys(Ys),s=Object.keys($s);let n,a,r,i,o;for(n=0;n<t.length;n++){for(i=o=t[n],a=0;a<s.length;a++)r=s[a],o=o.replace(r,$s[r]);r=parseInt(Ys[i],16),e[o]=[r>>16&255,r>>8&255,255&r]}return e}(),qs.transparent=[0,0,0,0]);const t=qs[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Gs=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Qs=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Xs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zs(e,t,s){if(e){let n=zs(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=Us(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ks(e,t){return e?Object.assign(t||{},e):e}function en(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Cs(e[3]))):(t=Ks(e,{r:0,g:0,b:0,a:1})).a=Cs(t.a),t}function tn(e){return"r"===e.charAt(0)?function(e){const t=Gs.exec(e);let s,n,a,r=255;if(t){if(t[7]!==s){const e=+t[7];r=t[8]?_s(e):Ss(255*e,0,255)}return s=+t[1],n=+t[3],a=+t[5],s=255&(t[2]?_s(s):Ss(s,0,255)),n=255&(t[4]?_s(n):Ss(n,0,255)),a=255&(t[6]?_s(a):Ss(a,0,255)),{r:s,g:n,b:a,a:r}}}(e):Ws(e)}class sn{constructor(e){if(e instanceof sn)return e;const t=typeof e;let s;"object"===t?s=en(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*Ps[e[1]],g:255&17*Ps[e[2]],b:255&17*Ps[e[3]],a:5===s?17*Ps[e[4]]:255}:7!==s&&9!==s||(t={r:Ps[e[1]]<<4|Ps[e[2]],g:Ps[e[3]]<<4|Ps[e[4]],b:Ps[e[5]]<<4|Ps[e[6]],a:9===s?Ps[e[7]]<<4|Ps[e[8]]:255})),t}(e)||Js(e)||tn(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ks(this._rgb);return e&&(e.a=Es(e.a)),e}set rgb(e){this._rgb=en(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Es(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?Os(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=zs(e),s=t[0],n=Ms(t[1]),a=Ms(t[2]);return e.a<255?"hsla(".concat(s,", ").concat(n,"%, ").concat(a,"%, ").concat(Es(e.a),")"):"hsl(".concat(s,", ").concat(n,"%, ").concat(a,"%)")}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let a;const r=t===a?.5:t,i=2*r-1,o=s.a-n.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;a=1-l,s.r=255&l*s.r+a*n.r+.5,s.g=255&l*s.g+a*n.g+.5,s.b=255&l*s.b+a*n.b+.5,s.a=r*s.a+(1-r)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=Xs(Es(e.r)),a=Xs(Es(e.g)),r=Xs(Es(e.b));return{r:Cs(Qs(n+s*(Xs(Es(t.r))-n))),g:Cs(Qs(a+s*(Xs(Es(t.g))-a))),b:Cs(Qs(r+s*(Xs(Es(t.b))-r))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new sn(this.rgb)}alpha(e){return this._rgb.a=Cs(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ks(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zs(this._rgb,2,e),this}darken(e){return Zs(this._rgb,2,-e),this}saturate(e){return Zs(this._rgb,1,e),this}desaturate(e){return Zs(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=zs(e);s[0]=Hs(s[0]+t),s=Us(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function nn(){}const an=(()=>{let e=0;return()=>e++})();function rn(e){return null===e||void 0===e}function on(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ln(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function cn(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function dn(e,t){return cn(e)?e:t}function un(e,t){return"undefined"===typeof e?t:e}const hn=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mn(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function gn(e,t,s,n){let a,r,i;if(on(e))if(r=e.length,n)for(a=r-1;a>=0;a--)t.call(s,e[a],a);else for(a=0;a<r;a++)t.call(s,e[a],a);else if(ln(e))for(i=Object.keys(e),r=i.length,a=0;a<r;a++)t.call(s,e[i[a]],i[a])}function fn(e,t){let s,n,a,r;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(a=e[s],r=t[s],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function xn(e){if(on(e))return e.map(xn);if(ln(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let a=0;for(;a<n;++a)t[s[a]]=xn(e[s[a]]);return t}return e}function pn(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function bn(e,t,s,n){if(!pn(e))return;const a=t[e],r=s[e];ln(a)&&ln(r)?vn(a,r,n):t[e]=xn(r)}function vn(e,t,s){const n=on(t)?t:[t],a=n.length;if(!ln(e))return e;const r=(s=s||{}).merger||bn;let i;for(let o=0;o<a;++o){if(i=n[o],!ln(i))continue;const t=Object.keys(i);for(let n=0,a=t.length;n<a;++n)r(t[n],e,i,s)}return e}function yn(e,t){return vn(e,t,{merger:wn})}function wn(e,t,s){if(!pn(e))return;const n=t[e],a=s[e];ln(n)&&ln(a)?yn(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=xn(a))}const jn={"":e=>e,x:e=>e.x,y:e=>e.y};function Nn(e,t){const s=jn[t]||(jn[t]=function(e){const t=function(e){const t=e.split("."),s=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function kn(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Sn=e=>"undefined"!==typeof e,_n=e=>"function"===typeof e,Cn=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const En=Math.PI,Mn=2*En,Pn=Mn+En,Dn=Number.POSITIVE_INFINITY,An=En/180,Tn=En/2,Ln=En/4,On=2*En/3,In=Math.log10,Rn=Math.sign;function Fn(e,t,s){return Math.abs(e-t)<s}function Bn(e){const t=Math.round(e);e=Fn(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(In(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function zn(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Vn(e,t,s){let n,a,r;for(n=0,a=e.length;n<a;n++)r=e[n][s],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Un(e){return e*(En/180)}function Hn(e){return e*(180/En)}function Wn(e){if(!cn(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function $n(e,t){const s=t.x-e.x,n=t.y-e.y,a=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*En&&(r+=Mn),{angle:r,distance:a}}function Yn(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qn(e,t){return(e-t+Pn)%Mn-En}function Jn(e){return(e%Mn+Mn)%Mn}function Gn(e,t,s,n){const a=Jn(e),r=Jn(t),i=Jn(s),o=Jn(r-a),l=Jn(i-a),c=Jn(a-r),d=Jn(a-i);return a===r||a===i||n&&r===i||o>l&&c<d}function Qn(e,t,s){return Math.max(t,Math.min(s,e))}function Xn(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Zn(e,t,s){s=s||(s=>e[s]<t);let n,a=e.length-1,r=0;for(;a-r>1;)n=r+a>>1,s(n)?r=n:a=n;return{lo:r,hi:a}}const Kn=(e,t,s,n)=>Zn(e,s,n?n=>{const a=e[n][t];return a<s||a===s&&e[n+1][t]===s}:n=>e[n][t]<s),ea=(e,t,s)=>Zn(e,s,n=>e[n][t]>=s);const ta=["push","pop","shift","splice","unshift"];function sa(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),n.length>0||(ta.forEach(t=>{delete e[t]}),delete e._chartjs)}function na(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const aa="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function ra(e,t){let s=[],n=!1;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];s=r,n||(n=!0,aa.call(window,()=>{n=!1,e.apply(t,s)}))}}const ia=e=>"start"===e?"left":"end"===e?"right":"center",oa=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function la(e,t,s){const n=t.length;let a=0,r=n;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:m,maxDefined:g}=i.getUserBounds();if(m){if(a=Math.min(Kn(l,d,u).lo,s?n:Kn(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,a+1).reverse().findIndex(e=>!rn(e[o.axis]));a-=Math.max(0,e)}a=Qn(a,0,n-1)}if(g){let e=Math.max(Kn(l,i.axis,h,!0).hi+1,s?0:Kn(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!rn(e[o.axis]));e+=Math.max(0,t)}r=Qn(e,a,n)-a}else r=n-a}return{start:a,count:r}}function ca(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=a,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),r}const da=e=>0===e||1===e,ua=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Mn/s),ha=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Mn/s)+1,ma={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Tn),easeOutSine:e=>Math.sin(e*Tn),easeInOutSine:e=>-.5*(Math.cos(En*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>da(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>da(e)?e:ua(e,.075,.3),easeOutElastic:e=>da(e)?e:ha(e,.075,.3),easeInOutElastic(e){const t=.1125;return da(e)?e:e<.5?.5*ua(2*e,t,.45):.5+.5*ha(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ma.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*ma.easeInBounce(2*e):.5*ma.easeOutBounce(2*e-1)+.5};function ga(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function fa(e){return ga(e)?e:new sn(e)}function xa(e){return ga(e)?e:new sn(e).saturate(.5).darken(.1).hexString()}const pa=["x","y","borderWidth","radius","tension"],ba=["color","borderColor","backgroundColor"];const va=new Map;function ya(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=va.get(s);return n||(n=new Intl.NumberFormat(e,t),va.set(s,n)),n}(t,s).format(e)}const wa={values:e=>on(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let a,r=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),r=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const i=In(Math.abs(r)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),ya(e,n,l)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(In(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?wa.numeric.call(this,e,t,s):""}};var ja={formatters:wa};const Na=Object.create(null),ka=Object.create(null);function Sa(e,t){if(!t)return e;const s=t.split(".");for(let n=0,a=s.length;n<a;++n){const t=s[n];e=e[t]||(e[t]=Object.create(null))}return e}function _a(e,t,s){return"string"===typeof t?vn(Sa(e,t),s):vn(Sa(e,""),t)}class Ca{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>xa(t.backgroundColor),this.hoverBorderColor=(e,t)=>xa(t.borderColor),this.hoverColor=(e,t)=>xa(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _a(this,e,t)}get(e){return Sa(this,e)}describe(e,t){return _a(ka,e,t)}override(e,t){return _a(Na,e,t)}route(e,t,s,n){const a=Sa(this,e),r=Sa(this,s),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=r[n];return ln(e)?Object.assign({},t,e):un(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var Ea=new Ca({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ba},numbers:{type:"number",properties:pa}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ja.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Ma(e,t,s,n,a){let r=t[a];return r||(r=t[a]=e.measureText(a).width,s.push(a)),r>n&&(n=r),n}function Pa(e,t,s,n){let a=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},r=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const o=s.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=s[l],void 0===u||null===u||on(u)){if(on(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||on(h)||(i=Ma(e,a,r,i,h))}else i=Ma(e,a,r,i,u);e.restore();const m=r.length/2;if(m>s.length){for(l=0;l<m;l++)delete a[r[l]];r.splice(0,m)}return i}function Da(e,t,s){const n=e.currentDevicePixelRatio,a=0!==s?Math.max(s/2,.5):0;return Math.round((t-a)*n)/n+a}function Aa(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ta(e,t,s,n){La(e,t,s,n,null)}function La(e,t,s,n,a){let r,i,o,l,c,d,u,h;const m=t.pointStyle,g=t.rotation,f=t.radius;let x=(g||0)*An;if(m&&"object"===typeof m&&(r=m.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(s,n),e.rotate(x),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:a?e.ellipse(s,n,a/2,f,0,0,Mn):e.arc(s,n,f,0,Mn),e.closePath();break;case"triangle":d=a?a/2:f,e.moveTo(s+Math.sin(x)*d,n-Math.cos(x)*f),x+=On,e.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*f),x+=On,e.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,i=Math.cos(x+Ln)*l,u=Math.cos(x+Ln)*(a?a/2-c:l),o=Math.sin(x+Ln)*l,h=Math.sin(x+Ln)*(a?a/2-c:l),e.arc(s-u,n-o,c,x-En,x-Tn),e.arc(s+h,n-i,c,x-Tn,x),e.arc(s+u,n+o,c,x,x+Tn),e.arc(s-h,n+i,c,x+Tn,x+En),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*f,d=a?a/2:l,e.rect(s-d,n-l,2*d,2*l);break}x+=Ln;case"rectRot":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,o=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+h,n-i),e.lineTo(s+u,n+o),e.lineTo(s-h,n+i),e.closePath();break;case"crossRot":x+=Ln;case"cross":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,o=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"star":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,o=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i),x+=Ln,u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,o=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"line":i=a?a/2:Math.cos(x)*f,o=Math.sin(x)*f,e.moveTo(s-i,n-o),e.lineTo(s+i,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(x)*(a?a/2:f),n+Math.sin(x)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Oa(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Ia(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ra(e){e.restore()}function Fa(e,t,s,n,a){if(!t)return e.lineTo(s.x,s.y);if("middle"===a){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===a!==!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Ba(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function za(e,t,s,n,a){if(a.strikethrough||a.underline){const r=e.measureText(n),i=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function Va(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Ua(e,t,s,n,a){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=on(t)?t:[t],o=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),rn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<i.length;++l)c=i[l],r.backdrop&&Va(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),rn(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,s,n,r.maxWidth)),e.fillText(c,s,n,r.maxWidth),za(e,s,n,c,r),n+=Number(a.lineHeight);e.restore()}function Ha(e,t){const{x:s,y:n,w:a,h:r,radius:i}=t;e.arc(s+i.topLeft,n+i.topLeft,i.topLeft,1.5*En,En,!0),e.lineTo(s,n+r-i.bottomLeft),e.arc(s+i.bottomLeft,n+r-i.bottomLeft,i.bottomLeft,En,Tn,!0),e.lineTo(s+a-i.bottomRight,n+r),e.arc(s+a-i.bottomRight,n+r-i.bottomRight,i.bottomRight,Tn,0,!0),e.lineTo(s+a,n+i.topRight),e.arc(s+a-i.topRight,n+i.topRight,i.topRight,0,-Tn,!0),e.lineTo(s+i.topLeft,n)}const Wa=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$a=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ya(e,t){const s=(""+e).match(Wa);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const qa=e=>+e||0;function Ja(e,t){const s={},n=ln(t),a=n?Object.keys(t):t,r=ln(e)?n?s=>un(e[s],e[t[s]]):t=>e[t]:()=>e;for(const i of a)s[i]=qa(r(i));return s}function Ga(e){return Ja(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Qa(e){return Ja(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xa(e){const t=Ga(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Za(e,t){e=e||{},t=t||Ea.font;let s=un(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let n=un(e.style,t.style);n&&!(""+n).match($a)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:un(e.family,t.family),lineHeight:Ya(un(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:un(e.weight,t.weight),string:""};return a.string=function(e){return!e||rn(e.size)||rn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Ka(e,t,s,n){let a,r,i,o=!0;for(a=0,r=e.length;a<r;++a)if(i=e[a],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==s&&on(i)&&(i=i[s%i.length],o=!1),void 0!==i))return n&&!o&&(n.cacheable=!1),i}function er(e,t){return Object.assign(Object.create(e),t)}function tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=hr("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:s,_getTarget:n,override:n=>tr([n,...e],t,a,s)};return new Proxy(r,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>ir(s,n,()=>function(e,t,s,n){let a;for(const r of t)if(a=hr(ar(r,e),s),"undefined"!==typeof a)return rr(e,a)?dr(s,n,e,a):a}(n,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>mr(e).includes(t),ownKeys:e=>mr(e),set(e,t,s){const a=e._storage||(e._storage=n());return e[t]=a[t]=s,delete e._keys,!0}})}function sr(e,t,s,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:nr(e,n),setContext:t=>sr(e,t,s,n),override:a=>sr(e.override(a),t,s,n)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>ir(e,t,()=>function(e,t,s){const{_proxy:n,_context:a,_subProxy:r,_descriptors:i}=e;let o=n[t];_n(o)&&i.isScriptable(t)&&(o=function(e,t,s,n){const{_proxy:a,_context:r,_subProxy:i,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,i||n);o.delete(e),rr(e,l)&&(l=dr(a._scopes,a,e,l));return l}(t,o,e,s));on(o)&&o.length&&(o=function(e,t,s,n){const{_proxy:a,_context:r,_subProxy:i,_descriptors:o}=s;if("undefined"!==typeof r.index&&n(e))return t[r.index%t.length];if(ln(t[0])){const s=t,n=a._scopes.filter(e=>e!==s);t=[];for(const l of s){const s=dr(n,a,e,l);t.push(sr(s,r,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));rr(t,o)&&(o=sr(o,a,r&&r[t],i));return o}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:s,indexable:n,isScriptable:_n(s)?s:()=>s,isIndexable:_n(n)?n:()=>n}}const ar=(e,t)=>e?e+kn(t):t,rr=(e,t)=>ln(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ir(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=s();return e[t]=n,n}function or(e,t,s){return _n(e)?e(t,s):e}const lr=(e,t)=>!0===e?t:"string"===typeof e?Nn(t,e):void 0;function cr(e,t,s,n,a){for(const r of t){const t=lr(s,r);if(t){e.add(t);const r=or(t._fallback,s,a);if("undefined"!==typeof r&&r!==s&&r!==n)return r}else if(!1===t&&"undefined"!==typeof n&&s!==n)return null}return!1}function dr(e,t,s,n){const a=t._rootScopes,r=or(t._fallback,s,n),i=[...e,...a],o=new Set;o.add(n);let l=ur(o,i,s,r||s,n);return null!==l&&(("undefined"===typeof r||r===s||(l=ur(o,i,r,l,n),null!==l))&&tr(Array.from(o),[""],a,r,()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const a=n[t];if(on(a)&&ln(s))return s;return a||{}}(t,s,n)))}function ur(e,t,s,n,a){for(;s;)s=cr(e,t,s,n,a);return s}function hr(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function mr(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function gr(e,t,s,n){const{iScale:a}=e,{key:r="r"}=this._parsing,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+s,d=t[c],i[o]={r:a.parse(Nn(d,r),c)};return i}const fr=Number.EPSILON||1e-14,xr=(e,t)=>t<e.length&&!e[t].skip&&e[t],pr=e=>"x"===e?"y":"x";function br(e,t,s,n){const a=e.skip?t:e,r=t,i=s.skip?t:s,o=Yn(r,a),l=Yn(i,r);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:r.x-u*(i.x-a.x),y:r.y-u*(i.y-a.y)},next:{x:r.x+h*(i.x-a.x),y:r.y+h*(i.y-a.y)}}}function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=pr(t),n=e.length,a=Array(n).fill(0),r=Array(n);let i,o,l,c=xr(e,0);for(i=0;i<n;++i)if(o=l,l=c,c=xr(e,i+1),l){if(c){const e=c[t]-l[t];a[i]=0!==e?(c[s]-l[s])/e:0}r[i]=o?c?Rn(a[i-1])!==Rn(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,s){const n=e.length;let a,r,i,o,l,c=xr(e,0);for(let d=0;d<n-1;++d)l=c,c=xr(e,d+1),l&&c&&(Fn(t[d],0,fr)?s[d]=s[d+1]=0:(a=s[d]/t[d],r=s[d+1]/t[d],o=Math.pow(a,2)+Math.pow(r,2),o<=9||(i=3/Math.sqrt(o),s[d]=a*i*t[d],s[d+1]=r*i*t[d])))}(e,a,r),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=pr(s),a=e.length;let r,i,o,l=xr(e,0);for(let c=0;c<a;++c){if(i=o,o=l,l=xr(e,c+1),!o)continue;const a=o[s],d=o[n];i&&(r=(a-i[s])/3,o["cp1".concat(s)]=a-r,o["cp1".concat(n)]=d-r*t[c]),l&&(r=(l[s]-a)/3,o["cp2".concat(s)]=a+r,o["cp2".concat(n)]=d+r*t[c])}}(e,r,t)}function yr(e,t,s){return Math.max(Math.min(e,s),t)}function wr(e,t,s,n,a){let r,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)vr(e,a);else{let s=n?e[e.length-1]:e[0];for(r=0,i=e.length;r<i;++r)o=e[r],l=br(s,o,e[Math.min(r+1,i-(n?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,s=o}t.capBezierPoints&&function(e,t){let s,n,a,r,i,o=Oa(e[0],t);for(s=0,n=e.length;s<n;++s)i=r,r=o,o=s<n-1&&Oa(e[s+1],t),r&&(a=e[s],i&&(a.cp1x=yr(a.cp1x,t.left,t.right),a.cp1y=yr(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=yr(a.cp2x,t.left,t.right),a.cp2y=yr(a.cp2y,t.top,t.bottom)))}(e,s)}function jr(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Nr(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function kr(e,t,s){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const Sr=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const _r=["top","right","bottom","left"];function Cr(e,t,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const r=_r[a];n[r]=parseFloat(e[t+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Er(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,a=Sr(s),r="border-box"===a.boxSizing,i=Cr(a,"padding"),o=Cr(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:a,offsetY:r}=n;let i,o,l=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(a,r,e.target))i=a,o=r;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,s),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:m,height:g}=t;return r&&(m-=i.width+o.width,g-=i.height+o.height),{x:Math.round((l-u)/m*s.width/n),y:Math.round((c-h)/g*s.height/n)}}const Mr=e=>Math.round(10*e)/10;function Pr(e,t,s,n){const a=Sr(e),r=Cr(a,"margin"),i=kr(a.maxWidth,e,"clientWidth")||Dn,o=kr(a.maxHeight,e,"clientHeight")||Dn,l=function(e,t,s){let n,a;if(void 0===t||void 0===s){const r=e&&Nr(e);if(r){const e=r.getBoundingClientRect(),i=Sr(r),o=Cr(i,"border","width"),l=Cr(i,"padding");t=e.width-l.width-o.width,s=e.height-l.height-o.height,n=kr(i.maxWidth,r,"clientWidth"),a=kr(i.maxHeight,r,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||Dn,maxHeight:a||Dn}}(e,t,s);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=Cr(a,"border","width"),t=Cr(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-r.width),d=Math.max(0,n?c/n:d-r.height),c=Mr(Math.min(c,i,l.maxWidth)),d=Mr(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Mr(c/2));return(void 0!==t||void 0!==s)&&n&&l.height&&d>l.height&&(d=l.height,c=Mr(Math.floor(d*n))),{width:c,height:d}}function Dr(e,t,s){const n=t||1,a=Mr(e.height*n),r=Mr(e.width*n);e.height=Mr(e.height),e.width=Mr(e.width);const i=e.canvas;return i.style&&(s||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==a||i.width!==r)&&(e.currentDevicePixelRatio=n,i.height=a,i.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Ar=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jr()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Fd){}return e}();function Tr(e,t){const s=function(e,t){return Sr(e).getPropertyValue(t)}(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Lr(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Or(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function Ir(e,t,s,n){const a={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},i=Lr(e,a,s),o=Lr(a,r,s),l=Lr(r,t,s),c=Lr(i,o,s),d=Lr(o,l,s);return Lr(c,d,s)}function Rr(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Fr(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Br(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function zr(e){return"angle"===e?{between:Gn,compare:qn,normalize:Jn}:{between:Xn,compare:(e,t)=>e-t,normalize:e=>e}}function Vr(e){let{start:t,end:s,count:n,loop:a,style:r}=e;return{start:t%n,end:s%n,loop:a&&(s-t+1)%n===0,style:r}}function Ur(e,t,s){if(!s)return[e];const{property:n,start:a,end:r}=s,i=t.length,{compare:o,between:l,normalize:c}=zr(n),{start:d,end:u,loop:h,style:m}=function(e,t,s){const{property:n,start:a,end:r}=s,{between:i,normalize:o}=zr(n),l=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][n]),a,r);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:e.style}}(e,t,s),g=[];let f,x,p,b=!1,v=null;const y=()=>b||l(a,p,f)&&0!==o(a,p),w=()=>!b||0===o(r,f)||l(r,p,f);for(let j=d,N=d;j<=u;++j)x=t[j%i],x.skip||(f=c(x[n]),f!==p&&(b=l(f,a,r),null===v&&y()&&(v=0===o(f,a)?j:N),null!==v&&w()&&(g.push(Vr({start:v,end:j,loop:h,count:i,style:m})),v=null),N=j,p=f));return null!==v&&g.push(Vr({start:v,end:u,loop:h,count:i,style:m})),g}function Hr(e,t){const s=[],n=e.segments;for(let a=0;a<n.length;a++){const r=Ur(n[a],e.points,t);r.length&&s.push(...r)}return s}function Wr(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const a=e._chart.getContext(),r=$r(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=s.length,c=[];let d=r,u=t[0].start,h=u;function m(e,t,n,a){const r=o?-1:1;if(e!==t){for(e+=l;s[e%l].skip;)e-=r;for(;s[t%l].skip;)t+=r;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:a}),d=a,u=t%l)}}for(const g of t){u=o?u:g.start;let e,t=s[u%l];for(h=u+1;h<=g.end;h++){const r=s[h%l];e=$r(n.setContext(er(a,{type:"segment",p0:t,p1:r,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),Yr(e,d)&&m(u,h-1,g.loop,d),t=r,d=e}u<h-1&&m(u,h-1,g.loop,d)}return c}(e,t,s,n):t}function $r(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Yr(e,t){if(!t)return!1;const s=[],n=function(e,t){return ga(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function qr(e,t,s){return e.options.clip?e[s]:t[s]}function Jr(e,t){const s=t._clip;if(s.disabled)return!1;const n=function(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:qr(s,t,"left"),right:qr(s,t,"right"),top:qr(n,t,"top"),bottom:qr(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:n.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:n.right+(!0===s.right?0:s.right),top:!1===s.top?0:n.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:n.bottom+(!0===s.bottom?0:s.bottom)}}class Gr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const a=t.listeners[n],r=t.duration;a.forEach(n=>n({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(s-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=aa.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const a=s.items;let r,i=a.length-1,o=!1;for(;i>=0;--i)r=a[i],r._active?(r._total>s.duration&&(s.duration=r._total),r.tick(e),o=!0):(a[i]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,s,e,"progress")),a.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qr=new Gr;const Xr="transparent",Zr={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const n=fa(e||Xr),a=n.valid&&fa(t||Xr);return a&&a.valid?a.mix(n,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class Kr{constructor(e,t,s,n){const a=t[s];n=Ka([e.to,n,a,e.from]);const r=Ka([e.from,a,n]);this._active=!0,this._fn=e.fn||Zr[e.type||typeof r],this._easing=ma[e.easing]||ma.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const n=this._target[this._prop],a=s-this._start,r=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ka([e.to,t,n,e.from]),this._from=Ka([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,a=this._from,r=this._loop,i=this._to;let o;if(this._active=a!==i&&(r||t<s),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=a:(o=t/s%2,o=r&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(a,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][t]()}}class ei{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ln(e))return;const t=Object.keys(Ea.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const a=e[n];if(!ln(a))return;const r={};for(const e of t)r[e]=a[e];(on(a.properties)&&a.properties||[n]).forEach(e=>{e!==n&&s.has(e)||s.set(e,r)})})}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const a=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const t=e[n[a]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),a}_createAnimations(e,t){const s=this._properties,n=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),i=Date.now();let o;for(o=r.length-1;o>=0;--o){const l=r[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const u=s.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[l]=d=new Kr(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(Qr.add(this._chart,s),!0):void 0}}function ti(e,t){const s=e&&e.options||{},n=s.reverse,a=void 0===s.min?t:0,r=void 0===s.max?t:0;return{start:n?r:a,end:n?a:r}}function si(e,t){const s=[],n=e._getSortedDatasetMetas(t);let a,r;for(a=0,r=n.length;a<r;++a)s.push(n[a].index);return s}function ni(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,r="single"===n.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=a.length;i<o;++i){if(l=+a[i],l===s){if(d=!0,n.all)continue;break}c=e.values[l],cn(c)&&(r||0===t||Rn(t)===Rn(c))&&(t+=c)}return d||n.all?t:0}function ai(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function ri(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function ii(e,t,s,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const t=e[a.index];if(s&&t>0||!s&&t<0)return a.index}return null}function oi(e,t){const{chart:s,_cachedMeta:n}=e,a=s._stacks||(s._stacks={}),{iScale:r,vScale:i,index:o}=n,l=r.axis,c=i.axis,d=function(e,t,s){return"".concat(e.id,".").concat(t.id,".").concat(s.stack||s.type)}(r,i,n),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[l]:s,[c]:r}=e;h=(e._stacks||(e._stacks={}))[c]=ri(a,d,s),h[o]=r,h._top=ii(h,i,!0,n.type),h._bottom=ii(h,i,!1,n.type);(h._visualValues||(h._visualValues={}))[o]=r}}function li(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function ci(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const di=e=>"reset"===e||"none"===e,ui=(e,t)=>t?e:Object.assign({},e);class hi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ai(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),n=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,a=t.xAxisID=un(s.xAxisID,li(e,"x")),r=t.yAxisID=un(s.yAxisID,li(e,"y")),i=t.rAxisID=un(s.rAxisID,li(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,a,r,i),c=t.vAxisID=n(o,r,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sa(this._data,this),e._stacked&&ci(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(ln(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:n}=t,a="x"===s.axis?"x":"y",r="x"===n.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[a]:d,[r]:e[d]};return o}(t,e)}else if(s!==t){if(s){sa(s,this);const e=this._cachedMeta;ci(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(n=t)._chartjs?n._chartjs.listeners.push(a):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),ta.forEach(e=>{const t="_onData"+kn(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];const i=s.apply(this,a);return n._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...a)}),i}})}))),this._syncList=[],this._data=t}var n,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=ai(t.vScale,t),t.stack!==s.stack&&(n=!0,ci(t),t.stack=s.stack),this._resyncElements(e),(n||a!==t._stacked)&&(oi(this,t._parsed),t._stacked=ai(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:n}=this,{iScale:a,_stacked:r}=s,i=a.axis;let o,l,c,d=0===e&&t===n.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=n,s._sorted=!0,c=n;else{c=on(n[e])?this.parseArrayData(s,n,e,t):ln(n[e])?this.parseObjectData(s,n,e,t):this.parsePrimitiveData(s,n,e,t);const a=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)s._parsed[o+e]=l=c[o],d&&(a()&&(d=!1),u=l);s._sorted=d}r&&oi(this,c)}parsePrimitiveData(e,t,s,n){const{iScale:a,vScale:r}=e,i=a.axis,o=r.axis,l=a.getLabels(),c=a===r,d=new Array(n);let u,h,m;for(u=0,h=n;u<h;++u)m=u+s,d[u]={[i]:c||a.parse(l[m],m),[o]:r.parse(t[m],m)};return d}parseArrayData(e,t,s,n){const{xScale:a,yScale:r}=e,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+s,d=t[c],i[o]={x:a.parse(d[0],c),y:r.parse(d[1],c)};return i}parseObjectData(e,t,s,n){const{xScale:a,yScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+s,h=t[u],l[c]={x:a.parse(Nn(h,i),u),y:r.parse(Nn(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,a=this._cachedMeta,r=t[e.axis];return ni({keys:si(n,!0),values:t._stacks[e.axis]._visualValues},r,a.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const a=s[t.axis];let r=null===a?NaN:a;const i=n&&s._stacks[t.axis];n&&i&&(n.values=i,r=ni(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const s=this._cachedMeta,n=s._parsed,a=s._sorted&&e===s.iScale,r=n.length,i=this._getOtherScale(e),o=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:si(s,!0),values:null})(t,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}(i);let u,h;function m(){h=n[u];const t=h[i.axis];return!cn(h[e.axis])||c>t||d<t}for(u=0;u<r&&(m()||(this.updateRangeFromParsed(l,e,h,o),!a));++u);if(a)for(u=r-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let n,a,r;for(n=0,a=t.length;n<a;++n)r=t[n][e.axis],cn(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,n,a;return ln(e)?(t=e.top,s=e.right,n=e.bottom,a=e.left):t=s=n=a=e,{top:t,right:s,bottom:n,left:a,disabled:!1===e}}(un(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=ti(e,s),a=ti(t,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],a=t.chartArea,r=[],i=this._drawStart||0,o=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,a,i,o),c=i;c<i+o;++c){const t=n[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,a))}for(c=0;c<r.length;++c)r[c].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,s){return er(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return er(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const n="active"===t,a=this._cachedDataOpts,r=e+"-"+t,i=a[r],o=this.enableOptionSharing&&Sn(s);if(i)return ui(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Ea.elements[e]),m=l.resolveNamedOptions(u,h,()=>this.getContext(s,n,t),d);return m.$shared&&(m.$shared=o,a[r]=Object.freeze(ui(m,o))),m}_resolveAnimations(e,t,s){const n=this.chart,a=this._cachedDataOpts,r="animation-".concat(t),i=a[r];if(i)return i;let o;if(!1!==n.options.animation){const n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),r=n.getOptionScopes(this.getDataset(),a);o=n.createResolver(r,this.getContext(e,s,t))}const l=new ei(n,o&&o.animations);return o&&o._cacheable&&(a[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||di(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(s),r=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:r}}updateElement(e,t,s,n){di(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!di(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const n=s.length,a=t.length,r=Math.min(a,n);r&&this.parse(0,r),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,a=n.data,r=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=r;i--)e[i]=e[i-t]};for(o(a),i=e;i<r;++i)a[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&ci(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mi(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,a=s.length;t<a;t++)n=n.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=na(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,a,r,i,o=t._length;const l=()=>{32767!==r&&-32768!==r&&(Sn(i)&&(o=Math.min(o,Math.abs(r-i)||o)),i=r)};for(n=0,a=s.length;n<a;++n)r=t.getPixelForValue(s[n]),l();for(i=void 0,n=0,a=t.ticks.length;n<a;++n)r=t.getPixelForTick(n),l();return o}function gi(e,t,s,n){return on(e)?function(e,t,s,n){const a=s.parse(e[0],n),r=s.parse(e[1],n),i=Math.min(a,r),o=Math.max(a,r);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:r,min:i,max:o}}(e,t,s,n):t[s.axis]=s.parse(e,n),t}function fi(e,t,s,n){const a=e.iScale,r=e.vScale,i=a.getLabels(),o=a===r,l=[];let c,d,u,h;for(c=s,d=s+n;c<d;++c)h=t[c],u={},u[a.axis]=o||a.parse(i[c],c),l.push(gi(h,u,r,c));return l}function xi(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function pi(e,t,s,n){let a=t.borderSkipped;const r={};if(!a)return void(e.borderSkipped=r);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,s,n,a,r;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(a="end",r="start"):(a="start",r="end"),{start:s,end:n,reverse:t,top:a,bottom:r}}(e);"middle"===a&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?a=c:(s._bottom||0)===n?a=d:(r[bi(d,i,o,l)]=!0,a=c)),r[bi(a,i,o,l)]=!0,e.borderSkipped=r}function bi(e,t,s,n){var a,r,i;return n?(i=s,e=vi(e=(a=e)===(r=t)?i:a===i?r:a,s,t)):e=vi(e,t,s),e}function vi(e,t,s){return"start"===e?t:"end"===e?s:e}function yi(e,t,s){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===s?.33:0:n}Oe(hi,"defaults",{}),Oe(hi,"datasetElementType",null),Oe(hi,"dataElementType",null);class wi extends hi{parsePrimitiveData(e,t,s,n){return fi(e,t,s,n)}parseArrayData(e,t,s,n){return fi(e,t,s,n)}parseObjectData(e,t,s,n){const{iScale:a,vScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===a.axis?i:o,c="x"===r.axis?i:o,d=[];let u,h,m,g;for(u=s,h=s+n;u<h;++u)g=t[u],m={},m[a.axis]=a.parse(Nn(g,l),u),d.push(gi(Nn(g,c),m,r,u));return d}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const a=s._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,a=this.getParsed(e),r=a._custom,i=xi(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const a="reset"===n,{index:r,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+s;h++){const t=this.getParsed(h),s=a||rn(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),g=(t._stacks||{})[i.axis],f={horizontal:l,base:s.base,enableBorderRadius:!g||xi(t._custom)||r===g._top||r===g._bottom,x:l?s.head:m.center,y:l?m.center:s.head,height:l?m.size:Math.abs(s.size),width:l?Math.abs(s.size):m.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const x=f.options||e[h].options;pi(f,x,g,r),yi(f,x,c.ratio),this.updateElement(e[h],h,f,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),a=s.options.stacked,r=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[s.axis],l=e=>{const t=e._parsed.find(e=>e[s.axis]===o),n=t&&t[e.vScale.axis];if(rn(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===a||-1===r.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&r.push(c.stack),c.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[un("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const n=this._getStacks(e,s),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let a,r;for(a=0,r=t.data.length;a<r;++a)n.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const i=e.barThickness;return{min:i||mi(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:n},options:{base:a,minBarLength:r}}=this,i=a||0,o=this.getParsed(e),l=o._custom,c=xi(l);let d,u,h=o[t.axis],m=0,g=s?this.applyStack(t,o,s):h;g!==h&&(m=g-h,g=h),c&&(h=l.barStart,g=l.barEnd-l.barStart,0!==h&&Rn(h)!==Rn(l.barEnd)&&(m=0),m+=h);const f=rn(a)||c?m:a;let x=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+g):x,u=d-x,Math.abs(u)<r){u=function(e,t,s){return 0!==e?Rn(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,i)*r,h===i&&(x-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),l=Math.min(e,a),m=Math.max(e,a);x=Math.max(Math.min(x,m),l),d=x+u,s&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(x))}if(x===t.getPixelForValue(i)){const e=Rn(u)*t.getLineWidthForValue(i)/2;x+=e,u-=e}return{size:u,base:x,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,a=n.skipNull,r=un(n.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const s=a?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,s,n){const a=t.pixels,r=a[e];let i=e>0?a[e-1]:null,o=e<a.length-1?a[e+1]:null;const l=s.categoryPercentage;null===i&&(i=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-i);const c=r-(r-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/n,ratio:s.barPercentage,start:c}}(e,t,n,s*l):function(e,t,s,n){const a=s.barThickness;let r,i;return rn(a)?(r=t.min*s.categoryPercentage,i=s.barPercentage):(r=a*n,i=1),{chunk:r/n,ratio:i,start:t.pixels[e]-r/2}}(e,t,n,s*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(un(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(r,c.chunk*c.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),o=Math.min(r,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let a=0;for(;a<n;++a)null===this.getParsed(a)[t.axis]||s[a].hidden||s[a].draw(this._ctx)}}Oe(wi,"id","bar"),Oe(wi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Oe(wi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ji extends hi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,n){const a=super.parsePrimitiveData(e,t,s,n);for(let r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+s).radius;return a}parseArrayData(e,t,s,n){const a=super.parseArrayData(e,t,s,n);for(let r=0;r<a.length;r++){const e=t[s+r];a[r]._custom=un(e[2],this.resolveDataElementOptions(r+s).radius)}return a}parseObjectData(e,t,s,n){const a=super.parseObjectData(e,t,s,n);for(let r=0;r<a.length;r++){const e=t[s+r];a[r]._custom=un(e&&e.r&&+e.r,this.resolveDataElementOptions(r+s).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:a}=t,r=this.getParsed(e),i=n.getLabelForValue(r.x),o=a.getLabelForValue(r.y),l=r._custom;return{label:s[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=r.axis,d=i.axis;for(let u=t;u<t+s;u++){const t=e[u],s=!a&&this.getParsed(u),h={},m=h[c]=a?r.getPixelForDecimal(.5):r.getPixelForValue(s[c]),g=h[d]=a?i.getBasePixel():i.getPixelForValue(s[d]);h.skip=isNaN(m)||isNaN(g),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":n),a&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const a=n.radius;return"active"!==t&&(n.radius=0),n.radius+=un(s&&s._custom,a),n}}Oe(ji,"id","bubble"),Oe(ji,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Oe(ji,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ni extends hi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{let a,r,i=e=>+s[e];if(ln(s[e])){const{key:e="value"}=this._parsing;i=t=>+Nn(s[t],e)}for(a=e,r=e+t;a<r;++a)n._parsed[a]=i(a)}}_getRotation(){return Un(this.options.rotation-90)}_getCircumference(){return Un(this.options.circumference)}_getRotationExtents(){let e=Mn,t=-Mn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,a=n._getRotation(),r=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,n=this._cachedMeta,a=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(s.width,s.height)-r)/2,0),o=Math.min((l=this.options.cutout,c=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:f,offsetY:x}=function(e,t,s){let n=1,a=1,r=0,i=0;if(t<Mn){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),m=(e,t,n)=>Gn(e,o,l,!0)?1:Math.max(t,t*s,n,n*s),g=(e,t,n)=>Gn(e,o,l,!0)?-1:Math.min(t,t*s,n,n*s),f=m(0,c,u),x=m(Tn,d,h),p=g(En,c,u),b=g(En+Tn,d,h);n=(f-p)/2,a=(x-b)/2,r=-(f+p)/2,i=-(x+b)/2}return{ratioX:n,ratioY:a,offsetX:r,offsetY:i}}(h,u,o),p=(s.width-r)/m,b=(s.height-r)/g,v=Math.max(Math.min(p,b)/2,0),y=hn(this.options.radius,v),w=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=x*y,n.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const s=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/Mn)}updateElements(e,t,s,n){const a="reset"===n,r=this.chart,i=r.chartArea,o=r.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(t,n);let f,x=this._getRotation();for(f=0;f<t;++f)x+=this._circumference(f,a);for(f=t;f<t+s;++f){const t=this._circumference(f,a),s=e[f],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:x,endAngle:x+t,circumference:t,outerRadius:h,innerRadius:u};g&&(r.options=m||this.resolveDataElementOptions(f,s.active?"active":n)),x+=t,this.updateElement(s,f,r,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const a=e._parsed[s];null===a||isNaN(a)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Mn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=ya(t._parsed[e],s.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,a,r,i,o;if(!e)for(n=0,a=s.data.datasets.length;n<a;++n)if(s.isDatasetVisible(n)){r=s.getDatasetMeta(n),e=r.data,i=r.controller;break}if(!e)return 0;for(n=0,a=e.length;n<a;++n)o=i.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(un(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Oe(Ni,"id","doughnut"),Oe(Ni,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Oe(Ni,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Oe(Ni,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:n,color:a,useBorderRadius:r,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:n,pointStyle:s,borderRadius:r&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class ki extends hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:n=[],_dataset:a}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=la(t,n,r);this._drawStart=i,this._drawCount=o,ca(t)&&(i=0,o=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:l},e),this.updateElements(n,i,o,e)}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=r.axis,h=i.axis,{spanGaps:m,segment:g}=this.options,f=zn(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===n,p=t+s,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const s=e[y],m=x?s:{};if(y<t||y>=p){m.skip=!0;continue}const b=this.getParsed(y),w=rn(b[h]),j=m[u]=r.getPixelForValue(b[u],y),N=m[h]=a||w?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[h],y);m.skip=isNaN(j)||isNaN(N)||w,m.stop=y>0&&Math.abs(b[u]-v[u])>f,g&&(m.parsed=b,m.raw=l.data[y]),d&&(m.options=c||this.resolveDataElementOptions(y,s.active?"active":n)),x||this.updateElement(s,y,m,n),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Oe(ki,"id","line"),Oe(ki,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Oe(ki,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Si extends hi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=ya(t._parsed[e].r,s.options.locale);return{label:n[e]||"",value:a}}parseObjectData(e,t,s,n){return gr.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,s)=>{const n=this.getParsed(s).r;!isNaN(n)&&this.chart.getDataVisibility(s)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(n/2,0),r=(a-Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,s,n){const a="reset"===n,r=this.chart,i=r.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*En;let u,h=d;const m=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,m);for(u=t;u<t+s;u++){const t=e[u];let s=h,g=h+this._computeAngle(u,n,m),f=r.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=g,a&&(i.animateScale&&(f=0),i.animateRotate&&(s=g=d));const x={x:l,y:c,innerRadius:0,outerRadius:f,startAngle:s,endAngle:g,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,x,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?Un(this.resolveDataElementOptions(e,t).angle||s):0}}Oe(Si,"id","polarArea"),Oe(Si,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Oe(Si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map((t,a)=>{const r=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _i extends Ni{}Oe(_i,"id","pie"),Oe(_i,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ci extends hi{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,n){return gr.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta,s=t.dataset,n=t.data||[],a=t.iScale.getLabels();if(s.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:a.length===n.length,options:t};this.updateElement(s,void 0,r,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,s,n){const a=this._cachedMeta.rScale,r="reset"===n;for(let i=t;i<t+s;i++){const t=e[i],s=this.resolveDataElementOptions(i,t.active?"active":n),o=a.getPointPositionForValue(i,this.getParsed(i).r),l=r?a.xCenter:o.x,c=r?a.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:s};this.updateElement(t,i,d,n)}}}Oe(Ci,"id","radar"),Oe(Ci,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Oe(Ci,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ei extends hi{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:a}=t,r=this.getParsed(e),i=n.getLabelForValue(r.x),o=a.getLabelForValue(r.y);return{label:s[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,n=this.chart._animationsDisabled;let{start:a,count:r}=la(t,s,n);if(this._drawStart=a,this._drawCount=r,ca(t)&&(a=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:r}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=s;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,a,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=r.axis,m=i.axis,{spanGaps:g,segment:f}=this.options,x=zn(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||"none"===n;let b=t>0&&this.getParsed(t-1);for(let v=t;v<t+s;++v){const t=e[v],s=this.getParsed(v),c=p?t:{},g=rn(s[m]),y=c[h]=r.getPixelForValue(s[h],v),w=c[m]=a||g?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,s,o):s[m],v);c.skip=isNaN(y)||isNaN(w)||g,c.stop=v>0&&Math.abs(s[h]-b[h])>x,f&&(c.parsed=s,c.raw=l.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":n)),p||this.updateElement(t,v,c,n),b=s}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,n=s.options&&s.options.borderWidth||0;if(!t.length)return n;const a=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,a,r)/2}}Oe(Ei,"id","scatter"),Oe(Ei,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Oe(Ei,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Mi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pi{static override(e){Object.assign(Pi.prototype,e)}constructor(e){Oe(this,"options",void 0),this.options=e||{}}init(){}formats(){return Mi()}parse(){return Mi()}format(){return Mi()}add(){return Mi()}diff(){return Mi()}startOf(){return Mi()}endOf(){return Mi()}}var Di=Pi;function Ai(e,t,s,n){const{controller:a,data:r,_sorted:i}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&r.length){const i=o._reversePixels?ea:Kn;if(!n){const n=i(r,t,s);if(l){const{vScale:t}=a._cachedMeta,{_parsed:s}=e,r=s.slice(0,n.lo+1).reverse().findIndex(e=>!rn(e[t.axis]));n.lo-=Math.max(0,r);const i=s.slice(n.hi).findIndex(e=>!rn(e[t.axis]));n.hi+=Math.max(0,i)}return n}if(a._sharedOptions){const e=r[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(r,t,s-n),a=i(r,t,s+n);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}function Ti(e,t,s,n,a){const r=e.getSortedVisibleDatasetMetas(),i=s[t];for(let o=0,l=r.length;o<l;++o){const{index:e,data:s}=r[o],{lo:l,hi:c}=Ai(r[o],t,i,a);for(let t=l;t<=c;++t){const a=s[t];a.skip||n(a,e,t)}}}function Li(e,t,s,n,a){const r=[];if(!a&&!e.isPointInArea(t))return r;return Ti(e,s,t,function(s,i,o){(a||Oa(s,e.chartArea,0))&&s.inRange(t.x,t.y,n)&&r.push({element:s,datasetIndex:i,index:o})},!0),r}function Oi(e,t,s,n,a,r){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const a=t?Math.abs(e.x-n.x):0,r=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}(s);let l=Number.POSITIVE_INFINITY;return Ti(e,s,t,function(s,c,d){const u=s.inRange(t.x,t.y,a);if(n&&!u)return;const h=s.getCenterPoint(a);if(!(!!r||e.isPointInArea(h))&&!u)return;const m=o(t,h);m<l?(i=[{element:s,datasetIndex:c,index:d}],l=m):m===l&&i.push({element:s,datasetIndex:c,index:d})}),i}function Ii(e,t,s,n,a,r){return r||e.isPointInArea(t)?"r"!==s||n?Oi(e,t,s,n,a,r):function(e,t,s,n){let a=[];return Ti(e,s,t,function(e,s,r){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=$n(e,{x:t.x,y:t.y});Gn(l,i,o)&&a.push({element:e,datasetIndex:s,index:r})}),a}(e,t,s,a):[]}function Ri(e,t,s,n,a){const r=[],i="x"===s?"inXRange":"inYRange";let o=!1;return Ti(e,s,t,(e,n,l)=>{e[i]&&e[i](t[s],a)&&(r.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,a))}),n&&!o?[]:r}var Fi={evaluateInteractionItems:Ti,modes:{index(e,t,s,n){const a=Er(t,e),r=s.axis||"x",i=s.includeInvisible||!1,o=s.intersect?Li(e,a,r,n,i):Ii(e,a,r,!1,n,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,s=e.data[t];s&&!s.skip&&l.push({element:s,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,s,n){const a=Er(t,e),r=s.axis||"xy",i=s.includeInvisible||!1;let o=s.intersect?Li(e,a,r,n,i):Ii(e,a,r,!1,n,i);if(o.length>0){const t=o[0].datasetIndex,s=e.getDatasetMeta(t).data;o=[];for(let e=0;e<s.length;++e)o.push({element:s[e],datasetIndex:t,index:e})}return o},point:(e,t,s,n)=>Li(e,Er(t,e),s.axis||"xy",n,s.includeInvisible||!1),nearest(e,t,s,n){const a=Er(t,e),r=s.axis||"xy",i=s.includeInvisible||!1;return Ii(e,a,r,s.intersect,n,i)},x:(e,t,s,n)=>Ri(e,Er(t,e),"x",s.intersect,n),y:(e,t,s,n)=>Ri(e,Er(t,e),"y",s.intersect,n)}};const Bi=["left","top","right","bottom"];function zi(e,t){return e.filter(e=>e.pos===t)}function Vi(e,t){return e.filter(e=>-1===Bi.indexOf(e.pos)&&e.box.axis===t)}function Ui(e,t){return e.sort((e,s)=>{const n=t?s:e,a=t?e:s;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function Hi(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:a}=s;if(!e||!Bi.includes(n))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let r,i,o;for(r=0,i=e.length;r<i;++r){o=e[r];const{fullSize:i}=o.box,l=s[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:i&&t.availableWidth,o.height=a):(o.width=n,o.height=c?c*a:i&&t.availableHeight)}return s}function Wi(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function $i(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Yi(e,t,s,n){const{pos:a,box:r}=s,i=e.maxPadding;if(!ln(a)){s.size&&(e[a]-=s.size);const t=n[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?r.height:r.width),s.size=t.size/t.count,e[a]+=s.size}r.getPadding&&$i(i,r.getPadding());const o=Math.max(0,t.outerWidth-Wi(i,e,"left","right")),l=Math.max(0,t.outerHeight-Wi(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function qi(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],s[e])}),n}return n(e?["left","right"]:["top","bottom"])}function Ji(e,t,s,n){const a=[];let r,i,o,l,c,d;for(r=0,i=e.length,c=0;r<i;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,qi(o.horizontal,t));const{same:i,other:u}=Yi(t,s,o,n);c|=i&&a.length,d=d||u,l.fullSize||a.push(o)}return c&&Ji(a,t,s,n)||d}function Gi(e,t,s,n,a){e.top=s,e.left=t,e.right=t+n,e.bottom=s+a,e.width=n,e.height=a}function Qi(e,t,s,n){const a=s.padding;let{x:r,y:i}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,r=l.size||e.height;Sn(l.start)&&(i=l.start),e.fullSize?Gi(e,a.left,i,s.outerWidth-a.right-a.left,r):Gi(e,t.left+l.placed,i,n,r),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*c,i=l.size||e.width;Sn(l.start)&&(r=l.start),e.fullSize?Gi(e,r,a.top,i,s.outerHeight-a.bottom-a.top):Gi(e,r,t.top+l.placed,i,n),l.start=r,l.placed+=n,r=e.right}}t.x=r,t.y=i}var Xi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const a=Xa(e.options.layout.padding),r=Math.max(t-a.width,0),i=Math.max(s-a.height,0),o=function(e){const t=function(e){const t=[];let s,n,a,r,i,o;for(s=0,n=(e||[]).length;s<n;++s)a=e[s],({position:r,options:{stack:i,stackWeight:o=1}}=a),t.push({index:s,box:a,pos:r,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&r+i,stackWeight:o});return t}(e),s=Ui(t.filter(e=>e.box.fullSize),!0),n=Ui(zi(t,"left"),!0),a=Ui(zi(t,"right")),r=Ui(zi(t,"top"),!0),i=Ui(zi(t,"bottom")),o=Vi(t,"x"),l=Vi(t,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:a.concat(l).concat(i).concat(o),chartArea:zi(t,"chartArea"),vertical:n.concat(a).concat(l),horizontal:r.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;gn(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:a,availableWidth:r,availableHeight:i,vBoxMaxWidth:r/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);$i(h,Xa(n));const m=Object.assign({maxPadding:h,w:r,h:i,x:a.left,y:a.top},a),g=Hi(l.concat(c),u);Ji(o.fullSize,m,u,g),Ji(l,m,u,g),Ji(c,m,u,g)&&Ji(l,m,u,g),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(m),Qi(o.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,Qi(o.rightAndBottom,m,u,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},gn(o.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Zi{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class Ki extends Zi{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eo="$chartjs",to={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},so=e=>null===e||""===e;const no=!!Ar&&{passive:!0};function ao(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,no)}function ro(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function io(e,t,s){const n=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||ro(s.addedNodes,n),t=t&&!ro(s.removedNodes,n);t&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function oo(e,t,s){const n=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||ro(s.removedNodes,n),t=t&&!ro(s.addedNodes,n);t&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const lo=new Map;let co=0;function uo(){const e=window.devicePixelRatio;e!==co&&(co=e,lo.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function ho(e,t,s){const n=e.canvas,a=n&&Nr(n);if(!a)return;const r=ra((e,t)=>{const n=a.clientWidth;s(e,t),n<a.clientWidth&&s()},window),i=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||r(s,n)});return i.observe(a),function(e,t){lo.size||window.addEventListener("resize",uo),lo.set(e,t)}(e,r),i}function mo(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){lo.delete(e),lo.size||window.removeEventListener("resize",uo)}(e)}function go(e,t,s){const n=e.canvas,a=ra(t=>{null!==e.ctx&&s(function(e,t){const s=to[e.type]||e.type,{x:n,y:a}=Er(e,t);return{type:s,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,no)}(n,t,a),a}class fo extends Zi{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[eo]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",so(a)){const t=Tr(e,"width");void 0!==t&&(e.width=t)}if(so(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Tr(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[eo])return!1;const s=t[eo].initial;["height","width"].forEach(e=>{const n=s[e];rn(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=s.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[eo],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:io,detach:oo,resize:ho}[t]||go;n[t]=a(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:mo,detach:mo,resize:mo}[t]||ao)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,n){return Pr(e,t,s,n)}isAttached(e){const t=e&&Nr(e);return!(!t||!t.isConnected)}}class xo{constructor(){Oe(this,"x",void 0),Oe(this,"y",void 0),Oe(this,"active",!1),Oe(this,"options",void 0),Oe(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return zn(this.x)&&zn(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach(e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),n}}function po(e,t){const s=e.options.ticks,n=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),a=e._maxLength/s;return Math.floor(Math.min(n,a))}(e),a=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],i=r.length,o=r[0],l=r[i-1],c=[];if(i>a)return function(e,t,s,n){let a,r=0,i=s[0];for(n=Math.ceil(n),a=0;a<e.length;a++)a===i&&(t.push(e[a]),r++,i=s[r*n])}(t,c,r,i/a),c;const d=function(e,t,s){const n=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),a=t.length/s;if(!n)return Math.max(a,1);const r=function(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(n);for(let i=0,o=r.length-1;i<o;i++){const e=r[i];if(e>a)return e}return Math.max(a,1)}(r,t,a);if(i>0){let e,s;const n=i>1?Math.round((l-o)/(i-1)):null;for(bo(t,c,d,rn(n)?0:o-n,o),e=0,s=i-1;e<s;e++)bo(t,c,d,r[e],r[e+1]);return bo(t,c,d,l,rn(n)?t.length:l+n),c}return bo(t,c,d),c}function bo(e,t,s,n,a){const r=un(n,0),i=Math.min(un(a,e.length),e.length);let o,l,c,d=0;for(s=Math.ceil(s),a&&(o=a-n,s=o/Math.floor(o/s)),c=r;c<0;)d++,c=Math.round(r+d*s);for(l=Math.max(r,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(r+d*s))}Oe(xo,"defaults",{}),Oe(xo,"defaultRoutes",void 0);const vo=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,yo=(e,t)=>Math.min(t||e,e);function wo(e,t){const s=[],n=e.length/t,a=e.length;let r=0;for(;r<a;r+=n)s.push(e[Math.floor(r)]);return s}function jo(e,t,s){const n=e.ticks.length,a=Math.min(t,n-1),r=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(s&&(l=1===n?Math.max(c-r,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<r-o||c>i+o)))return c}function No(e){return e.drawTicks?e.tickLength:0}function ko(e,t){if(!e.display)return 0;const s=Za(e.font,t),n=Xa(e.padding);return(on(e.text)?e.text.length:1)*s.lineHeight+n.height}function So(e,t,s){let n=ia(e);return(s&&"right"!==t||!s&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class _o extends xo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:n}=this;return e=dn(e,Number.POSITIVE_INFINITY),t=dn(t,Number.NEGATIVE_INFINITY),s=dn(s,Number.POSITIVE_INFINITY),n=dn(n,Number.NEGATIVE_INFINITY),{min:dn(e,s),max:dn(t,n),minDefined:cn(e),maxDefined:cn(t)}}getMinMax(e){let t,{min:s,max:n,minDefined:a,maxDefined:r}=this.getUserBounds();if(a&&r)return{min:s,max:n};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),a||(s=Math.min(s,t.min)),r||(n=Math.max(n,t.max));return s=r&&s>n?n:s,n=a&&s>n?s:n,{min:dn(s,dn(n,s)),max:dn(n,dn(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:n,grace:a,ticks:r}=this.options,i=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:n,max:a}=e,r=hn(t,(a-n)/2),i=(e,t)=>s&&0===e?0:e+t;return{min:i(n,-Math.abs(r)),max:i(a,r)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?wo(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=po(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,n,a;for(s=0,n=e.length;s<n;s++)a=e[s],a.label=mn(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=yo(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let r,i,o,l=n;if(!this._isVisible()||!t.display||n>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Qn(this.chart.width-d,0,this.maxWidth);r=e.offset?this.maxWidth/s:h/(s-1),d+6>r&&(r=h/(s-(e.offset?.5:1)),i=this.maxHeight-No(e.grid)-t.padding-ko(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Hn(Math.min(Math.asin(Qn((c.highest.height+6)/r,-1,1)),Math.asin(Qn(i/o,-1,1))-Math.asin(Qn(u/o,-1,1)))),l=Math.max(n,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:n,grid:a}}=this,r=this._isVisible(),i=this.isHorizontal();if(r){const r=ko(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=No(a)+r):(e.height=this.maxHeight,e.width=No(a)+r),s.display&&this.ticks.length){const{first:t,last:n,widest:a,highest:r}=this._getLabelSizes(),o=2*s.padding,l=Un(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=s.mirror?0:d*a.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=s.mirror?0:c*a.width+d*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:a,padding:r},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+r)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===a?(s=0,n=e.height):"end"===a&&(s=t.height,n=0),this.paddingTop=s+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)rn(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=wo(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:n,_longestTextCache:a}=this,r=[],i=[],o=Math.floor(t/yo(t,s));let l,c,d,u,h,m,g,f,x,p,b,v=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=m=h.string,g=a[m]=a[m]||{data:{},gc:[]},f=h.lineHeight,x=p=0,rn(u)||on(u)){if(on(u))for(c=0,d=u.length;c<d;++c)b=u[c],rn(b)||on(b)||(x=Ma(n,g.data,g.gc,x,b),p+=f)}else x=Ma(n,g.data,g.gc,x,u),p=f;r.push(x),i.push(p),v=Math.max(x,v),y=Math.max(p,y)}!function(e,t){gn(e,e=>{const s=e.gc,n=s.length/2;let a;if(n>t){for(a=0;a<n;++a)delete e.data[s[a]];s.splice(0,n)}})}(a,t);const w=r.indexOf(v),j=i.indexOf(y),N=e=>({width:r[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:r,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Qn(this._alignToPixels?Da(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return er(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=er(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Un(this.labelRotation),s=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,i=a?a.widest.width+r:0,o=a?a.highest.height+r:0;return this.isHorizontal()?o*s>i*n?i/s:o/n:o*n<i*s?o/s:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,n=this.options,{grid:a,position:r,border:i}=n,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=No(a),u=[],h=i.setContext(this.getContext()),m=h.display?h.width:0,g=m/2,f=function(e){return Da(s,e,m)};let x,p,b,v,y,w,j,N,k,S,_,C;if("top"===r)x=f(this.bottom),w=this.bottom-d,N=x-g,S=f(e.top)+g,C=e.bottom;else if("bottom"===r)x=f(this.top),S=e.top,C=f(e.bottom)-g,w=x+g,N=this.top+d;else if("left"===r)x=f(this.right),y=this.right-d,j=x-g,k=f(e.left)+g,_=e.right;else if("right"===r)x=f(this.left),k=e.left,_=f(e.right)-g,y=x+g,j=this.left+d;else if("x"===t){if("center"===r)x=f((e.top+e.bottom)/2+.5);else if(ln(r)){const e=Object.keys(r)[0],t=r[e];x=f(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=x+g,N=w+d}else if("y"===t){if("center"===r)x=f((e.left+e.right)/2);else if(ln(r)){const e=Object.keys(r)[0],t=r[e];x=f(this.chart.scales[e].getPixelForValue(t))}y=x-g,j=y-d,k=e.left,_=e.right}const E=un(n.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/E));for(p=0;p<c;p+=M){const e=this.getContext(p),t=a.setContext(e),n=i.setContext(e),r=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,m=t.tickWidth,g=t.tickColor,f=t.tickBorderDash||[],x=t.tickBorderDashOffset;b=jo(this,p,o),void 0!==b&&(v=Da(s,b,r),l?y=j=k=_=v:w=N=S=C=v,u.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:_,y2:C,width:r,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:g,tickBorderDash:f,tickBorderDashOffset:x}))}return this._ticksLength=c,this._borderValue=x,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:n,ticks:a}=s,r=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=a,u=No(s.grid),h=u+c,m=d?-c:h,g=-Un(this.labelRotation),f=[];let x,p,b,v,y,w,j,N,k,S,_,C,E="middle";if("top"===n)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===n)w=(e.top+e.bottom)/2+h;else if(ln(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)y=(e.left+e.right)/2-h;else if(ln(n)){const e=Object.keys(n)[0],t=n[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?E="top":"end"===o&&(E="bottom"));const M=this._getLabelSizes();for(x=0,p=i.length;x<p;++x){b=i[x],v=b.label;const e=a.setContext(this.getContext(x));N=this.getPixelForTick(x)+a.labelOffset,k=this._resolveTickFontOptions(x),S=k.lineHeight,_=on(v)?v.length:1;const t=_/2,s=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(r?(y=N,"inner"===j&&(h=x===p-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==g?-_*S+S/2:"center"===l?-M.highest.height/2-t*S+S:-M.highest.height+S/2:"near"===l||0!==g?S/2:"center"===l?M.highest.height/2-t*S:M.highest.height-_*S,d&&(C*=-1),0===g||e.showLabelBackdrop||(y+=S/2*Math.sin(g))):(w=N,C=(1-_)*S/2),e.showLabelBackdrop){const t=Xa(e.backdropPadding),s=M.heights[x],n=M.widths[x];let a=C-t.top,r=0-t.left;switch(E){case"middle":a-=s/2;break;case"bottom":a-=s}switch(j){case"center":r-=n/2;break;case"right":r-=n;break;case"inner":x===p-1?r-=n:x>0&&(r-=n/2)}u={left:r,top:a,width:n+t.width,height:s+t.height,color:e.backdropColor}}f.push({label:v,font:k,textOffset:C,options:{rotation:g,color:s,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:E,translation:[y,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Un(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:a}}=this.options,r=e+a,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+a,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-r,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+a,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+r,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,a,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const i=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(a=0,r=n.length;a<r;++a){const e=n[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:n}}=this,a=s.setContext(this.getContext()),r=s.display?a.width:0;if(!r)return;const i=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Da(e,this.left,r)-r/2,c=Da(e,this.right,i)+i/2,d=u=o):(d=Da(e,this.top,r)-r/2,u=Da(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&Ia(t,s);const n=this.getLabelItems(e);for(const a of n){const e=a.options,s=a.font;Ua(t,a.label,0,a.textOffset,s,e)}s&&Ra(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:n}}=this;if(!s.display)return;const a=Za(s.font),r=Xa(s.padding),i=s.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||ln(t)?(o+=r.bottom,on(s.text)&&(o+=a.lineHeight*(s.text.length-1))):o+=r.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,n){const{top:a,left:r,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,m,g=0;const f=i-a,x=o-r;if(e.isHorizontal()){if(h=oa(n,r,o),ln(s)){const e=Object.keys(s)[0],n=s[e];m=d[e].getPixelForValue(n)+f-t}else m="center"===s?(c.bottom+c.top)/2+f-t:vo(e,s,t);u=o-r}else{if(ln(s)){const e=Object.keys(s)[0],n=s[e];h=d[e].getPixelForValue(n)-x+t}else h="center"===s?(c.left+c.right)/2-x+t:vo(e,s,t);m=oa(n,i,a),g="left"===s?-Tn:Tn}return{titleX:h,titleY:m,maxWidth:u,rotation:g}}(this,o,t,i);Ua(e,s.text,0,0,a,{color:s.color,maxWidth:d,rotation:u,textAlign:So(i,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=un(e.grid&&e.grid.z,-1),n=un(e.border&&e.border.z,0);return this._isVisible()&&this.draw===_o.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let a,r;for(a=0,r=t.length;a<r;++a){const r=t[a];r[s]!==this.id||e&&r.type!==e||n.push(r)}return n}_resolveTickFontOptions(e){return Za(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Co{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const n=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,s){const n=vn(Object.create(null),[s?Ea.get(s):{},Ea.get(t),e.defaults]);Ea.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),a=n.pop(),r=[e].concat(n).join("."),i=t[s].split("."),o=i.pop(),l=i.join(".");Ea.route(r,a,l,o)})}(t,e.defaultRoutes);e.descriptors&&Ea.describe(t,e.descriptors)}(e,r,s),this.override&&Ea.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,n=this.scope;s in t&&delete t[s],n&&s in Ea[n]&&(delete Ea[n][s],this.override&&delete Na[s])}}class Eo{constructor(){this.controllers=new Co(hi,"datasets",!0),this.elements=new Co(xo,"elements"),this.plugins=new Co(Object,"plugins"),this.scales=new Co(_o,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach(t=>{const n=s||this._getRegistryForType(t);s||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):gn(t,t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,s){const n=kn(e);mn(s["before"+n],[],s),t[e](s),mn(s["after"+n],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var Mo=new Eo;class Po{constructor(){this._init=void 0}notify(e,t,s,n){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const a=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(a,e,t,s);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,t,s,n){n=n||{};for(const a of e){const e=a.plugin;if(!1===mn(e[s],[t,n,a.options],e)&&n.cancelable)return!1}return!0}invalidate(){rn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,n=un(s.options&&s.options.plugins,{}),a=function(e){const t={},s=[],n=Object.keys(Mo.plugins.items);for(let r=0;r<n.length;r++)s.push(Mo.getPlugin(n[r]));const a=e.plugins||[];for(let r=0;r<a.length;r++){const e=a[r];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==n||t?function(e,t,s,n){let{plugins:a,localIds:r}=t;const i=[],o=e.getContext();for(const l of a){const t=l.id,a=Do(s[t],n);null!==a&&i.push({plugin:l,options:Ao(e.config,{plugin:l,local:r[t]},a,o)})}return i}(e,a,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function Do(e,t){return t||!1!==e?!0===e?{}:e:null}function Ao(e,t,s,n){let{plugin:a,local:r}=t;const i=e.pluginScopeKeys(a),o=e.getOptionScopes(s,i);return r&&a.defaults&&o.push(a.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function To(e,t){const s=Ea.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function Lo(e){if("x"===e||"y"===e||"r"===e)return e}function Oo(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Io(e){if(Lo(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];for(const a of s){const t=a.axis||Oo(a.position)||e.length>1&&Lo(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Ro(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function Fo(e,t){const s=Na[e.type]||{scales:{}},n=t.scales||{},a=To(e.type,t),r=Object.create(null);return Object.keys(n).forEach(t=>{const i=n[t];if(!ln(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Io(t,i,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return Ro(e,"x",s[0])||Ro(e,"y",s[0])}return{}}(t,e),Ea.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=s.scales||{};r[t]=yn(Object.create(null),[{axis:o},i,c[o],c[l]])}),e.data.datasets.forEach(s=>{const a=s.type||e.type,i=s.indexAxis||To(a,t),o=(Na[a]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,i),a=s[t+"AxisID"]||t;r[a]=r[a]||Object.create(null),yn(r[a],[{axis:t},n[a],o[e]])})}),Object.keys(r).forEach(e=>{const t=r[e];yn(t,[Ea.scales[t.type],Ea.scale])}),r}function Bo(e){const t=e.options||(e.options={});t.plugins=un(t.plugins,{}),t.scales=Fo(e,t)}function zo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Vo=new Map,Uo=new Set;function Ho(e,t){let s=Vo.get(e);return s||(s=t(),Vo.set(e,s),Uo.add(s)),s}const Wo=(e,t,s)=>{const n=Nn(t,s);void 0!==n&&e.add(n)};class $o{constructor(e){this._config=function(e){return(e=e||{}).data=zo(e.data),Bo(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=zo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Bo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ho(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Ho("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Ho("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Ho("".concat(s,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:n,type:a}=this,r=this._cachedScopes(e,s),i=r.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>Wo(o,e,t))),t.forEach(e=>Wo(o,n,e)),t.forEach(e=>Wo(o,Na[a]||{},e)),t.forEach(e=>Wo(o,Ea,e)),t.forEach(e=>Wo(o,ka,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Uo.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Na[t]||{},Ea.datasets[t]||{},{type:t},Ea,ka]}resolveNamedOptions(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:r,subPrefixes:i}=Yo(this._resolverCache,e,n);let o=r;if(function(e,t){const{isScriptable:s,isIndexable:n}=nr(e);for(const a of t){const t=s(a),r=n(a),i=(r||t)&&e[a];if(t&&(_n(i)||qo(i))||r&&on(i))return!0}return!1}(r,t)){a.$shared=!1;o=sr(r,s=_n(s)?s():s,this.createResolver(e,s,i))}for(const l of t)a[l]=o[l];return a}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:a}=Yo(this._resolverCache,e,s);return ln(t)?sr(a,t,void 0,n):a}}function Yo(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=s.join();let r=n.get(a);if(!r){r={resolver:tr(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},n.set(a,r)}return r}const qo=e=>ln(e)&&Object.getOwnPropertyNames(e).some(t=>_n(e[t]));const Jo=["top","bottom","left","right","chartArea"];function Go(e,t){return"top"===e||"bottom"===e||-1===Jo.indexOf(e)&&"x"===t}function Qo(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Xo(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),mn(s&&s.onComplete,[e],t)}function Zo(e){const t=e.chart,s=t.options.animation;mn(s&&s.onProgress,[e],t)}function Ko(e){return jr()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const el={},tl=e=>{const t=Ko(e);return Object.values(el).filter(e=>e.canvas===t).pop()};function sl(e,t,s){const n=Object.keys(e);for(const a of n){const n=+a;if(n>=t){const r=e[a];delete e[a],(s>0||n>t)&&(e[n+s]=r)}}}class nl{static register(){Mo.add(...arguments),al()}static unregister(){Mo.remove(...arguments),al()}constructor(e,t){const s=this.config=new $o(t),n=Ko(e),a=tl(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!jr()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Ki:fo}(n)),this.platform.updateConfig(s);const i=this.platform.acquireContext(n,r.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=an(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Po,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t?(clearTimeout(s),s=setTimeout(e,t,a)):e.apply(this,a),t}}(e=>this.update(e),r.resizeDelay||0),this._dataChanges=[],el[this.id]=this,i&&o?(Qr.listen(this,"complete",Xo),Qr.listen(this,"progress",Zo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:a}=this;return rn(e)?t&&a?a:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Dr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Aa(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(e,t){Qr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,n=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,t,a),i=s.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Dr(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),mn(s.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){gn(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,n=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const s=t[e],n=Io(e,s),a="r"===n,r="x"===n;return{options:s,dposition:a?"chartArea":r?"bottom":"left",dtype:a?"radialLinear":r?"category":"linear"}}))),gn(a,t=>{const a=t.options,r=a.id,i=Io(r,a),o=un(a.type,t.dtype);void 0!==a.position&&Go(a.position,i)===Go(t.dposition)||(a.position=t.dposition),n[r]=!0;let l=null;if(r in s&&s[r].type===o)l=s[r];else{l=new(Mo.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this}),s[l.id]=l}l.init(a,e)}),gn(n,(e,t)=>{e||delete s[t]}),gn(s,e=>{Xi.configure(this,e,e.options),Xi.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Qo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=t.length;s<n;s++){const n=t[s];let a=this.getDatasetMeta(s);const r=n.type||this.config.type;if(a.type&&a.type!==r&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=r,a.indexAxis=n.indexAxis||To(r,this.options),a.order=n.order||0,a.index=s,a.label=""+n.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const t=Mo.getController(r),{datasetElementType:n,dataElementType:i}=Ea.datasets[r];Object.assign(t,{dataElementType:Mo.getElement(i),datasetElementType:n&&Mo.getElement(n)}),a.controller=new t(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){gn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),n||gn(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Qo("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){gn(this.scales,e=>{Xi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);Cn(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:a}of t){sl(e,n,"_removeElements"===s?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=s(0);for(let a=1;a<t;a++)if(!Cn(n,s(a)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xi.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],gn(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,_n(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),Xo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,a;for(n=0,a=t.length;n<a;++n){const a=t[n];e&&!a.visible||s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},n=Jr(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&Ia(t,n),e.controller.draw(),n&&Ra(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Oa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const a=Fi.modes[t];return"function"===typeof a?a(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const n=s?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,n);Sn(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),r.update(a,{visible:s}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Aa(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete el[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};gn(this.options.events,e=>s(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const i=()=>{n("attach",i),this.attached=!0,this.resize(),s("resize",a),s("detach",r)};r=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),s("attach",i)},t.isAttached(this.canvas)?i():r()}unbindEvents(){gn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},gn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let a,r,i,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){r=e[i];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[s],index:s}});!fn(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const n=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=a(t,e),i=s?e:a(e,t);r.length&&this.updateHoverStyle(r,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:n=[],options:a}=this,r=t,i=this._getActiveElements(e,n,s,r),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,o);s&&(this._lastEvent=null,mn(a.onHover,[e,i,this],this),o&&mn(a.onClick,[e,i,this],this));const c=!fn(i,n);return(c||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}}function al(){return gn(nl.instances,e=>e._plugins.invalidate())}function rl(e,t,s,n){const a=Ja(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(s-t)/2,i=Math.min(r,n*t/2),o=e=>{const t=(s-Math.min(r,e))*n/2;return Qn(e,0,Math.min(r,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:Qn(a.innerStart,0,i),innerEnd:Qn(a.innerEnd,0,i)}}function il(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function ol(e,t,s,n,a,r){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+s-c,0),h=d>0?d+n+s+c:0;let m=0;const g=a-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;m=(g-(0!==e?g*e/(e+n):g))/2}const f=(g-Math.max(.001,g*u-s/En)/u)/2,x=l+f+m,p=a-f-m,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=rl(t,h,u,p-x),j=u-b,N=u-v,k=x+b/j,S=p-v/N,_=h+y,C=h+w,E=x+y/_,M=p-w/C;if(e.beginPath(),r){const t=(k+S)/2;if(e.arc(i,o,u,k,t),e.arc(i,o,u,t,S),v>0){const t=il(N,S,i,o);e.arc(t.x,t.y,v,S,p+Tn)}const s=il(C,p,i,o);if(e.lineTo(s.x,s.y),w>0){const t=il(C,M,i,o);e.arc(t.x,t.y,w,p+Tn,M+Math.PI)}const n=(p-w/h+(x+y/h))/2;if(e.arc(i,o,h,p-w/h,n,!0),e.arc(i,o,h,n,x+y/h,!0),y>0){const t=il(_,E,i,o);e.arc(t.x,t.y,y,E+Math.PI,x-Tn)}const a=il(j,x,i,o);if(e.lineTo(a.x,a.y),b>0){const t=il(j,k,i,o);e.arc(t.x,t.y,b,x-Tn,k)}}else{e.moveTo(i,o);const t=Math.cos(k)*u+i,s=Math.sin(k)*u+o;e.lineTo(t,s);const n=Math.cos(S)*u+i,a=Math.sin(S)*u+o;e.lineTo(n,a)}e.closePath()}function ll(e,t,s,n,a){const{fullCircles:r,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=l,g="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,g?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(r){ol(e,t,s,n,f,a);for(let t=0;t<r;++t)e.stroke();isNaN(o)||(f=i+(o%Mn||Mn))}g&&function(e,t,s){const{startAngle:n,pixelMargin:a,x:r,y:i,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(r,i,o,n-c,s+c),l>a?(c=a/l,e.arc(r,i,l,s+c,n-c,!0)):e.arc(r,i,a,s+Tn,n-Tn),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-i>=En&&0===m&&"miter"!==d&&function(e,t,s){const{startAngle:n,x:a,y:r,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,Jn(n-s));if(e.beginPath(),e.arc(a,r,i-c/2,n+u/2,s-u/2),o>0){const t=Math.min(c/o,Jn(n-s));e.arc(a,r,o+c/2,s-t/2,n+t/2,!0)}else{const t=Math.min(c/2,i*Jn(n-s));if("round"===d)e.arc(a,r,t,s-En/2,n+En/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(s+En/2)+a,l=-i*Math.sin(s+En/2)+r,c=i*Math.cos(n+En/2)+a,d=i*Math.sin(n+En/2)+r;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),r||(ol(e,t,s,n,f,a),e.stroke())}Oe(nl,"defaults",Ea),Oe(nl,"instances",el),Oe(nl,"overrides",Na),Oe(nl,"registry",Mo),Oe(nl,"version","4.5.1"),Oe(nl,"getChart",tl);class cl extends xo{constructor(e){super(),Oe(this,"circumference",void 0),Oe(this,"endAngle",void 0),Oe(this,"fullCircles",void 0),Oe(this,"innerRadius",void 0),Oe(this,"outerRadius",void 0),Oe(this,"pixelMargin",void 0),Oe(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.getProps(["x","y"],s),{angle:a,distance:r}=$n(n,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,h=un(d,o-i),m=Gn(a,i,o)&&i!==o,g=h>=Mn||m,f=Xn(r,l+u,c+u);return g&&f}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:a,innerRadius:r,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+a)/2,d=(r+i+l+o)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,n=(t.offset||0)/4,a=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>Mn?Math.floor(s/Mn):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const o=n*(1-Math.sin(Math.min(En,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,n,a){const{fullCircles:r,startAngle:i,circumference:o}=t;let l=t.endAngle;if(r){ol(e,t,s,n,l,a);for(let t=0;t<r;++t)e.fill();isNaN(o)||(l=i+(o%Mn||Mn))}ol(e,t,s,n,l,a),e.fill()}(e,this,o,a,r),ll(e,this,o,a,r),e.restore()}}function dl(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=un(s.borderCapStyle,t.borderCapStyle),e.setLineDash(un(s.borderDash,t.borderDash)),e.lineDashOffset=un(s.borderDashOffset,t.borderDashOffset),e.lineJoin=un(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=un(s.borderWidth,t.borderWidth),e.strokeStyle=un(s.borderColor,t.borderColor)}function ul(e,t,s){e.lineTo(s.x,s.y)}function hl(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:a=0,end:r=n-1}=s,{start:i,end:o}=t,l=Math.max(a,i),c=Math.min(r,o),d=a<i&&r<i||a>o&&r>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function ml(e,t,s,n){const{points:a,options:r}=t,{count:i,start:o,loop:l,ilen:c}=hl(a,s,n),d=function(e){return e.stepped?Fa:e.tension||"monotone"===e.cubicInterpolationMode?Ba:ul}(r);let u,h,m,{move:g=!0,reverse:f}=n||{};for(u=0;u<=c;++u)h=a[(o+(f?c-u:u))%i],h.skip||(g?(e.moveTo(h.x,h.y),g=!1):d(e,m,h,f,r.stepped),m=h);return l&&(h=a[(o+(f?c:0))%i],d(e,m,h,f,r.stepped)),!!l}function gl(e,t,s,n){const a=t.points,{count:r,start:i,ilen:o}=hl(a,s,n),{move:l=!0,reverse:c}=n||{};let d,u,h,m,g,f,x=0,p=0;const b=e=>(i+(c?o-e:e))%r,v=()=>{m!==g&&(e.lineTo(x,g),e.lineTo(x,m),e.lineTo(x,f))};for(l&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===h?(s<m?m=s:s>g&&(g=s),x=(p*x+t)/++p):(v(),e.lineTo(t,s),h=n,p=0,m=g=s),f=s}v()}function fl(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?gl:ml}Oe(cl,"id","arc"),Oe(cl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Oe(cl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Oe(cl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const xl="function"===typeof Path2D;function pl(e,t,s,n){xl&&!t.options.segment?function(e,t,s,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,s,n)&&a.closePath()),dl(e,t.options),e.stroke(a)}(e,t,s,n):function(e,t,s,n){const{segments:a,options:r}=t,i=fl(t);for(const o of a)dl(e,r,o.style),e.beginPath(),i(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class bl extends xo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;wr(this._points,s,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,n=e.options.spanGaps,a=s.length;if(!a)return[];const r=!!e._loop,{start:i,end:o}=function(e,t,s,n){let a=0,r=t-1;if(s&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,s&&(r+=a);r>a&&e[r%t].skip;)r--;return r%=t,{start:a,end:r}}(s,a,r,n);return Wr(e,!0===n?[{start:i,end:o,loop:r}]:function(e,t,s,n){const a=e.length,r=[];let i,o=t,l=e[t];for(i=t+1;i<=s;++i){const s=e[i%a];s.skip||s.stop?l.skip||(n=!1,r.push({start:t%a,end:(i-1)%a,loop:n}),t=o=s.stop?i:null):(o=i,l.skip&&(t=i)),l=s}return null!==o&&r.push({start:t%a,end:o%a,loop:n}),r}(s,i,o<i?o+a:o,!!e._fullLoop&&0===i&&o===a-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,n=e[t],a=this.points,r=Hr(this,{property:t,start:n,end:n});if(!r.length)return;const i=[],o=function(e){return e.stepped?Or:e.tension||"monotone"===e.cubicInterpolationMode?Ir:Lr}(s);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:d}=r[l],u=a[c],h=a[d];if(u===h){i.push(u);continue}const m=o(u,h,Math.abs((n-u[t])/(h[t]-u[t])),s.stepped);m[t]=e[t],i.push(m)}return 1===i.length?i[0]:i}pathSegment(e,t,s){return fl(this)(e,this,t,s)}path(e,t,s){const n=this.segments,a=fl(this);let r=this._loop;t=t||0,s=s||this.points.length-t;for(const i of n)r&=a(e,this,i,{start:t,end:t+s-1});return!!r}draw(e,t,s,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),pl(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function vl(e,t,s,n){const a=e.options,{[s]:r}=e.getProps([s],n);return Math.abs(t-r)<a.radius+a.hitRadius}Oe(bl,"id","line"),Oe(bl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Oe(bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Oe(bl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class yl extends xo{constructor(e){super(),Oe(this,"parsed",void 0),Oe(this,"skip",void 0),Oe(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:a,y:r}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return vl(this,e,"x",t)}inYRange(e,t){return vl(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!Oa(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Ta(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function wl(e,t){const{x:s,y:n,base:a,width:r,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(s,a),l=Math.max(s,a),c=n-u,d=n+u):(u=r/2,o=s-u,l=s+u,c=Math.min(n,a),d=Math.max(n,a)),{left:o,top:c,right:l,bottom:d}}function jl(e,t,s,n){return e?0:Qn(t,s,n)}function Nl(e){const t=wl(e),s=t.right-t.left,n=t.bottom-t.top,a=function(e,t,s){const n=e.options.borderWidth,a=e.borderSkipped,r=Ga(n);return{t:jl(a.top,r.top,0,s),r:jl(a.right,r.right,0,t),b:jl(a.bottom,r.bottom,0,s),l:jl(a.left,r.left,0,t)}}(e,s/2,n/2),r=function(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,r=Qa(a),i=Math.min(t,s),o=e.borderSkipped,l=n||ln(a);return{topLeft:jl(!l||o.top||o.left,r.topLeft,0,i),topRight:jl(!l||o.top||o.right,r.topRight,0,i),bottomLeft:jl(!l||o.bottom||o.left,r.bottomLeft,0,i),bottomRight:jl(!l||o.bottom||o.right,r.bottomRight,0,i)}}(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:r},inner:{x:t.left+a.l,y:t.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,r.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(a.b,a.r))}}}}function kl(e,t,s,n){const a=null===t,r=null===s,i=e&&!(a&&r)&&wl(e,n);return i&&(a||Xn(t,i.left,i.right))&&(r||Xn(s,i.top,i.bottom))}function Sl(e,t){e.rect(t.x,t.y,t.w,t.h)}function _l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==s.x?-t:0,a=e.y!==s.y?-t:0,r=(e.x+e.w!==s.x+s.w?t:0)-n,i=(e.y+e.h!==s.y+s.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+r,h:e.h+i,radius:e.radius}}Oe(yl,"id","point"),Oe(yl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Oe(yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Cl extends xo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:n}}=this,{inner:a,outer:r}=Nl(this),i=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Ha:Sl;var o;e.save(),r.w===a.w&&r.h===a.h||(e.beginPath(),i(e,_l(r,t,a)),e.clip(),i(e,_l(a,-t,r)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),i(e,_l(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,s){return kl(this,e,t,s)}inXRange(e,t){return kl(this,e,null,t)}inYRange(e,t){return kl(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Oe(Cl,"id","bar"),Oe(Cl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Oe(Cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const El=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class Ml extends xo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=mn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,n=Za(s.font),a=n.size,r=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=El(s,a);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,a,i,o)+10):(c=this.maxHeight,l=this._fitCols(r,n,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:a,maxWidth:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const g=s+t/2+a.measureText(e.text).width;(0===m||l[l.length-1]+g+2*i>r)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),o[m]={left:0,top:h,row:u,width:g,height:n},l[l.length-1]+=g+i}),d}_fitCols(e,t,s,n){const{ctx:a,maxHeight:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let d=i,u=0,h=0,m=0,g=0;return this.legendItems.forEach((e,r)=>{const{itemWidth:f,itemHeight:x}=function(e,t,s,n,a){const r=function(e,t,s,n){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+n.measureText(a).width}(n,e,t,s),i=function(e,t,s){let n=e;"string"!==typeof t.text&&(n=Pl(t,s));return n}(a,n,t.lineHeight);return{itemWidth:r,itemHeight:i}}(s,t,a,e,n);r>0&&h+x+2*i>c&&(d+=u+i,l.push({width:u,height:h}),m+=u+i,g++,u=h=0),o[r]={left:m,top:h,col:g,width:f,height:x},u=Math.max(u,f),h+=x+i}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:n},rtl:a}}=this,r=Rr(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=oa(s,this.left+n,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,i=oa(s,this.left+n,this.right-this.lineWidths[a])),o.top+=this.top+e+n,o.left=r.leftForLtr(r.x(i),o.width),i+=o.width+n}else{let a=0,i=oa(s,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,i=oa(s,this.top+e+n,this.bottom-this.columnSizes[a].height)),o.top=i,o.left+=this.left+n,o.left=r.leftForLtr(r.x(o.left),o.width),i+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ia(e,this),this._draw(),Ra(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:n}=this,{align:a,labels:r}=e,i=Ea.color,o=Rr(e.rtl,this.left,this.width),l=Za(r.font),{padding:c}=r,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:m,boxHeight:g,itemHeight:f}=El(r,d),x=this.isHorizontal(),p=this._computeTitleHeight();h=x?{x:oa(a,this.left+c,this.right-s[0]),y:this.top+c+p,line:0}:{x:this.left+c,y:oa(a,this.top+p+c,this.bottom-t[0].height),line:0},Fr(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach((v,y)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const w=n.measureText(v.text).width,j=o.textAlign(v.textAlign||(v.textAlign=r.textAlign)),N=m+u+w;let k=h.x,S=h.y;o.setWidth(this.width),x?y>0&&k+N+c>this.right&&(S=h.y+=b,h.line++,k=h.x=oa(a,this.left+c,this.right-s[h.line])):y>0&&S+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=oa(a,this.top+p+c,this.bottom-t[h.line].height));if(function(e,t,s){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;n.save();const a=un(s.lineWidth,1);if(n.fillStyle=un(s.fillStyle,i),n.lineCap=un(s.lineCap,"butt"),n.lineDashOffset=un(s.lineDashOffset,0),n.lineJoin=un(s.lineJoin,"miter"),n.lineWidth=a,n.strokeStyle=un(s.strokeStyle,i),n.setLineDash(un(s.lineDash,[])),r.usePointStyle){const i={radius:g*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:a},l=o.xPlus(e,m/2);La(n,i,l,t+u,r.pointStyleWidth&&m)}else{const r=t+Math.max((d-g)/2,0),i=o.leftForLtr(e,m),l=Qa(s.borderRadius);n.beginPath(),Object.values(l).some(e=>0!==e)?Ha(n,{x:i,y:r,w:m,h:g,radius:l}):n.rect(i,r,m,g),n.fill(),0!==a&&n.stroke()}n.restore()}(o.x(k),S,v),k=((e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t)(j,k+m+u,x?k+N:this.right,e.rtl),function(e,t,s){Ua(n,s.text,e,t+f/2,l,{strikethrough:s.hidden,textAlign:o.textAlign(s.textAlign)})}(o.x(k),S,v),x)h.x+=N+c;else if("string"!==typeof v.text){const e=l.lineHeight;h.y+=Pl(v,e)+c}else h.y+=b}),Br(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Za(t.font),n=Xa(t.padding);if(!t.display)return;const a=Rr(e.rtl,this.left,this.width),r=this.ctx,i=t.position,o=s.size/2,l=n.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=oa(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+oa(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=oa(i,d,d+u);r.textAlign=a.textAlign(ia(i)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=s.string,Ua(r,t.text,h,c,s)}_computeTitleHeight(){const e=this.options.title,t=Za(e.font),s=Xa(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,n,a;if(Xn(e,this.left,this.right)&&Xn(t,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(n=a[s],Xn(e,n.left,n.left+n.width)&&Xn(t,n.top,n.top+n.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=(a=s,null!==(n=r)&&null!==a&&n.datasetIndex===a.datasetIndex&&n.index===a.index);r&&!i&&mn(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&mn(t.onHover,[e,s,this],this)}else s&&mn(t.onClick,[e,s,this],this);var n,a}}function Pl(e,t){return t*(e.text?e.text.length:0)}var Dl={id:"legend",_element:Ml,start(e,t,s){const n=e.legend=new Ml({ctx:e.ctx,options:s,chart:e});Xi.configure(e,n,s),Xi.addBox(e,n)},stop(e){Xi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Xi.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:r,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(s?0:void 0),c=Xa(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Al extends xo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=on(s.text)?s.text.length:1;this._padding=Xa(s.padding);const a=n*Za(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:n,right:a,options:r}=this,i=r.align;let o,l,c,d=0;return this.isHorizontal()?(l=oa(i,s,a),c=t+e,o=a-s):("left"===r.position?(l=s+e,c=oa(i,n,t),d=-.5*En):(l=a-e,c=oa(i,t,n),d=.5*En),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Za(t.font),n=s.lineHeight/2+this._padding.top,{titleX:a,titleY:r,maxWidth:i,rotation:o}=this._drawArgs(n);Ua(e,t.text,0,0,s,{color:t.color,maxWidth:i,rotation:o,textAlign:ia(t.align),textBaseline:"middle",translation:[a,r]})}}var Tl={id:"title",_element:Al,start(e,t,s){!function(e,t){const s=new Al({ctx:e.ctx,options:t,chart:e});Xi.configure(e,s,t),Xi.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;Xi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Xi.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Ll={average(e){if(!e.length)return!1;let t,s,n=new Set,a=0,r=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n.add(e.x),a+=e.y,++r}}if(0===r||0===n.size)return!1;return{x:[...n].reduce((e,t)=>e+t)/n.size,y:a/r}},nearest(e,t){if(!e.length)return!1;let s,n,a,r=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(s=0,n=e.length;s<n;++s){const n=e[s].element;if(n&&n.hasValue()){const e=Yn(t,n.getCenterPoint());e<o&&(o=e,a=n)}}if(a){const e=a.tooltipPosition();r=e.x,i=e.y}return{x:r,y:i}}};function Ol(e,t){return t&&(on(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Il(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Rl(e,t){const{element:s,datasetIndex:n,index:a}=t,r=e.getDatasetMeta(n).controller,{label:i,value:o}=r.getLabelAndValue(a);return{chart:e,label:i,parsed:r.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:o,dataset:r.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function Fl(e,t){const s=e.chart.ctx,{body:n,footer:a,title:r}=e,{boxWidth:i,boxHeight:o}=t,l=Za(t.bodyFont),c=Za(t.titleFont),d=Za(t.footerFont),u=r.length,h=a.length,m=n.length,g=Xa(t.padding);let f=g.height,x=0,p=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),p){f+=m*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(p-m)*l.lineHeight+(p-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){x=Math.max(x,s.measureText(e).width+b)};return s.save(),s.font=c.string,gn(e.title,v),s.font=l.string,gn(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,gn(n,e=>{gn(e.before,v),gn(e.lines,v),gn(e.after,v)}),b=0,s.font=d.string,gn(e.footer,v),s.restore(),x+=g.width,{width:x,height:f}}function Bl(e,t,s,n){const{x:a,width:r}=s,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=a<=(o+l)/2?"left":"right":a<=r/2?c="left":a>=i-r/2&&(c="right"),function(e,t,s,n){const{x:a,width:r}=n,i=s.caretSize+s.caretPadding;return"left"===e&&a+r+i>t.width||"right"===e&&a-r-i<0||void 0}(c,e,t,s)&&(c="center"),c}function zl(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||Bl(e,t,s,n),yAlign:n}}function Vl(e,t,s,n){const{caretSize:a,caretPadding:r,cornerRadius:i}=e,{xAlign:o,yAlign:l}=s,c=a+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Qa(i);let g=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,o);const f=function(e,t,s){let{y:n,height:a}=e;return"top"===t?n+=s:n-="bottom"===t?a+s:a/2,n}(t,l,c);return"center"===l?"left"===o?g+=c:"right"===o&&(g-=c):"left"===o?g-=Math.max(d,h)+a:"right"===o&&(g+=Math.max(u,m)+a),{x:Qn(g,0,n.width-t.width),y:Qn(f,0,n.height-t.height)}}function Ul(e,t,s){const n=Xa(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Hl(e){return Ol([],Il(e))}function Wl(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const $l={beforeTitle:nn,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:nn,beforeBody:nn,beforeLabel:nn,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return rn(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:nn,afterBody:nn,beforeFooter:nn,footer:nn,afterFooter:nn};function Yl(e,t,s,n){const a=e[t].call(s,n);return"undefined"===typeof a?$l[t].call(s,n):a}class ql extends xo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,a=new ei(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,er(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=Yl(s,"beforeTitle",this,e),a=Yl(s,"title",this,e),r=Yl(s,"afterTitle",this,e);let i=[];return i=Ol(i,Il(n)),i=Ol(i,Il(a)),i=Ol(i,Il(r)),i}getBeforeBody(e,t){return Hl(Yl(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,n=[];return gn(e,e=>{const t={before:[],lines:[],after:[]},a=Wl(s,e);Ol(t.before,Il(Yl(a,"beforeLabel",this,e))),Ol(t.lines,Yl(a,"label",this,e)),Ol(t.after,Il(Yl(a,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return Hl(Yl(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=Yl(s,"beforeFooter",this,e),a=Yl(s,"footer",this,e),r=Yl(s,"afterFooter",this,e);let i=[];return i=Ol(i,Il(n)),i=Ol(i,Il(a)),i=Ol(i,Il(r)),i}_createItems(e){const t=this._active,s=this.chart.data,n=[],a=[],r=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Rl(this.chart,t[i]));return e.filter&&(l=l.filter((t,n,a)=>e.filter(t,n,a,s))),e.itemSort&&(l=l.sort((t,n)=>e.itemSort(t,n,s))),gn(l,t=>{const s=Wl(e.callbacks,t);n.push(Yl(s,"labelColor",this,t)),a.push(Yl(s,"labelPointStyle",this,t)),r.push(Yl(s,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let a,r=[];if(n.length){const e=Ll[s.position].call(this,n,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const t=this._size=Fl(this,s),i=Object.assign({},e,t),o=zl(this.chart,s,i),l=Vl(s,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const a=this.getCaretPosition(e,s,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:n,yAlign:a}=this,{caretSize:r,cornerRadius:i}=s,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Qa(i),{x:u,y:h}=e,{width:m,height:g}=t;let f,x,p,b,v,y;return"center"===a?(v=h+g/2,"left"===n?(f=u,x=f-r,b=v+r,y=v-r):(f=u+m,x=f+r,b=v-r,y=v+r),p=f):(x="left"===n?u+Math.max(o,c)+r:"right"===n?u+m-Math.max(l,d)-r:this.caretX,"top"===a?(b=h,v=b-r,f=x-r,p=x+r):(b=h+g,v=b+r,f=x+r,p=x-r),y=b),{x1:f,x2:x,x3:p,y1:b,y2:v,y3:y}}drawTitle(e,t,s){const n=this.title,a=n.length;let r,i,o;if(a){const l=Rr(s.rtl,this.x,this.width);for(e.x=Ul(this,s.titleAlign,s),t.textAlign=l.textAlign(s.titleAlign),t.textBaseline="middle",r=Za(s.titleFont),i=s.titleSpacing,t.fillStyle=s.titleColor,t.font=r.string,o=0;o<a;++o)t.fillText(n[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,o+1===a&&(e.y+=s.titleMarginBottom-i)}}_drawColorBox(e,t,s,n,a){const r=this.labelColors[s],i=this.labelPointStyles[s],{boxHeight:o,boxWidth:l}=a,c=Za(a.bodyFont),d=Ul(this,"left",a),u=n.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,m=t.y+h;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},s=n.leftForLtr(u,l)+l/2,c=m+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ta(e,t,s,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Ta(e,t,s,c)}else{e.lineWidth=ln(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=n.leftForLtr(u,l),s=n.leftForLtr(n.xPlus(u,1),l-2),i=Qa(r.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ha(e,{x:t,y:m,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Ha(e,{x:s,y:m+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,l,o),e.strokeRect(t,m,l,o),e.fillStyle=r.backgroundColor,e.fillRect(s,m+1,l-2,o-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:n}=this,{bodySpacing:a,bodyAlign:r,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=s,d=Za(s.bodyFont);let u=d.lineHeight,h=0;const m=Rr(s.rtl,this.x,this.width),g=function(s){t.fillText(s,m.x(e.x+h),e.y+u/2),e.y+=u+a},f=m.textAlign(r);let x,p,b,v,y,w,j;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=Ul(this,f,s),t.fillStyle=s.bodyColor,gn(this.beforeBody,g),h=i&&"right"!==f?"center"===r?l/2+c:l+2+c:0,v=0,w=n.length;v<w;++v){for(x=n[v],p=this.labelTextColors[v],t.fillStyle=p,gn(x.before,g),b=x.lines,i&&b.length&&(this._drawColorBox(t,e,v,m,s),u=Math.max(d.lineHeight,o)),y=0,j=b.length;y<j;++y)g(b[y]),u=d.lineHeight;gn(x.after,g)}h=0,u=d.lineHeight,gn(this.afterBody,g),e.y-=a}drawFooter(e,t,s){const n=this.footer,a=n.length;let r,i;if(a){const o=Rr(s.rtl,this.x,this.width);for(e.x=Ul(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=o.textAlign(s.footerAlign),t.textBaseline="middle",r=Za(s.footerFont),t.fillStyle=s.footerColor,t.font=r.string,i=0;i<a;++i)t.fillText(n[i],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s.footerSpacing}}drawBackground(e,t,s,n){const{xAlign:a,yAlign:r}=this,{x:i,y:o}=e,{width:l,height:c}=s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Qa(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===r&&"right"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+l,o+c-m),t.quadraticCurveTo(i+l,o+c,i+l-m,o+c),"bottom"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===r&&"left"===a&&this.drawCaret(e,t,s,n),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,a=s&&s.y;if(n||a){const s=Ll[e.position].call(this,this._active,this._eventPosition);if(!s)return;const r=this._size=Fl(this,e),i=Object.assign({},s,this._size),o=zl(t,e,i),l=Vl(e,i,o,t);n._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Xa(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,n,t),Fr(e,t.textDirection),a.y+=r.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Br(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,n=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[s],index:s}}),a=!fn(s,n),r=this._positionChanged(n,t);(a||r)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],r=this._getActiveElements(e,a,t,s),i=this._positionChanged(r,e),o=t||!fn(r,a)||i;return o&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,s,n){const a=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const r=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:s,caretY:n,options:a}=this,r=Ll[a.position].call(this,e,t);return!1!==r&&(s!==r.x||n!==r.y)}}Oe(ql,"positioners",Ll);var Jl={id:"tooltip",_element:ql,positioners:Ll,afterInit(e,t,s){s&&(e.tooltip=new ql({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Re(Re({},s),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$l},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Gl(e,t,s,n){const a=e.indexOf(t);if(-1===a)return((e,t,s,n)=>("string"===typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return a!==e.lastIndexOf(t)?s:a}function Ql(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Xl extends _o{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(rn(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:Qn(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:Gl(s,e,un(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=e;r<=t;r++)n.push({value:r});return n}getLabelForValue(e){return Ql.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Zl(e,t){const s=[],{bounds:n,step:a,min:r,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,m=c-1,{min:g,max:f}=t,x=!rn(r),p=!rn(i),b=!rn(l),v=(f-g)/(d+1);let y,w,j,N,k=Bn((f-g)/m/h)*h;if(k<1e-14&&!x&&!p)return[{value:g},{value:f}];N=Math.ceil(f/k)-Math.floor(g/k),N>m&&(k=Bn(N*k/m/h)*h),rn(o)||(y=Math.pow(10,o),k=Math.ceil(k*y)/y),"ticks"===n?(w=Math.floor(g/k)*k,j=Math.ceil(f/k)*k):(w=g,j=f),x&&p&&a&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((i-r)/a,k/1e3)?(N=Math.round(Math.min((i-r)/k,c)),k=(i-r)/N,w=r,j=i):b?(w=x?r:w,j=p?i:j,N=l-1,k=(j-w)/N):(N=(j-w)/k,N=Fn(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(Wn(k),Wn(w));y=Math.pow(10,rn(o)?S:o),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let _=0;for(x&&(u&&w!==r?(s.push({value:r}),w<r&&_++,Fn(Math.round((w+_*k)*y)/y,r,Kl(r,v,e))&&_++):w<r&&_++);_<N;++_){const e=Math.round((w+_*k)*y)/y;if(p&&e>i)break;s.push({value:e})}return p&&u&&j!==i?s.length&&Fn(s[s.length-1].value,i,Kl(i,v,e))?s[s.length-1].value=i:s.push({value:i}):p&&j!==i||s.push({value:j}),s}function Kl(e,t,s){let{horizontal:n,minRotation:a}=s;const r=Un(a),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}Oe(Xl,"id","category"),Oe(Xl,"defaults",{ticks:{callback:Ql}});class ec extends _o{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return rn(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this;const r=e=>n=t?n:e,i=e=>a=s?a:e;if(e){const e=Rn(n),t=Rn(a);e<0&&t<0?i(0):e>0&&t>0&&r(0)}if(n===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||r(n-t)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=Zl({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Vn(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return ya(e,this.chart.options.locale,this.options.ticks.format)}}class tc extends ec{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cn(e)?e:0,this.max=cn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Un(this.options.ticks.minRotation),n=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Oe(tc,"id","linear"),Oe(tc,"defaults",{ticks:{callback:ja.formatters.numeric}});const sc=e=>Math.floor(In(e)),nc=(e,t)=>Math.pow(10,sc(e)+t);function ac(e){return 1===e/Math.pow(10,sc(e))}function rc(e,t,s){const n=Math.pow(10,s),a=Math.floor(e/n);return Math.ceil(t/n)-a}function ic(e,t){let{min:s,max:n}=t;s=dn(e.min,s);const a=[],r=sc(s);let i=function(e,t){let s=sc(t-e);for(;rc(e,t,s)>10;)s++;for(;rc(e,t,s)<10;)s--;return Math.min(s,sc(e))}(s,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,d=Math.round((s-c)*o)/o,u=Math.floor((s-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),m=dn(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;m<n;)a.push({value:m,major:ac(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),m=Math.round((c+u+h*Math.pow(10,i))*o)/o;const g=dn(e.max,m);return a.push({value:g,major:ac(g),significand:h}),a}class oc extends _o{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=ec.prototype.parse.apply(this,[e,t]);if(0!==s)return cn(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cn(e)?Math.max(0,e):null,this.max=cn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cn(this._userMin)&&(this.min=e===nc(this.min,0)?nc(this.min,-1):nc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,n=this.max;const a=t=>s=e?s:t,r=e=>n=t?n:e;s===n&&(s<=0?(a(1),r(10)):(a(nc(s,-1)),r(nc(n,1)))),s<=0&&a(nc(n,-1)),n<=0&&r(nc(s,1)),this.min=s,this.max=n}buildTicks(){const e=this.options,t=ic({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Vn(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":ya(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=In(e),this._valueRange=In(this.max)-In(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(In(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function lc(e){const t=e.ticks;if(t.display&&e.display){const e=Xa(t.backdropPadding);return un(t.font&&t.font.size,Ea.font.size)+e.height}return 0}function cc(e,t,s){return s=on(s)?s:[s],{w:Pa(e,t.string,s),h:s.length*t.lineHeight}}function dc(e,t,s,n,a){return e===n||e===a?{start:t-s/2,end:t+s/2}:e<n||e>a?{start:t-s,end:t}:{start:t,end:t+s}}function uc(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],a=[],r=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?En/r:0;for(let l=0;l<r;l++){const r=i.setContext(e.getPointLabelContext(l));a[l]=r.padding;const c=e.getPointPosition(l,e.drawingArea+a[l],o),d=Za(r.font),u=cc(e.ctx,d,e._pointLabels[l]);n[l]=u;const h=Jn(e.getIndexAngle(l)+o),m=Math.round(Hn(h));hc(s,t,h,dc(m,c.x,u.w,0,180),dc(m,c.y,u.h,90,270))}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const n=[],a=e._pointLabels.length,r=e.options,{centerPointLabels:i,display:o}=r.pointLabels,l={extra:lc(r)/2,additionalAngle:i?En/a:0};let c;for(let d=0;d<a;d++){l.padding=s[d],l.size=t[d];const a=mc(e,d,l);n.push(a),"auto"===o&&(a.visible=gc(a,c),a.visible&&(c=a))}return n}(e,n,a)}function hc(e,t,s,n,a){const r=Math.abs(Math.sin(s)),i=Math.abs(Math.cos(s));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/r,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/r,e.r=Math.max(e.r,t.r+o)),a.start<t.t?(l=(t.t-a.start)/i,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function mc(e,t,s){const n=e.drawingArea,{extra:a,additionalAngle:r,padding:i,size:o}=s,l=e.getPointPosition(t,n+a+i,r),c=Math.round(Hn(Jn(l.angle+Tn))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function gc(e,t){if(!t)return!0;const{left:s,top:n,right:a,bottom:r}=e;return!(Oa({x:s,y:n},t)||Oa({x:s,y:r},t)||Oa({x:a,y:n},t)||Oa({x:a,y:r},t))}function fc(e,t,s){const{left:n,top:a,right:r,bottom:i}=s,{backdropColor:o}=t;if(!rn(o)){const s=Qa(t.borderRadius),l=Xa(t.backdropPadding);e.fillStyle=o;const c=n-l.left,d=a-l.top,u=r-n+l.width,h=i-a+l.height;Object.values(s).some(e=>0!==e)?(e.beginPath(),Ha(e,{x:c,y:d,w:u,h:h,radius:s}),e.fill()):e.fillRect(c,d,u,h)}}function xc(e,t,s,n){const{ctx:a}=e;if(s)a.arc(e.xCenter,e.yCenter,t,0,Mn);else{let s=e.getPointPosition(0,t);a.moveTo(s.x,s.y);for(let r=1;r<n;r++)s=e.getPointPosition(r,t),a.lineTo(s.x,s.y)}}Oe(oc,"id","logarithmic"),Oe(oc,"defaults",{ticks:{callback:ja.formatters.logarithmic,major:{enabled:!0}}});class pc extends ec{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xa(lc(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=cn(e)&&!isNaN(e)?e:0,this.max=cn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lc(this.options))}generateTickLabels(e){ec.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const s=mn(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?uc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,n))}getIndexAngle(e){return Jn(e*(Mn/(this._pointLabels.length||1))+Un(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(rn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(rn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return er(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-Tn+s;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:n,bottom:a}=this._pointLabelItems[e];return{left:t,top:s,right:n,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),xc(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:n,border:a}=t,r=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let a=t-1;a>=0;a--){const t=e._pointLabelItems[a];if(!t.visible)continue;const r=n.setContext(e.getPointLabelContext(a));fc(s,r,t);const i=Za(r.font),{x:o,y:l,textAlign:c}=t;Ua(s,e._pointLabels[a],o,l+i.lineHeight/2,i,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),n.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),i=n.setContext(s),l=a.setContext(s);!function(e,t,s,n,a){const r=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!n||!o||!l||s<0||(r.save(),r.strokeStyle=o,r.lineWidth=l,r.setLineDash(a.dash||[]),r.lineDashOffset=a.dashOffset,r.beginPath(),xc(e,s,i,n),r.closePath(),r.stroke(),r.restore())}(this,i,o,r,l)}}),s.display){for(e.save(),i=r-1;i>=0;i--){const n=s.setContext(this.getPointLabelContext(i)),{color:a,lineWidth:r}=n;r&&a&&(e.lineWidth=r,e.strokeStyle=a,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let a,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=s.setContext(this.getContext(i)),l=Za(o.font);if(a=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,r=e.measureText(n.label).width,e.fillStyle=o.backdropColor;const t=Xa(o.backdropPadding);e.fillRect(-r/2-t.left,-a-l.size/2-t.top,r+t.width,l.size+t.height)}Ua(e,n.label,0,-a,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}Oe(pc,"id","radialLinear"),Oe(pc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ja.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Oe(pc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Oe(pc,"descriptors",{angleLines:{_fallback:"grid"}});const bc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vc=Object.keys(bc);function yc(e,t){return e-t}function wc(e,t){if(rn(t))return null;const s=e._adapter,{parser:n,round:a,isoWeekday:r}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),cn(i)||(i="string"===typeof n?s.parse(i,n):s.parse(i)),null===i?null:(a&&(i="week"!==a||!zn(r)&&!0!==r?s.startOf(i,a):s.startOf(i,"isoWeek",r)),+i)}function jc(e,t,s,n){const a=vc.length;for(let r=vc.indexOf(e);r<a-1;++r){const e=bc[vc[r]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(a*e.size))<=n)return vc[r]}return vc[a-1]}function Nc(e,t,s){if(s){if(s.length){const{lo:n,hi:a}=Zn(s,t);e[s[n]>=t?s[n]:s[a]]=!0}}else e[t]=!0}function kc(e,t,s){const n=[],a={},r=t.length;let i,o;for(i=0;i<r;++i)o=t[i],a[o]=i,n.push({value:o,major:!1});return 0!==r&&s?function(e,t,s,n){const a=e._adapter,r=+a.startOf(t[0].value,n),i=t[t.length-1].value;let o,l;for(o=r;o<=i;o=+a.add(o,1,n))l=s[o],l>=0&&(t[l].major=!0);return t}(e,n,a,s):n}class Sc extends _o{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),n=this._adapter=new Di(e.adapters.date);n.init(t),yn(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:wc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:n,max:a,minDefined:r,maxDefined:i}=this.getUserBounds();function o(e){r||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(a=Math.max(a,e.max))}r&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),n=cn(n)&&!isNaN(n)?n:+t.startOf(Date.now(),s),a=cn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,n="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,r=function(e,t,s){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>s;)a--;return n>0||a<e.length?e.slice(n,a):e}(n,a,this.max);return this._unit=t.unit||(s.autoSkip?jc(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,s,n,a){for(let r=vc.length-1;r>=vc.indexOf(s);r--){const s=vc[r];if(bc[s].common&&e._adapter.diff(a,n,s)>=t-1)return s}return vc[s?vc.indexOf(s):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=vc.indexOf(e)+1,s=vc.length;t<s;++t)if(bc[vc[t]].common)return vc[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&r.reverse(),kc(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=0;this.options.offset&&s.length&&(e=this.getDecimalForValue(s[0]),n=1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,t=this.getDecimalForValue(s[s.length-1]),a=1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const r=s.length<3?.5:.25;n=Qn(n,0,r),a=Qn(a,0,r),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,t=this.min,s=this.max,n=this.options,a=n.time,r=a.unit||jc(a.minUnit,t,s,this._getLabelCapacity(t)),i=un(n.ticks.stepSize,1),o="week"===r&&a.isoWeekday,l=zn(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":r),e.diff(s,t,r)>1e5*i)throw new Error(t+" and "+s+" are too far apart with stepSize of "+i+" "+r);const m="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<s;d=+e.add(d,i,r),u++)Nc(c,d,m);return d!==s&&"ticks"!==n.bounds&&1!==u||Nc(c,d,m),Object.keys(c).sort(yc).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,a=t||s[n];return this._adapter.format(e,a)}_tickFormatFunction(e,t,s,n){const a=this.options,r=a.ticks.callback;if(r)return mn(r,[e,t,s],this);const i=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=s[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,s,n;for(t=0,s=e.length;t<s;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,n=Un(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),r=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:s*a+i*r,h:s*r+i*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,kc(this,[e],this._majorUnit),n),r=this._getLabelSize(a),i=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)s=s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(t=0,s=n.length;t<s;++t)e.push(wc(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return na(e.sort(yc))}}function _c(e,t,s){let n,a,r,i,o=0,l=e.length-1;s?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Kn(e,"pos",t)),({pos:n,time:r}=e[o]),({pos:a,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Kn(e,"time",t)),({time:n,pos:r}=e[o]),({time:a,pos:i}=e[l]));const c=a-n;return c?r+(i-r)*(t-n)/c:r}Oe(Sc,"id","time"),Oe(Sc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Cc extends Sc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_c(t,this.min),this._tableRange=_c(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,n=[],a=[];let r,i,o,l,c;for(r=0,i=e.length;r<i;++r)l=e[r],l>=t&&l<=s&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(r=0,i=n.length;r<i;++r)c=n[r+1],o=n[r-1],l=n[r],Math.round((c+o)/2)!==l&&a.push({time:l,pos:r/(i-1)});return a}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(_c(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return _c(this._table,s*this._tableRange+this._minPos,!0)}}Oe(Cc,"id","timeseries"),Oe(Cc,"defaults",Sc.defaults);const Ec=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Mc="label";function Pc(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Dc(e,t){e.labels=t}function Ac(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mc;const n=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[s]===t[s]);return a&&t.data&&!n.includes(a)?(n.push(a),Object.assign(a,t),a):Re({},t)})}function Tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mc;const s={labels:[],datasets:[]};return Dc(s,e.labels),Ac(s,e.datasets,t),s}function Lc(e,t){const{height:s=150,width:n=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h}=e,m=Ue(e,Ec),g=(0,a.useRef)(null),f=(0,a.useRef)(null),x=()=>{g.current&&(f.current=new nl(g.current,{type:o,data:Tc(l,i),options:c&&Re({},c),plugins:d}),Pc(t,f.current))},p=()=>{Pc(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,a.useEffect)(()=>{!r&&f.current&&c&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(f.current,c)},[r,c]),(0,a.useEffect)(()=>{!r&&f.current&&Dc(f.current.config.data,l.labels)},[r,l.labels]),(0,a.useEffect)(()=>{!r&&f.current&&l.datasets&&Ac(f.current.config.data,l.datasets,i)},[r,l.datasets]),(0,a.useEffect)(()=>{f.current&&(r?(p(),setTimeout(x)):f.current.update(h))},[r,c,l.labels,l.datasets,h]),(0,a.useEffect)(()=>{f.current&&(p(),setTimeout(x))},[o]),(0,a.useEffect)(()=>(x(),()=>p()),[]),a.createElement("canvas",Re({ref:g,role:"img",height:s,width:n},m),u)}const Oc=(0,a.forwardRef)(Lc);function Ic(e,t){return nl.register(t),(0,a.forwardRef)((t,s)=>a.createElement(Oc,Re(Re({},t),{},{ref:s,type:e})))}const Rc=Ic("bar",wi);nl.register(Xl,tc,Cl,Tl,Jl,Dl);const Fc=e=>{let{data:t,color:s="rgba(220,38,38,0.9)"}=e;const n=Object.entries(t).slice(0,20);if(0===n.length)return(0,Fe.jsx)("div",{className:"text-sm text-gray-400",children:"No data"});const a={labels:n.map(e=>e[0]),datasets:[{label:"Tickets",data:n.map(e=>e[1]),backgroundColor:s,borderRadius:6,maxBarThickness:48}]};return(0,Fe.jsx)("div",{className:"bg-gray-800 rounded p-4",style:{height:320},children:(0,Fe.jsx)(Rc,{data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{color:"#D1D5DB"}},y:{grid:{color:"#0f1724"},ticks:{color:"#D1D5DB",beginAtZero:!0}}}}})})},Bc=()=>{const e=(0,a.useMemo)(()=>JSON.parse(localStorage.getItem("demoBookings")||"[]"),[]),[t,s]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),{totals:d,byDate:u,byMovie:h}=(0,a.useMemo)(()=>function(e){let{from:t,to:s,movie:n,venue:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={bookings:0,revenue:0,tickets:0},i={},o={},l=t?new Date(t).getTime():null,c=s?new Date(s).getTime():null;return e.forEach(e=>{const t=new Date(e.bookingDate||e.showDate||Date.now()).getTime();if(l&&t<l||c&&t>c)return;if(n&&e.movieTitle&&!e.movieTitle.toLowerCase().includes(n.toLowerCase()))return;if(a&&e.venueName&&!e.venueName.toLowerCase().includes(a.toLowerCase()))return;const s=(e.bookingDate||e.showDate||"").split("T")[0]||"unknown";r.bookings+=1,r.revenue+=Number(e.totalAmount||0);const d=(e.seats||[]).length||0;r.tickets+=d,i[s]=(i[s]||0)+d;const u=e.movieTitle||"Unknown";o[u]=(o[u]||0)+d}),{totals:r,byDate:i,byMovie:o}}(e,{from:t,to:n,movie:i,venue:l}),[e,t,n,i,l]),m=Object.entries(h).sort((e,t)=>t[1]-e[1]).slice(0,5);return(0,Fe.jsxs)("div",{className:"p-6 bg-transparent",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-2",children:"Analytics"}),(0,Fe.jsx)("p",{className:"text-gray-400 mb-6",children:"Overview of recent activity (from local demo data)"}),(0,Fe.jsx)("div",{className:"bg-gray-800 p-4 rounded mb-6",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-xs text-gray-400",children:"From"}),(0,Fe.jsx)("input",{type:"date",value:t,onChange:e=>s(e.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-xs text-gray-400",children:"To"}),(0,Fe.jsx)("input",{type:"date",value:n,onChange:e=>r(e.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-xs text-gray-400",children:"Movie"}),(0,Fe.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Filter by movie title",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-xs text-gray-400",children:"Venue"}),(0,Fe.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Filter by venue",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white"})]})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Fe.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,Fe.jsx)("div",{className:"text-sm text-gray-400",children:"Total Bookings"}),(0,Fe.jsx)("div",{className:"text-2xl font-bold text-white",children:d.bookings})]}),(0,Fe.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,Fe.jsx)("div",{className:"text-sm text-gray-400",children:"Total Tickets"}),(0,Fe.jsx)("div",{className:"text-2xl font-bold text-white",children:d.tickets})]}),(0,Fe.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,Fe.jsx)("div",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,Fe.jsxs)("div",{className:"text-2xl font-bold text-white",children:["\u20b9",d.revenue]})]})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg text-white mb-2",children:"Tickets by Date"}),(0,Fe.jsx)(Fc,{data:u,color:"rgba(220,38,38,0.9)"})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg text-white mb-2",children:"Top Movies (by tickets)"}),(0,Fe.jsxs)("ul",{className:"space-y-2",children:[0===m.length&&(0,Fe.jsx)("li",{className:"text-sm text-gray-400",children:"No movie data"}),m.map(e=>{let[t,s]=e;return(0,Fe.jsxs)("li",{className:"flex items-center justify-between bg-gray-800 p-3 rounded",children:[(0,Fe.jsx)("div",{className:"text-sm text-gray-200",children:t}),(0,Fe.jsx)("div",{className:"text-sm font-semibold text-white",children:s})]},t)})]})]})]})},zc=()=>{const{user:e,isAdmin:t,logout:s}=ze(),n=se(),[r,i]=(0,a.useState)("dashboard"),[o,l]=(0,a.useState)({totalUsers:0,totalMovies:0,totalBookings:0,totalRevenue:0});(0,a.useEffect)(()=>{t()?c():n("/dashboard")},[t,n]),(0,a.useEffect)(()=>{"dashboard"!==r&&"bookings"!==r||c()},[r]),(0,a.useEffect)(()=>{const e=()=>{c()},t=()=>{document.hidden||c()},s=()=>{c()};return window.addEventListener("focus",e),document.addEventListener("visibilitychange",t),window.addEventListener("bookingCreated",s),()=>{window.removeEventListener("focus",e),document.removeEventListener("visibilitychange",t),window.removeEventListener("bookingCreated",s)}},[]);const c=async()=>{try{const e=await $t.getDashboardStats(),t=JSON.parse(localStorage.getItem("demoBookings")||"[]"),s=t.length,n=t.reduce((e,t)=>e+(t.totalAmount||0),0);l({totalUsers:e.totalUsers||0,totalMovies:e.totalMovies||0,totalBookings:(e.totalBookings||0)+s,totalRevenue:(e.totalRevenue||0)+n})}catch(e){console.error("Error loading dashboard stats:",e);const t=JSON.parse(localStorage.getItem("demoBookings")||"[]"),s=t.length,n=t.reduce((e,t)=>e+(t.totalAmount||0),0);l({totalUsers:0,totalMovies:0,totalBookings:s,totalRevenue:n})}},d=e=>{let{title:t,value:s,icon:n,color:a}=e;return(0,Fe.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-md p-6 border border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-400",children:t}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-white",children:s})]}),(0,Fe.jsx)("div",{className:"p-3 rounded-full ".concat(a),children:n})]})})},u=e=>{let{title:t,description:s,action:n,icon:a,color:r}=e;return(0,Fe.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer border border-gray-700",onClick:n,children:(0,Fe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full ".concat(r),children:a}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-white",children:t}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),(0,Fe.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})};return(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Fe.jsx)("div",{className:"bg-black shadow-sm border-b border-gray-800",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-2xl font-bold text-red-400",children:"Admin Dashboard"}),(0,Fe.jsxs)("p",{className:"text-gray-400",children:["Welcome back, ",null===e||void 0===e?void 0:e.username,"!"]})]}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("button",{onClick:()=>n("/profile"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Profile"}),(0,Fe.jsx)("button",{onClick:s,className:"bg-white text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Logout"})]})]})})}),(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsx)("div",{className:"border-b border-gray-800",children:(0,Fe.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:["dashboard","movies","shows","bookings","users","venues","seats","analytics"].map(e=>(0,Fe.jsx)("button",{onClick:()=>i(e),className:"".concat(r===e?"border-red-500 text-red-400":"border-transparent text-gray-400 hover:text-red-300 hover:border-gray-700"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})})}),"dashboard"===r&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Fe.jsx)(d,{title:"Total Users",value:o.totalUsers.toLocaleString(),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),color:"bg-blue-500"}),(0,Fe.jsx)(d,{title:"Total Movies",value:o.totalMovies,icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 11V9a1 1 0 011-1h8a1 1 0 011 1v6M7 15l4-4 4 4"})}),color:"bg-green-500"}),(0,Fe.jsx)(d,{title:"Total Bookings",value:o.totalBookings.toLocaleString(),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),color:"bg-purple-500"}),(0,Fe.jsx)(d,{title:"Total Revenue",value:"$".concat(o.totalRevenue.toLocaleString()),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),color:"bg-yellow-500"})]}),(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Fe.jsx)(u,{title:"Manage Users",description:"View, edit, and manage user accounts",action:()=>i("users"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),color:"bg-blue-500"}),(0,Fe.jsx)(u,{title:"Manage Movies",description:"Add and edit movies in the catalog",action:()=>i("movies"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 11V9a1 1 0 011-1h8a1 1 0 011 1v6M7 15l4-4 4 4"})}),color:"bg-green-500"}),(0,Fe.jsx)(u,{title:"Manage Shows",description:"Schedule and manage movie shows",action:()=>i("shows"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-purple-500"}),(0,Fe.jsx)(u,{title:"View Bookings",description:"Monitor and manage all customer bookings",action:()=>i("bookings"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),color:"bg-orange-500"}),(0,Fe.jsx)(u,{title:"Manage Venues",description:"Add and manage cinema venues",action:()=>i("venues"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"bg-red-500"}),(0,Fe.jsx)(u,{title:"Manage Seats",description:"Configure theater seating layouts",action:()=>i("seats"),icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),color:"bg-gray-500"})]})]}),(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-md p-6 border border-gray-700",children:[(0,Fe.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Activity"}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 py-3 border-b border-gray-700",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-red-700 rounded-full flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-white",children:"New user registered"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-400",children:"john.doe@example.com - 2 minutes ago"})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 py-3 border-b border-gray-700",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-green-700 rounded-full flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-white",children:"Movie booking completed"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-400",children:"Avengers: Endgame - Screen 3 - 5 minutes ago"})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 py-3",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-yellow-700 rounded-full flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L4.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-white",children:"System maintenance scheduled"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-400",children:"Database backup - Tonight at 2:00 AM"})]})]})]})]})]}),"movies"===r&&(0,Fe.jsx)(zt,{}),"shows"===r&&(0,Fe.jsx)(Yt,{}),"bookings"===r&&(0,Fe.jsx)(Ns,{}),"users"===r&&(0,Fe.jsx)(rs,{}),"venues"===r&&(0,Fe.jsx)(cs,{}),"seats"===r&&(0,Fe.jsx)(us,{}),"analytics"===r&&(0,Fe.jsx)("div",{className:"mt-6",children:(0,Fe.jsx)(Bc,{})})]})]})},Vc=["title","titleId"];function Uc(e,t){let{title:s,titleId:n}=e,r=Ue(e,Vc);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Hc=a.forwardRef(Uc),Wc=["title","titleId"];function $c(e,t){let{title:s,titleId:n}=e,r=Ue(e,Wc);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Yc=a.forwardRef($c),qc=()=>{const{user:e}=ze(),t=se(),[s,n]=(0,a.useState)(!0),[r,i]=(0,a.useState)({totalBookings:0,upcomingShows:0,totalSpent:0,favoriteGenres:[]});console.log("UserDashboard - Current userStats state:",r);const o=()=>{console.log("UserDashboard - loadData called");try{n(!0);const e=JSON.parse(localStorage.getItem("userBookings")||"[]");console.log("UserDashboard - Raw localStorage data:",{userBookings:e,userBookingsLength:e.length,userBookingsContent:e});let t=e.length,s=0,a=0;e.forEach((e,t)=>{console.log("UserDashboard - Processing booking ".concat(t,":"),e);const n=e.totalAmount||0;s+=n,console.log("UserDashboard - Added amount ".concat(n,", running total: ").concat(s))});const r=new Date;e.forEach(e=>{try{new Date(e.date+" "+e.showTime)>r&&a++}catch(t){console.warn("Error parsing date for booking:",e,t)}});const o={};e.forEach(e=>{const t=e.genre||e.movieTitle||"Action";o[t]=(o[t]||0)+1});const l=Object.entries(o).sort((e,t)=>{let[,s]=e,[,n]=t;return n-s}).slice(0,3).map(e=>{let[t]=e;return t}),c={totalBookings:Number(t)||0,upcomingShows:Number(a)||0,totalSpent:Number(s)||0,favoriteGenres:l.length>0?l:["Action","Drama","Comedy"]};console.log("UserDashboard - Validated stats:",c),i(c)}catch(e){console.error("UserDashboard - Error loading data:",e),i({totalBookings:0,upcomingShows:0,totalSpent:0,favoriteGenres:["Action","Drama","Comedy"]})}n(!1)};(0,a.useEffect)(()=>{console.log("UserDashboard - Component mounted, loading data..."),o();const e=e=>{console.log("UserDashboard - Storage change detected:",e.key,e.newValue),"userBookings"!==e.key&&"userDashboardStats"!==e.key||(console.log("UserDashboard - Reloading data due to storage change"),o())},t=()=>{o()};window.addEventListener("storage",e),window.addEventListener("focus",t);const s=e=>{console.log("UserDashboard - Custom booking update received:",e.detail),o()};return window.addEventListener("bookingUpdate",s),()=>{window.removeEventListener("storage",e),window.removeEventListener("focus",t),window.removeEventListener("bookingUpdate",s)}},[]);return s?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4"}),(0,Fe.jsx)("p",{className:"text-white",children:"Loading dashboard..."})]})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-900 text-white",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsxs)("div",{className:"w-64 bg-gray-800 min-h-screen p-6",children:[(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Fe.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center",children:(0,Fe.jsx)("span",{className:"text-white font-bold text-lg",children:null!==e&&void 0!==e&&e.name?e.name.charAt(0).toUpperCase():"A"})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-white font-semibold",children:"Welcome back,"}),(0,Fe.jsx)("p",{className:"text-red-400 text-sm",children:(null===e||void 0===e?void 0:e.email)||"ash@gmail.com"})]})]})}),(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h3",{className:"text-gray-400 text-sm font-semibold mb-4 uppercase tracking-wider",children:"Quick Actions"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("button",{onClick:()=>t("/movies"),className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-red-600 hover:bg-red-700 transition-colors",children:[(0,Fe.jsx)("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)(ut,{className:"h-5 w-5"})}),(0,Fe.jsx)("span",{className:"font-medium",children:"Browse Movies"}),(0,Fe.jsx)(Hc,{className:"h-4 w-4 ml-auto"})]}),(0,Fe.jsxs)("button",{onClick:()=>t("/my-bookings"),className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors",children:[(0,Fe.jsx)("div",{className:"w-8 h-8 bg-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)(ys,{className:"h-5 w-5 text-cyan-400"})}),(0,Fe.jsx)("span",{className:"font-medium",children:"My Bookings"}),(0,Fe.jsx)(Hc,{className:"h-4 w-4 ml-auto"})]}),(0,Fe.jsxs)("button",{onClick:()=>t("/payments"),className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors",children:[(0,Fe.jsx)("div",{className:"w-8 h-8 bg-purple-500 bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)(_t,{className:"h-5 w-5 text-purple-400"})}),(0,Fe.jsx)("span",{className:"font-medium",children:"Payments & Wallet"}),(0,Fe.jsx)(Hc,{className:"h-4 w-4 ml-auto"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"flex-1 p-8",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,Fe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Fe.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)(ys,{className:"h-6 w-6 text-white"})})}),(0,Fe.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:isNaN(r.totalBookings)?0:r.totalBookings}),(0,Fe.jsx)("div",{className:"text-gray-400 text-sm",children:"TOTAL BOOKINGS"})]}),(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,Fe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Fe.jsx)("div",{className:"w-12 h-12 bg-cyan-500 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)(lt,{className:"h-6 w-6 text-white"})})}),(0,Fe.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:isNaN(r.upcomingShows)?0:r.upcomingShows}),(0,Fe.jsx)("div",{className:"text-gray-400 text-sm",children:"UPCOMING SHOWS"})]}),(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,Fe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Fe.jsx)("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)(_t,{className:"h-6 w-6 text-white"})})}),(0,Fe.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["\u20b9",isNaN(r.totalSpent)?0:r.totalSpent]}),(0,Fe.jsx)("div",{className:"text-gray-400 text-sm",children:"TOTAL SPENT"})]})]}),(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Now Showing"}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 text-sm transition-colors",children:"Action"}),(0,Fe.jsx)("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 text-sm transition-colors",children:"Comedy"}),(0,Fe.jsx)("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 text-sm transition-colors",children:"Horror"}),(0,Fe.jsx)("button",{className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white text-sm transition-colors",children:"Action"})]})]}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{id:1,title:"DUNE",subtitle:"PART TWO",genre:"Adventure",poster:"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",ticketsLeft:"50%",trailer:!0},{id:2,title:"GODZILLA X KONG",subtitle:"THE NEW EMPIRE",genre:"Action",poster:"https://image.tmdb.org/t/p/w500/gmGK92wI1dwI5F1kmrvCRzKRGAJ.jpg",ticketsLeft:"80%",trailer:!0},{id:3,title:"DEADPOOL",subtitle:"WOLVERINE",genre:"Action",poster:"https://image.tmdb.org/t/p/w500/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg",ticketsLeft:"30%",trailer:!0},{id:4,title:"DUNE",subtitle:"PART TWO",genre:"Adventure",poster:"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",ticketsLeft:"90%",trailer:!0}].map(e=>(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700 group hover:border-red-500 transition-colors cursor-pointer",onClick:()=>t("/movies/".concat(e.id)),children:[(0,Fe.jsxs)("div",{className:"aspect-[3/4] relative",children:[(0,Fe.jsx)("img",{src:e.poster,alt:"".concat(e.title," poster"),className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Fe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-700 to-gray-800 flex items-center justify-center",style:{display:"none"},children:(0,Fe.jsx)(ut,{className:"h-16 w-16 text-gray-600"})}),(0,Fe.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center",children:(0,Fe.jsx)(Yc,{className:"h-8 w-8 text-white ml-1"})})}),(0,Fe.jsx)("div",{className:"absolute top-3 right-3",children:(0,Fe.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white text-xs px-2 py-1 rounded-full transition-colors",onClick:e=>{e.stopPropagation(),t("/movies")},children:"BOOK NOW"})})]}),(0,Fe.jsxs)("div",{className:"p-4",children:[(0,Fe.jsx)("h3",{className:"font-bold text-white text-sm mb-1",children:e.title}),(0,Fe.jsx)("p",{className:"text-gray-400 text-xs mb-2",children:e.subtitle}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-400 text-xs",children:e.genre}),e.trailer&&(0,Fe.jsx)("span",{className:"text-red-400 text-xs",children:"\ud83d\udd34 TRAILER"})]})]})]},e.id))})]})]})]})})},Jc=()=>{var e;const{user:t}=ze(),s=se(),[n,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)(""),[g,f]=(0,a.useState)("all"),[x,p]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{console.log("MyBookingsEnhanced - Component mounted"),j();const e=()=>{console.log("MyBookingsEnhanced - Focus event"),j()},t=e=>{"userBookings"===e.key&&(console.log("MyBookingsEnhanced - Storage change detected"),j())},s=()=>{document.hidden||(console.log("MyBookingsEnhanced - Visibility change"),j())};return window.addEventListener("focus",e),window.addEventListener("storage",t),document.addEventListener("visibilitychange",s),()=>{window.removeEventListener("focus",e),window.removeEventListener("storage",t),document.removeEventListener("visibilitychange",s)}},[]);const j=async()=>{console.log("MyBookingsEnhanced - loadBookings called");try{o(!0);const e=JSON.parse(localStorage.getItem("userBookings")||"[]");console.log("MyBookingsEnhanced - User Bookings:",e);const t=e.map(e=>{var t,s;return{id:e.id,bookingReference:"BK".concat(e.id),status:e.status||"CONFIRMED",bookingDate:e.bookingDate,totalAmount:e.totalAmount,numberOfTickets:(null===(t=e.seats)||void 0===t?void 0:t.length)||1,paymentStatus:"PAID",qrCode:"QR".concat(e.id),canCancel:!0,cancellationDeadline:new Date(Date.now()+864e5).toISOString(),refundAmount:.9*e.totalAmount,show:{id:e.showId||1,movie:{id:e.movieId||1,title:e.movieTitle,posterUrl:"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",duration:150,genre:"Action",rating:"PG-13"},venue:{id:1,name:e.venue||"CinemaFlix IMAX",address:e.venue||"CinemaFlix IMAX",city:{name:"Bangalore"}},showDate:e.date,showTime:e.showTime,screen:{id:1,name:"Screen 1",type:"REGULAR"}},seats:(null===(s=e.seats)||void 0===s?void 0:s.map((t,s)=>({id:s+1,seatNumber:t,seatType:"REGULAR",price:e.totalAmount/e.seats.length||250})))||[]}});console.log("MyBookingsEnhanced - Transformed Bookings:",t),r(t)}catch(e){console.error("Error loading bookings:",e),c("Failed to load bookings"),r([{id:"BK001",bookingReference:"MB2025001",status:"CONFIRMED",bookingDate:"2025-01-15T10:30:00Z",totalAmount:25.5,numberOfTickets:2,paymentStatus:"PAID",qrCode:"QR123456789",canCancel:!0,cancellationDeadline:"2025-01-20T16:00:00Z",refundAmount:23,show:{id:1,movie:{id:1,title:"Spider-Man: No Way Home",posterUrl:"/placeholder-movie.jpg",genre:"Action, Adventure",duration:148},venue:{name:"PVR Cinemas Forum Mall",address:"123 Forum Mall, Downtown",screen:"Screen 3"},showDateTime:"2025-01-20T19:30:00Z",format:"IMAX 3D"},seats:[{id:1,seatNumber:"F12",type:"Premium"},{id:2,seatNumber:"F13",type:"Premium"}],concessions:[{item:"Large Popcorn",quantity:1,price:8.5},{item:"Soft Drink",quantity:2,price:6}]},{id:"BK002",bookingReference:"MB2025002",status:"COMPLETED",bookingDate:"2025-01-10T15:45:00Z",totalAmount:18,numberOfTickets:1,paymentStatus:"PAID",qrCode:"QR987654321",canCancel:!1,rating:null,show:{id:2,movie:{id:2,title:"The Batman",posterUrl:"/placeholder-movie.jpg",genre:"Action, Crime",duration:176},venue:{name:"AMC Theater Downtown",address:"456 Main Street",screen:"Screen 1"},showDateTime:"2025-01-12T21:00:00Z",format:"Standard"},seats:[{id:3,seatNumber:"G8",type:"Standard"}],concessions:[]},{id:"BK003",bookingReference:"MB2025003",status:"CANCELLED",bookingDate:"2025-01-08T20:15:00Z",totalAmount:32.75,numberOfTickets:3,paymentStatus:"REFUNDED",refundAmount:30,cancellationDate:"2025-01-09T10:00:00Z",cancellationReason:"User requested cancellation",show:{id:3,movie:{id:3,title:"Dune: Part One",posterUrl:"/placeholder-movie.jpg",genre:"Sci-Fi, Adventure",duration:155},venue:{name:"Cineplex Central",address:"789 Cinema Blvd",screen:"Screen 5"},showDateTime:"2025-01-15T18:00:00Z",format:"Dolby Atmos"},seats:[{id:4,seatNumber:"E5",type:"VIP"},{id:5,seatNumber:"E6",type:"VIP"},{id:6,seatNumber:"E7",type:"VIP"}]}])}finally{o(!1)}},N=async e=>{try{o(!0);const t=await js.getETicket(e.id),s="\n        E-TICKET - ".concat(t.bookingReference||e.bookingReference,"\n        \n        Movie: ").concat(e.show.movie.title,"\n        Venue: ").concat(e.show.venue.name,"\n        Date & Time: ").concat(new Date(e.show.showDateTime).toLocaleString(),"\n        Seats: ").concat(e.seats.map(e=>e.seatNumber).join(", "),"\n        Total Amount: $").concat(e.totalAmount.toFixed(2),"\n        \n        QR Code: ").concat(t.qrCode||e.qrCode,"\n        Barcode: ").concat(t.barcode||"N/A","\n      "),n=new Blob([s],{type:"text/plain"}),a=window.URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download="eticket-".concat(e.bookingReference,".txt"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}catch(l){console.error("Error downloading e-ticket:",l),c("Failed to download e-ticket")}finally{o(!1)}},k=e=>{switch(e){case"CONFIRMED":return"text-green-600 bg-green-100";case"COMPLETED":return"text-blue-600 bg-blue-100";case"CANCELLED":return"text-red-600 bg-red-100";case"PENDING":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},S=(()=>{let e=n;const t=new Date;return"upcoming"===d?e=e.filter(e=>new Date(e.show.showDateTime)>t&&"CONFIRMED"===e.status):"past"===d?e=e.filter(e=>new Date(e.show.showDateTime)<=t||"COMPLETED"===e.status):"cancelled"===d&&(e=e.filter(e=>"CANCELLED"===e.status)),h&&(e=e.filter(e=>e.show.movie.title.toLowerCase().includes(h.toLowerCase())||e.show.venue.name.toLowerCase().includes(h.toLowerCase())||e.bookingReference.toLowerCase().includes(h.toLowerCase()))),"all"!==g&&(e=e.filter(e=>e.status.toLowerCase()===g)),e})();return i?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-900",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-28 w-28 border-b-4 border-red-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-neutral-900 text-white py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-black/70 to-neutral-800 rounded-lg shadow-sm p-6 mb-8 border border-neutral-800",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-extrabold text-red-500",children:"My Bookings"}),(0,Fe.jsx)("p",{className:"text-neutral-300 mt-2",children:"Manage your movie tickets and bookings"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsxs)("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Fe.jsx)("span",{children:"Refresh"})]}),(0,Fe.jsx)("button",{onClick:()=>s("/user/dashboard"),className:"bg-transparent hover:bg-neutral-800 border border-neutral-700 text-neutral-200 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Fe.jsx)("div",{className:"bg-neutral-850/60 rounded-lg shadow-sm p-6 border border-neutral-800",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-black/40",children:(0,Fe.jsx)("span",{className:"text-red-400 text-xl",children:"\ud83c\udfab"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-neutral-300",children:"Total Bookings"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-white",children:n.length})]})]})}),(0,Fe.jsx)("div",{className:"bg-neutral-850/60 rounded-lg shadow-sm p-6 border border-neutral-800",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-black/40",children:(0,Fe.jsx)("span",{className:"text-red-400 text-xl",children:"\u23f0"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-neutral-300",children:"Upcoming"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-white",children:n.filter(e=>new Date(e.show.showDateTime)>new Date&&"CONFIRMED"===e.status).length})]})]})}),(0,Fe.jsx)("div",{className:"bg-neutral-850/60 rounded-lg shadow-sm p-6 border border-neutral-800",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-black/40",children:(0,Fe.jsx)("span",{className:"text-red-400 text-xl",children:"\ud83d\udcb0"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-neutral-300",children:"Total Spent"}),(0,Fe.jsxs)("p",{className:"text-2xl font-bold text-white",children:["\u20b9",n.filter(e=>"CANCELLED"!==e.status).reduce((e,t)=>e+t.totalAmount,0).toFixed(2)]})]})]})})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center px-6 py-4",children:[(0,Fe.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"all",label:"All Bookings"},{id:"cancelled",label:"Cancelled"}].map(e=>(0,Fe.jsx)("button",{onClick:()=>u(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(d===e.id?"border-red-500 text-red-400":"border-transparent text-neutral-400 hover:text-neutral-200 hover:border-neutral-700"),children:e.label},e.id))}),(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-neutral-700 bg-neutral-900/40 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-neutral-200",children:[(0,Fe.jsx)("option",{value:"all",children:"All Status"}),(0,Fe.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Fe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]})}),(0,Fe.jsx)("div",{className:"p-6",children:S.length>0?(0,Fe.jsx)("div",{className:"space-y-6",children:S.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow bg-neutral-800 border-neutral-700",children:[(0,Fe.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("div",{className:"w-20 h-28 bg-neutral-700 rounded flex items-center justify-center flex-shrink-0",children:(0,Fe.jsx)("span",{className:"text-neutral-300 text-xs",children:"IMG"})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.show.movie.title}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(k(e.status)),children:e.status})]}),(0,Fe.jsx)("p",{className:"text-neutral-300 mb-1",children:e.show.venue.name}),(0,Fe.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:e.show.venue.address}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-300",children:[(0,Fe.jsxs)("span",{children:["\ud83d\udcc5 ",new Date(e.show.showDateTime).toLocaleDateString()]}),(0,Fe.jsxs)("span",{children:["\ud83d\udd50 ",new Date(e.show.showDateTime).toLocaleTimeString()]}),(0,Fe.jsxs)("span",{children:["\ud83c\udfac ",e.show.format]}),(0,Fe.jsxs)("span",{children:["\ud83d\udcba ",e.seats.map(e=>e.seatNumber).join(", ")]})]}),(0,Fe.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[(0,Fe.jsxs)("span",{className:"font-medium text-neutral-200",children:["Booking ID: ",e.bookingReference]}),(0,Fe.jsxs)("span",{className:"text-neutral-300",children:["Tickets: ",e.numberOfTickets]}),(0,Fe.jsxs)("span",{className:"font-semibold text-red-400",children:["$",e.totalAmount.toFixed(2)]})]})]})]})}),(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:["CONFIRMED"===e.status&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:()=>{p(e),v(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udcf1 Show QR Code"}),(0,Fe.jsx)("button",{onClick:()=>N(e),className:"bg-neutral-700 hover:bg-neutral-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udce5 Download E-Ticket"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{if(navigator.share)navigator.share({title:"Movie Ticket - ".concat(e.show.movie.title),text:"I'm watching ".concat(e.show.movie.title," at ").concat(e.show.venue.name," on ").concat(new Date(e.show.showDateTime).toLocaleDateString()),url:window.location.href});else{const t="I'm watching ".concat(e.show.movie.title," at ").concat(e.show.venue.name," on ").concat(new Date(e.show.showDateTime).toLocaleDateString());navigator.clipboard.writeText(t),alert("Booking details copied to clipboard!")}})(e),className:"bg-neutral-700 hover:bg-neutral-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udce4 Share"}),e.canCancel&&new Date(e.cancellationDeadline)>new Date&&(0,Fe.jsx)("button",{onClick:()=>{p(e),w(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\u274c Cancel Booking"})]}),"COMPLETED"===e.status&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{s("/movies/".concat(e.show.movie.id,"/shows"))})(e),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udd04 Book Again"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{s("/user/reviews",{state:{movieToRate:e.show.movie}})})(e),className:"bg-neutral-700 hover:bg-neutral-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\u2b50 Rate Movie"}),(0,Fe.jsx)("button",{onClick:()=>N(e),className:"bg-neutral-700 hover:bg-neutral-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udcc4 Download Invoice"})]}),"CANCELLED"===e.status&&e.refundAmount&&(0,Fe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Fe.jsxs)("span",{className:"font-medium",children:["Refund: $",e.refundAmount.toFixed(2)]}),(0,Fe.jsxs)("span",{className:"ml-2",children:["\u2022 Cancelled on ",new Date(e.cancellationDate).toLocaleDateString()]})]})]}),e.concessions&&e.concessions.length>0&&(0,Fe.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Concessions:"}),(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:e.concessions.map((e,t)=>(0,Fe.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:[e.quantity,"x ",e.item," - $",e.price.toFixed(2)]},t))})]})]},e.id))}):(0,Fe.jsxs)("div",{className:"text-center py-12 text-neutral-300",children:[(0,Fe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\ud83c\udfab"}),(0,Fe.jsx)("p",{className:"text-neutral-200 text-lg mb-2",children:"No bookings found"}),(0,Fe.jsxs)("p",{className:"text-neutral-400 text-sm mb-6",children:["upcoming"===d&&"No upcoming bookings","past"===d&&"No past bookings","cancelled"===d&&"No cancelled bookings","all"===d&&"Start by booking your first movie"]}),(0,Fe.jsx)("button",{onClick:()=>s("/movies"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Browse Movies"})]})})]}),b&&x&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsx)("div",{className:"bg-white rounded-lg p-8 w-full max-w-md mx-4",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"E-Ticket QR Code"}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)("img",{src:(_=x.qrCode,"data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='200' fill='white'/%3E%3Ctext x='100' y='100' font-family='monospace' font-size='12' text-anchor='middle' fill='black'%3E".concat(_,"%3C/text%3E%3C/svg%3E")),alt:"QR Code",className:"mx-auto border rounded-lg"})}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:x.show.movie.title}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:x.show.venue.name}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 mb-6",children:"Show this QR code at the theatre for entry"}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>v(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Close"}),(0,Fe.jsx)("button",{onClick:()=>N(x),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Download"})]})]})})}),y&&x&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-md mx-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cancel Booking"}),(0,Fe.jsxs)("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to cancel your booking for "',x.show.movie.title,'"?']}),(0,Fe.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,Fe.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Fe.jsx)("strong",{children:"Refund Amount:"})," $",(null===(e=x.refundAmount)||void 0===e?void 0:e.toFixed(2))||"0.00"]}),(0,Fe.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Refund will be processed within 5-7 business days"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Keep Booking"}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{o(!0),await js.cancelBooking(e),r(t=>t.map(t=>t.id===e?Re(Re({},t),{},{status:"CANCELLED",cancellationDate:(new Date).toISOString()}):t)),w(!1),p(null)}catch(l){console.error("Error cancelling booking:",l),c("Failed to cancel booking")}finally{o(!1)}})(x.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel Booking"})]})]})})]})});var _},Gc="http://localhost:8080/api";const Qc=new class{getAuthHeaders(){const e=localStorage.getItem("token");return Re({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})}async getUserProfile(){try{const e=await fetch("".concat(Gc,"/users/profile"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch user profile: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching user profile:",e),{id:1,email:"john.doe@example.com",firstName:"John",lastName:"Doe",phone:"+1-555-0123",dateOfBirth:"1990-01-15",gender:"male",address:"456 Oak Street, Downtown",city:"New York",state:"NY",zipCode:"10001",country:"United States",profilePicture:null,preferences:{language:"english",emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,favoriteGenres:["Action","Drama","Comedy"],preferredTheatres:["PVR Cinemas Forum Mall","AMC Theater Downtown"]}}}}async updateUserProfile(e){try{const t=await fetch("".concat(Gc,"/users/profile"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update profile: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error updating user profile:",t),{success:!0,message:"Profile updated successfully"}}}async uploadProfilePicture(e){try{const t=new FormData;t.append("profilePicture",e);const s=localStorage.getItem("token"),n=await fetch("".concat(Gc,"/users/profile/picture"),{method:"POST",headers:Re({},s&&{Authorization:"Bearer ".concat(s)}),body:t});if(!n.ok)throw new Error("Failed to upload profile picture: ".concat(n.statusText));return n.json()}catch(t){return console.error("Error uploading profile picture:",t),{success:!0,message:"Profile picture uploaded successfully",profilePictureUrl:URL.createObjectURL(e)}}}async changePassword(e,t){try{const s=await fetch("".concat(Gc,"/users/change-password"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({currentPassword:e,newPassword:t})});if(!s.ok)throw new Error("Failed to change password: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error changing password:",s),{success:!0,message:"Password changed successfully"}}}async enable2FA(){try{const e=await fetch("".concat(Gc,"/users/2fa/enable"),{method:"POST",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to enable 2FA: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error enabling 2FA:",e),{success:!0,qrCode:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==",backupCodes:["ABC123","DEF456","GHI789"]}}}async disable2FA(){try{const e=await fetch("".concat(Gc,"/users/2fa/disable"),{method:"POST",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to disable 2FA: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error disabling 2FA:",e),{success:!0,message:"2FA disabled successfully"}}}async deleteAccount(e){try{const t=await fetch("".concat(Gc,"/users/delete-account"),{method:"DELETE",headers:this.getAuthHeaders(),body:JSON.stringify({password:e})});if(!t.ok)throw new Error("Failed to delete account: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error deleting account:",t),{success:!0,message:"Account deletion request processed"}}}async exportData(){try{const e=await fetch("".concat(Gc,"/users/export-data"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to export data: ".concat(e.statusText));return e.blob()}catch(e){console.error("Error exporting data:",e);const t={profile:await this.getUserProfile(),bookings:[],payments:[],exportDate:(new Date).toISOString()};return new Blob([JSON.stringify(t,null,2)],{type:"application/json"})}}async getLinkedAccounts(){try{const e=await fetch("".concat(Gc,"/users/linked-accounts"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch linked accounts: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching linked accounts:",e),[{id:1,provider:"google",email:"john.doe@gmail.com",connectedAt:"2025-01-15T10:00:00Z",status:"active"},{id:2,provider:"facebook",email:"john.doe@facebook.com",connectedAt:"2025-01-10T15:30:00Z",status:"active"}]}}async linkAccount(e,t){try{const s=await fetch("".concat(Gc,"/users/link-account"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({provider:e,authCode:t})});if(!s.ok)throw new Error("Failed to link account: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error linking account:",s),{success:!0,message:"".concat(e," account linked successfully")}}}async unlinkAccount(e){try{const t=await fetch("".concat(Gc,"/users/unlink-account/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to unlink account: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error unlinking account:",t),{success:!0,message:"Account unlinked successfully"}}}},Xc=()=>{const{user:e,updateUser:t,logout:s}=ze(),n=se(),[r,i]=(0,a.useState)("personal"),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(null),[f,x]=(0,a.useState)("/default-avatar.png"),[p,b]=(0,a.useState)({name:"",email:"",phone:"",city:"",dateOfBirth:"",gender:"",address:"",emergencyContact:""}),[v,y]=(0,a.useState)({preferredLanguages:["English"],preferredGenres:["Action","Drama"],preferredTheatres:[],preferredSeatTypes:["Standard"],emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,marketingEmails:!1,movieReleaseAlerts:!0,bookingReminders:!0,offerNotifications:!0}),[w,j]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[N,k]=(0,a.useState)({google:!1,facebook:!1,apple:!1});(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{d(!0);const t=await Qc.getProfile();b({name:t.name||(null===e||void 0===e?void 0:e.name)||"John Doe",email:t.email||(null===e||void 0===e?void 0:e.email)||"john.doe@example.com",phone:t.phone||"+1 234 567 8900",city:t.city||"New York",dateOfBirth:t.dateOfBirth||"1990-01-15",gender:t.gender||"Male",address:t.address||"123 Main Street, Apt 4B",emergencyContact:t.emergencyContact||"+1 234 567 8901"}),t.preferences&&y(e=>Re(Re({},e),t.preferences)),t.linkedAccounts&&k(e=>Re(Re({},e),t.linkedAccounts))}catch(t){console.error("Failed to load profile:",t)}finally{d(!1)}},_=e=>{const{name:t,value:s}=e.target;b(e=>Re(Re({},e),{},{[t]:s}))},C=(e,t)=>{y(s=>Re(Re({},s),{},{[e]:s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]}))};return(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),(0,Fe.jsx)("button",{onClick:()=>n("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})}),u&&(0,Fe.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(u.includes("Error")||u.includes("do not match")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:u}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsx)("nav",{className:"-mb-px flex",children:[{id:"personal",label:"Personal Details",icon:"\ud83d\udc64"},{id:"preferences",label:"Preferences",icon:"\u2699\ufe0f"},{id:"password",label:"Password & Security",icon:"\ud83d\udd12"},{id:"accounts",label:"Linked Accounts",icon:"\ud83d\udd17"}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>i(e.id),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat(r===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Fe.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,Fe.jsxs)("div",{className:"p-6",children:["personal"===r&&(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-300 overflow-hidden",children:(0,Fe.jsx)("img",{src:f,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg width='96' height='96' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z' fill='%236B7280'/%3E%3Cpath d='M12 14C8.68629 14 6 16.6863 6 20H18C18 16.6863 15.3137 14 12 14Z' fill='%236B7280'/%3E%3C/svg%3E"}})}),o&&(0,Fe.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-500 text-white p-1 rounded-full cursor-pointer hover:bg-blue-600",children:[(0,Fe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){g(t);const e=new FileReader;e.onload=e=>x(e.target.result),e.readAsDataURL(t)}},className:"hidden"}),(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:p.name}),(0,Fe.jsx)("p",{className:"text-gray-600",children:p.email})]}),(0,Fe.jsx)("div",{className:"ml-auto",children:o?(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:async()=>{d(!0);try{await Qc.updateProfile(Re(Re({},p),{},{preferences:v,linkedAccounts:N})),h("Profile updated successfully!"),l(!1),setTimeout(()=>h(""),3e3)}catch(e){console.error("Error updating profile:",e),h("Error updating profile. Please try again."),setTimeout(()=>h(""),3e3)}finally{d(!1)}},disabled:c,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:c?"Saving...":"Save"}),(0,Fe.jsx)("button",{onClick:()=>{l(!1),S()},className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]}):(0,Fe.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Edit Profile"})})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Fe.jsx)("input",{type:"text",name:"name",value:p.name,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Fe.jsx)("input",{type:"email",name:"email",value:p.email,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Fe.jsx)("input",{type:"tel",name:"phone",value:p.phone,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Fe.jsx)("input",{type:"text",name:"city",value:p.city,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,Fe.jsx)("input",{type:"date",name:"dateOfBirth",value:p.dateOfBirth,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,Fe.jsxs)("select",{name:"gender",value:p.gender,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Fe.jsx)("option",{value:"",children:"Select Gender"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"}),(0,Fe.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),(0,Fe.jsxs)("div",{className:"md:col-span-2",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,Fe.jsx)("textarea",{name:"address",value:p.address,onChange:_,disabled:!o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),(0,Fe.jsx)("input",{type:"tel",name:"emergencyContact",value:p.emergencyContact,onChange:_,disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]})]}),"preferences"===r&&(0,Fe.jsxs)("div",{className:"space-y-8",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Language Preferences"}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["English","Spanish","French","German","Italian","Hindi","Telugu","Tamil"].map(e=>(0,Fe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:v.preferredLanguages.includes(e),onChange:()=>C("preferredLanguages",e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Fe.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Favorite Genres"}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:["Action","Adventure","Comedy","Drama","Horror","Romance","Sci-Fi","Thriller","Animation","Documentary"].map(e=>(0,Fe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:v.preferredGenres.includes(e),onChange:()=>C("preferredGenres",e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Fe.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preferred Seat Types"}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Standard","Premium","VIP","Recliner","IMAX","Dolby Atmos"].map(e=>(0,Fe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:v.preferredSeatTypes.includes(e),onChange:()=>C("preferredSeatTypes",e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Fe.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),(0,Fe.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive booking confirmations and updates via email"},{key:"smsNotifications",label:"SMS Notifications",desc:"Receive booking reminders and alerts via SMS"},{key:"pushNotifications",label:"Push Notifications",desc:"Receive real-time notifications on your device"},{key:"movieReleaseAlerts",label:"Movie Release Alerts",desc:"Get notified when movies in your wishlist are released"},{key:"bookingReminders",label:"Booking Reminders",desc:"Receive reminders about upcoming shows"},{key:"offerNotifications",label:"Offer Notifications",desc:"Get notified about special offers and discounts"},{key:"marketingEmails",label:"Marketing Emails",desc:"Receive promotional emails and newsletters"}].map(e=>(0,Fe.jsxs)("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-900",children:e.label}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.desc})]}),(0,Fe.jsx)("input",{type:"checkbox",checked:v[e.key],onChange:t=>{return s=e.key,n=t.target.checked,void y(e=>Re(Re({},e),{},{[s]:n}));var s,n},className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]},e.key))})]}),(0,Fe.jsx)("button",{onClick:()=>h("Preferences saved successfully!"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Save Preferences"})]}),"password"===r&&(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),(0,Fe.jsxs)("div",{className:"max-w-md space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,Fe.jsx)("input",{type:"password",value:w.currentPassword,onChange:e=>j(t=>Re(Re({},t),{},{currentPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,Fe.jsx)("input",{type:"password",value:w.newPassword,onChange:e=>j(t=>Re(Re({},t),{},{newPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,Fe.jsx)("input",{type:"password",value:w.confirmPassword,onChange:e=>j(t=>Re(Re({},t),{},{confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsx)("button",{onClick:async()=>{if(w.newPassword!==w.confirmPassword)return h("New passwords do not match!"),void setTimeout(()=>h(""),3e3);d(!0);try{await Qc.changePassword(w.currentPassword,w.newPassword),h("Password changed successfully!"),j({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>h(""),3e3)}catch(e){console.error("Error changing password:",e),h("Error changing password. Please try again."),setTimeout(()=>h(""),3e3)}finally{d(!1)}},disabled:c||!w.currentPassword||!w.newPassword,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-6 py-2 rounded-lg transition-colors",children:c?"Changing...":"Change Password"})]})]}),(0,Fe.jsxs)("div",{className:"border-t pt-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),(0,Fe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"flex items-start",children:[(0,Fe.jsx)("div",{className:"text-yellow-600 mr-3 mt-0.5",children:"\u26a0\ufe0f"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Two-Factor Authentication"}),(0,Fe.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Add an extra layer of security to your account by enabling two-factor authentication."}),(0,Fe.jsx)("button",{className:"mt-3 text-sm bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-md transition-colors",children:"Enable 2FA"})]})]})})]})]}),"accounts"===r&&(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Connected Accounts"}),(0,Fe.jsx)("div",{className:"space-y-4",children:[{provider:"google",name:"Google",color:"bg-red-500",icon:"\ud83d\udd34"},{provider:"facebook",name:"Facebook",color:"bg-blue-600",icon:"\ud83d\udd35"},{provider:"apple",name:"Apple",color:"bg-gray-800",icon:"\u26ab"}].map(e=>(0,Fe.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(e.color," flex items-center justify-center text-white font-bold"),children:e.icon}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:N[e.provider]?"Connected":"Not connected"})]})]}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{const t=!N[e];t?await Qc.linkSocialAccount(e):await Qc.unlinkSocialAccount(e),k(s=>Re(Re({},s),{},{[e]:t})),h("".concat(e," account ").concat(t?"connected":"disconnected","!")),setTimeout(()=>h(""),3e3)}catch(t){console.error("Error ".concat(N[e]?"disconnecting":"connecting"," ").concat(e," account:"),t),h("Error ".concat(N[e]?"disconnecting":"connecting"," ").concat(e," account")),setTimeout(()=>h(""),3e3)}})(e.provider),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(N[e.provider]?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:N[e.provider]?"Disconnect":"Connect"})]},e.provider))})]}),(0,Fe.jsxs)("div",{className:"border-t pt-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Danger Zone"}),(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"flex items-start",children:[(0,Fe.jsx)("div",{className:"text-red-600 mr-3 mt-0.5",children:"\u26a0\ufe0f"}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Delete Account"}),(0,Fe.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,Fe.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{d(!0),await Qc.deleteAccount(),s(),n("/")}catch(e){console.error("Error deleting account:",e),h("Error deleting account. Please try again."),setTimeout(()=>h(""),3e3)}finally{d(!1)}},className:"mt-3 text-sm bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition-colors",children:"Delete Account"})]})]})})]})]})]})]})]})})},Zc="http://localhost:8080/api";const Kc=new class{getAuthHeaders(){const e=localStorage.getItem("token");return Re({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})}async getWalletBalance(){try{const e=await fetch("".concat(Zc,"/wallet/balance"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch wallet balance: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching wallet balance:",e),{balance:125.75}}}async topUpWallet(e,t){try{const s=await fetch("".concat(Zc,"/wallet/topup"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({amount:e,paymentMethodId:t})});if(!s.ok)throw new Error("Failed to top up wallet: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error topping up wallet:",s),{success:!0,message:"Wallet topped up successfully",newBalance:125.75+e,transactionId:"TXN".concat(Date.now())}}}async getWalletTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const s=await fetch("".concat(Zc,"/wallet/transactions?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch wallet transactions: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error fetching wallet transactions:",s),{content:[{id:"TXN001",type:"debit",amount:25.5,description:"Movie ticket booking - Spider-Man: No Way Home",date:"2025-01-15T10:30:00Z",status:"completed",bookingReference:"MB2025001"}],totalElements:1,totalPages:1}}}async getPaymentMethods(){try{const e=await fetch("".concat(Zc,"/payment-methods"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch payment methods: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching payment methods:",e),[{id:"PM001",type:"credit_card",last4:"1234",brand:"Visa",expiryMonth:"12",expiryYear:"2027",isDefault:!0,nickname:"Personal Card"}]}}async addPaymentMethod(e){try{const t=await fetch("".concat(Zc,"/payment-methods"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to add payment method: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error adding payment method:",t),{success:!0,message:"Payment method added successfully",paymentMethodId:"PM".concat(Date.now())}}}async removePaymentMethod(e){try{const t=await fetch("".concat(Zc,"/payment-methods/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to remove payment method: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error removing payment method:",t),{success:!0,message:"Payment method removed successfully"}}}async setDefaultPaymentMethod(e){try{const t=await fetch("".concat(Zc,"/payment-methods/").concat(e,"/default"),{method:"PUT",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to set default payment method: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error setting default payment method:",t),{success:!0,message:"Default payment method updated"}}}async getGiftCards(){try{const e=await fetch("".concat(Zc,"/gift-cards"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch gift cards: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching gift cards:",e),[{id:"GC001",code:"MOVIE2025-ABCD",balance:75,originalAmount:100,expiryDate:"2025-12-31",source:"Birthday Gift",status:"active"}]}}async redeemGiftCard(e){try{const t=await fetch("".concat(Zc,"/gift-cards/redeem"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({code:e})});if(!t.ok)throw new Error("Failed to redeem gift card: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error redeeming gift card:",t),{success:!0,message:"Gift card redeemed successfully",amountAdded:50,newBalance:175.75}}}async getRefunds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const s=await fetch("".concat(Zc,"/refunds?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch refunds: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error fetching refunds:",s),{content:[{id:"REF001",bookingReference:"MB2025003",movieTitle:"Dune: Part One",amount:23,refundMethod:"wallet",requestDate:"2025-01-09T10:00:00Z",processedDate:"2025-01-12T09:15:00Z",status:"completed",reason:"User requested cancellation"}],totalElements:1,totalPages:1}}}async requestRefund(e,t){try{const s=await fetch("".concat(Zc,"/refunds/request"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({bookingId:e,reason:t})});if(!s.ok)throw new Error("Failed to request refund: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error requesting refund:",s),{success:!0,message:"Refund request submitted successfully",refundId:"REF".concat(Date.now()),estimatedProcessingTime:"5-7 business days"}}}async processPayment(e){try{const t=await fetch("".concat(Zc,"/payments/process"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to process payment: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error processing payment:",t),{success:!0,message:"Payment processed successfully",transactionId:"TXN".concat(Date.now()),amount:e.amount}}}async getPaymentHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const n=new URLSearchParams(Re({page:e.toString(),size:t.toString()},s)),a=await fetch("".concat(Zc,"/payments/history?").concat(n),{headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Failed to fetch payment history: ".concat(a.statusText));return a.json()}catch(n){return console.error("Error fetching payment history:",n),{content:[{id:"PAY001",amount:25.5,currency:"USD",status:"completed",paymentMethod:"Credit Card ****1234",description:"Movie ticket booking",date:"2025-01-15T10:30:00Z",bookingReference:"MB2025001"}],totalElements:1,totalPages:1}}}async downloadInvoice(e){try{const t=await fetch("".concat(Zc,"/payments/").concat(e,"/invoice"),{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to download invoice: ".concat(t.statusText));return t.blob()}catch(t){console.error("Error downloading invoice:",t);const s="\n        INVOICE\n        Payment ID: ".concat(e,"\n        Date: ").concat((new Date).toLocaleDateString(),"\n        Amount: $25.50\n        Status: Completed\n      ");return new Blob([s],{type:"text/plain"})}}},ed=()=>{const{user:e}=ze(),t=se(),[s,n]=(0,a.useState)("wallet"),[r,i]=(0,a.useState)(0),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[f,x]=(0,a.useState)(!0),[p,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(""),[S,_]=(0,a.useState)("");(0,a.useEffect)(()=>{C()},[]);const C=async()=>{try{x(!0);const[e,t,s,n,a]=await Promise.all([Kc.getWalletBalance(),Kc.getTransactionHistory(),Kc.getPaymentMethods(),Kc.getGiftCards(),Kc.getRefundHistory()]);i(e.balance||0),l(t.transactions||[]),d(s.paymentMethods||[]),h(n.giftCards||[]),g(a.refunds||[])}catch(e){console.error("Error loading wallet data:",e),i(125.75),l([]),d([]),h([]),g([])}finally{x(!1)}},E=async e=>{try{await new Promise(e=>setTimeout(e,1e3));const t=u.find(t=>t.code===e);if(t&&t.balance>0){const s=t.balance,n={id:"TXN".concat(Date.now()),type:"credit",amount:s,description:"Gift card redemption - ".concat(e),date:(new Date).toISOString(),status:"completed"};l(e=>[n,...e]),i(e=>e+s),h(t=>t.map(t=>t.code===e?Re(Re({},t),{},{balance:0,status:"used"}):t))}j(!1)}catch(t){console.error("Error redeeming gift card:",t)}},M=e=>"credit"===e?"text-green-600":"text-red-600",P=e=>{switch(e){case"credit_card":case"debit_card":default:return"\ud83d\udcb3";case"upi":return"\ud83d\udcf1";case"net_banking":return"\ud83c\udfe6";case"wallet":return"\ud83d\udcb0"}};return f?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments & Wallet"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your wallet, payments, and transactions"})]}),(0,Fe.jsx)("button",{onClick:()=>t("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})}),(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-8 mb-8 text-white",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium opacity-90",children:"Wallet Balance"}),(0,Fe.jsxs)("p",{className:"text-4xl font-bold mt-2",children:["$",r.toFixed(2)]}),(0,Fe.jsx)("p",{className:"text-sm opacity-80 mt-2",children:"Available for bookings"})]}),(0,Fe.jsxs)("div",{className:"text-right",children:[(0,Fe.jsx)("button",{onClick:()=>b(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-6 py-3 rounded-lg font-medium transition-all mb-3",children:"\ud83d\udcb0 Top Up Wallet"}),(0,Fe.jsxs)("div",{className:"text-sm opacity-80",children:[(0,Fe.jsx)("p",{children:"Last transaction:"}),(0,Fe.jsx)("p",{children:o[0]?new Date(o[0].date).toLocaleDateString():"No transactions"})]})]})]})}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"wallet",label:"Wallet Transactions",icon:"\ud83d\udcb0"},{id:"payments",label:"Payment Methods",icon:"\ud83d\udcb3"},{id:"giftcards",label:"Gift Cards",icon:"\ud83c\udf81"},{id:"refunds",label:"Refunds",icon:"\u21a9\ufe0f"}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>n(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Fe.jsx)("span",{children:e.icon}),(0,Fe.jsx)("span",{children:e.label})]},e.id))})}),(0,Fe.jsxs)("div",{className:"p-6",children:["wallet"===s&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction History"}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"all",children:"All Transactions"}),(0,Fe.jsx)("option",{value:"credit",children:"Credits Only"}),(0,Fe.jsx)("option",{value:"debit",children:"Debits Only"})]}),(0,Fe.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"30",children:"Last 30 Days"}),(0,Fe.jsx)("option",{value:"90",children:"Last 3 Months"}),(0,Fe.jsx)("option",{value:"365",children:"Last Year"})]})]})]}),(0,Fe.jsx)("div",{className:"space-y-4",children:o.map(e=>{return(0,Fe.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsx)("div",{className:"text-2xl",children:(t=e.type,s=e.status,"pending"===s?"\u23f3":"credit"===t?"\ud83d\udcb0":"\ud83d\udcb8")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"font-medium text-gray-900",children:e.description}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Fe.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),e.bookingReference&&(0,Fe.jsxs)("span",{children:["Booking: ",e.bookingReference]}),e.paymentMethod&&(0,Fe.jsxs)("span",{children:["Via: ",e.paymentMethod]})]})]})]}),(0,Fe.jsxs)("div",{className:"text-right",children:[(0,Fe.jsxs)("p",{className:"font-semibold ".concat(M(e.type)),children:["credit"===e.type?"+":"-","$",e.amount.toFixed(2)]}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.status})]})]},e.id);var t,s})})]}),"payments"===s&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Payment Methods"}),(0,Fe.jsx)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"+ Add Payment Method"})]}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Fe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Fe.jsx)("span",{className:"text-2xl",children:P(e.type)}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"font-semibold text-gray-900",children:e.nickname||"".concat(e.brand," ").concat(e.type.replace("_"," "))}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500",children:"upi"===e.type?e.identifier:"net_banking"===e.type?"".concat(e.bankName," ").concat(e.accountNumber):"****".concat(e.last4)}),e.expiryMonth&&e.expiryYear&&(0,Fe.jsxs)("p",{className:"text-xs text-gray-400",children:["Expires ",e.expiryMonth,"/",e.expiryYear]})]})]}),(0,Fe.jsx)("div",{className:"text-right",children:e.isDefault&&(0,Fe.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Default"})})]}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"}),!e.isDefault&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"text-gray-300",children:"\u2022"}),(0,Fe.jsx)("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Set as Default"})]}),(0,Fe.jsx)("span",{className:"text-gray-300",children:"\u2022"}),(0,Fe.jsx)("button",{className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]})]},e.id))})]}),"giftcards"===s&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Gift Cards & Vouchers"}),(0,Fe.jsx)("button",{onClick:()=>j(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\ud83c\udf81 Redeem Gift Card"})]}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 ".concat("active"===e.status?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,Fe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"font-semibold text-gray-900",children:e.code}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:e.source})]}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"used"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Fe.jsx)("span",{children:"Balance:"}),(0,Fe.jsxs)("span",{className:"font-semibold",children:["$",e.balance.toFixed(2)]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Fe.jsx)("span",{children:"Original Amount:"}),(0,Fe.jsxs)("span",{children:["$",e.originalAmount.toFixed(2)]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fe.jsx)("span",{children:"Expires:"}),(0,Fe.jsx)("span",{children:new Date(e.expiryDate).toLocaleDateString()})]})]}),"active"===e.status&&e.balance>0&&(0,Fe.jsx)("button",{onClick:()=>E(e.code),className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Add to Wallet"})]},e.id))})]}),"refunds"===s&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Refund History"}),(0,Fe.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 hover:bg-gray-50 transition-colors",children:[(0,Fe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"font-semibold text-gray-900",children:e.movieTitle}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-600",children:["Booking: ",e.bookingReference]}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.reason})]}),(0,Fe.jsxs)("div",{className:"text-right",children:[(0,Fe.jsxs)("p",{className:"font-semibold text-green-600",children:["$",e.amount.toFixed(2)]}),(0,Fe.jsx)("p",{className:"text-sm px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Requested:"})," ",new Date(e.requestDate).toLocaleDateString()]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Processed:"})," ",e.processedDate?new Date(e.processedDate).toLocaleDateString():"Pending"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Method:"})," ","wallet"===e.refundMethod?"Wallet":"Original Payment Method"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Status:"})," ",(0,Fe.jsx)("span",{className:"capitalize",children:e.status})]})]})]},e.id))})]})]})]}),p&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-md mx-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Up Wallet"}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),(0,Fe.jsx)("input",{type:"number",value:N,onChange:e=>k(e.target.value),placeholder:"Enter amount",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,Fe.jsxs)("select",{value:S,onChange:e=>_(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"",children:"Select payment method"}),c.map(e=>(0,Fe.jsx)("option",{value:e.nickname||"".concat(e.brand," ****").concat(e.last4),children:e.nickname||"".concat(e.brand," ****").concat(e.last4)},e.id))]})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>b(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Fe.jsx)("button",{onClick:async()=>{if(N&&S)try{x(!0);const e=await Kc.topUpWallet({amount:parseFloat(N),paymentMethodId:S});l(t=>[e.transaction,...t]),i(e.newBalance||r+parseFloat(N)),b(!1),k(""),_("")}catch(e){console.error("Error topping up wallet:",e)}finally{x(!1)}},disabled:!N||!S,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Top Up"})]})]})}),w&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-md mx-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Redeem Gift Card"}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Code"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter gift card code",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>j(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Fe.jsx)("button",{onClick:()=>E("SAMPLE-CODE"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Redeem"})]})]})})]})})},td=()=>{const{user:e}=ze(),t=se(),[s,n]=(0,a.useState)("invoices"),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)("all"),[f,x]=(0,a.useState)(null),[p,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{w()},[]);const w=async()=>{try{d(!0);const[e,t]=await Promise.all([Kc.getInvoices(),js.getUserTickets()]);i(e.invoices||[]),l(t.tickets||[])}catch(e){console.error("Error loading data:",e),i([]),l([])}finally{d(!1)}},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"invoice";const s="invoice"===t?N(e):k(e),n=new Blob([s],{type:"text/plain"}),a=window.URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download="".concat(t,"-").concat(e.bookingReference,".txt"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)},N=e=>"\nMOVIE BOOKING INVOICE\nInvoice #: ".concat(e.invoiceNumber,"\nDate: ").concat(new Date(e.date).toLocaleDateString(),"\n\nCUSTOMER INFORMATION:\n").concat(e.customerInfo.name,"\n").concat(e.customerInfo.email,"\n").concat(e.customerInfo.phone,"\n").concat(e.customerInfo.address,"\n\nBOOKING DETAILS:\nBooking Reference: ").concat(e.bookingReference,"\nMovie: ").concat(e.movie.title,"\nVenue: ").concat(e.venue.name,"\nScreen: ").concat(e.venue.screen,"\nShow Date & Time: ").concat(new Date(e.showDateTime).toLocaleString(),"\n\nSEATS:\n").concat(e.seats.map(e=>"".concat(e.seatNumber," (").concat(e.type,") - $").concat(e.price.toFixed(2))).join("\n"),"\n\nCONCESSIONS:\n").concat(e.concessions.map(e=>"".concat(e.quantity,"x ").concat(e.item," - $").concat(e.totalPrice.toFixed(2))).join("\n"),"\n\nFEES:\n").concat(e.fees.map(e=>"".concat(e.name," - $").concat(e.amount.toFixed(2))).join("\n"),"\n\nPAYMENT SUMMARY:\nSubtotal: $").concat(e.subtotal.toFixed(2),"\nTax: $").concat(e.taxAmount.toFixed(2),"\nTotal: $").concat(e.totalAmount.toFixed(2),"\nPayment Method: ").concat(e.paymentMethod,"\nStatus: ").concat(e.status.toUpperCase(),"\n\nThank you for choosing our service!\n    "),k=e=>"\nE-TICKET\nBooking Reference: ".concat(e.bookingReference,"\n\nMovie: ").concat(e.movie.title,"\nVenue: ").concat(e.venue.name,"\nScreen: ").concat(e.venue.screen,"\nDate & Time: ").concat(new Date(e.showDateTime).toLocaleString(),"\nSeats: ").concat(e.seats.join(", "),"\n\nQR Code: ").concat(e.qrCode,"\n\nPlease present this ticket and valid ID at the theater.\n    "),S=async(e,t)=>{try{d(!0),await js.resendTicket(e.id,t),l(s=>s.map(s=>s.id===e.id?Re(Re({},s),{},{["email"===t?"emailSent":"smsSent"]:!0}):s)),alert("Ticket resent via ".concat(t," successfully!")),y(!1)}catch(s){console.error("Error resending ticket via ".concat(t,":"),s),alert("Failed to resend ticket via ".concat(t))}finally{d(!1)}},_=e=>{const t=window.open("","_blank");t.document.write("\n      <html>\n        <head>\n          <title>Movie Ticket - ".concat(e.bookingReference,'</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            .ticket { border: 2px solid #000; padding: 20px; max-width: 400px; }\n            .qr-code { text-align: center; margin: 20px 0; }\n          </style>\n        </head>\n        <body>\n          <div class="ticket">\n            <h2>E-TICKET</h2>\n            <p><strong>Booking:</strong> ').concat(e.bookingReference,"</p>\n            <p><strong>Movie:</strong> ").concat(e.movie.title,"</p>\n            <p><strong>Venue:</strong> ").concat(e.venue.name,"</p>\n            <p><strong>Screen:</strong> ").concat(e.venue.screen,"</p>\n            <p><strong>Date & Time:</strong> ").concat(new Date(e.showDateTime).toLocaleString(),"</p>\n            <p><strong>Seats:</strong> ").concat(e.seats.join(", "),'</p>\n            <div class="qr-code">\n              <p><strong>QR Code:</strong> ').concat(e.qrCode,"</p>\n            </div>\n            <p><small>Please present this ticket and valid ID at the theater.</small></p>\n          </div>\n        </body>\n      </html>\n    ")),t.document.close(),t.print(),l(t=>t.map(t=>t.id===e.id?Re(Re({},t),{},{printCount:t.printCount+1}):t))},C=e=>{switch(e){case"paid":case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=(()=>{let e="invoices"===s?r:o;if(u&&(e=e.filter(e=>{var t;return e.bookingReference.toLowerCase().includes(u.toLowerCase())||(null===(t=e.movie)||void 0===t?void 0:t.title.toLowerCase().includes(u.toLowerCase()))||"invoices"===s&&e.invoiceNumber.toLowerCase().includes(u.toLowerCase())})),"all"!==m){const t=new Date,s={30:30,90:90,365:365},n=new Date(t.getTime()-24*s[m]*60*60*1e3);e=e.filter(e=>new Date(e.date||e.showDateTime)>=n)}return e})();return c?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices & Tickets"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Download invoices and manage your tickets"})]}),(0,Fe.jsx)("button",{onClick:()=>t("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center px-6 py-4",children:[(0,Fe.jsx)("nav",{className:"flex space-x-8",children:[{id:"invoices",label:"Invoices",icon:"\ud83d\udcc4"},{id:"tickets",label:"E-Tickets",icon:"\ud83c\udfab"}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>n(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Fe.jsx)("span",{children:e.icon}),(0,Fe.jsx)("span",{children:e.label})]},e.id))}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search ".concat(s,"..."),value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Fe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"all",children:"All Time"}),(0,Fe.jsx)("option",{value:"30",children:"Last 30 Days"}),(0,Fe.jsx)("option",{value:"90",children:"Last 3 Months"}),(0,Fe.jsx)("option",{value:"365",children:"Last Year"})]})]})]})}),(0,Fe.jsxs)("div",{className:"p-6",children:["invoices"===s&&(0,Fe.jsx)("div",{children:(0,Fe.jsx)("div",{className:"space-y-6",children:E.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Fe.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Fe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Invoice #",e.invoiceNumber]}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(C(e.status)),children:e.status.toUpperCase()})]}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-1",children:e.movie.title}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500",children:e.venue.name}),(0,Fe.jsxs)("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Booking ID:"})," ",e.bookingReference]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Date:"})," ",new Date(e.date).toLocaleDateString()]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Amount:"})," $",e.totalAmount.toFixed(2)]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"font-medium",children:"Payment:"})," ",e.paymentMethod]})]})]})}),(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[(0,Fe.jsx)("button",{onClick:()=>j(e,"invoice"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udce5 Download PDF"}),(0,Fe.jsx)("button",{onClick:()=>{x(e),b(!0)},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udc41\ufe0f View Details"}),(0,Fe.jsx)("button",{onClick:()=>S(e,"email"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udce7 Email Invoice"}),(0,Fe.jsx)("button",{onClick:()=>_(e),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"\ud83d\udda8\ufe0f Print"})]})]},e.id))})}),"tickets"===s&&(0,Fe.jsx)("div",{children:(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map(e=>(0,Fe.jsxs)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Fe.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,Fe.jsx)("div",{className:"w-16 h-20 bg-gray-300 rounded flex items-center justify-center flex-shrink-0",children:(0,Fe.jsx)("span",{className:"text-gray-600 text-xs",children:"IMG"})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Fe.jsx)("h3",{className:"font-semibold text-gray-900",children:e.movie.title}),(0,Fe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(C(e.status)),children:e.status.toUpperCase()})]}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.venue.name}),(0,Fe.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:[new Date(e.showDateTime).toLocaleDateString()," \u2022 ",e.venue.screen]}),(0,Fe.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Seats: ",e.seats.join(", ")]})]})]}),(0,Fe.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Fe.jsxs)("span",{children:["QR Code: ",e.qrCode]}),(0,Fe.jsxs)("span",{className:"text-gray-500",children:["#",e.bookingReference]})]}),(0,Fe.jsxs)("div",{className:"mt-2 flex space-x-4 text-xs text-gray-500",children:[(0,Fe.jsxs)("span",{children:["\ud83d\udce7 ",e.emailSent?"Sent":"Not sent"]}),(0,Fe.jsxs)("span",{children:["\ud83d\udcf1 ",e.smsSent?"Sent":"Not sent"]}),(0,Fe.jsxs)("span",{children:["\ud83d\udda8\ufe0f Printed ",e.printCount," times"]})]})]}),(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Fe.jsx)("button",{onClick:()=>j(e,"ticket"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded text-sm font-medium transition-colors",children:"\ud83d\udce5 Download"}),(0,Fe.jsx)("button",{onClick:()=>_(e),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded text-sm font-medium transition-colors",children:"\ud83d\udda8\ufe0f Print"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,Fe.jsx)("button",{onClick:()=>S(e,"email"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded text-sm font-medium transition-colors",children:"\ud83d\udce7 Resend Email"}),(0,Fe.jsx)("button",{onClick:()=>S(e,"sms"),className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-3 rounded text-sm font-medium transition-colors",children:"\ud83d\udcf1 Resend SMS"})]})]},e.id))})}),0===E.length&&(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"invoices"===s?"\ud83d\udcc4":"\ud83c\udfab"}),(0,Fe.jsxs)("p",{className:"text-gray-500 text-lg mb-2",children:["No ",s," found"]}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mb-6",children:"invoices"===s?"Your invoices will appear here after booking movies":"Your e-tickets will appear here after booking movies"}),(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Browse Movies"})]})]})]}),p&&f&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-2xl mx-4 max-h-96 overflow-y-auto",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Invoice Details - ",f.invoiceNumber]}),(0,Fe.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Information"}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Fe.jsx)("p",{children:f.customerInfo.name}),(0,Fe.jsx)("p",{children:f.customerInfo.email}),(0,Fe.jsx)("p",{children:f.customerInfo.phone})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Fe.jsxs)("p",{children:["Reference: ",f.bookingReference]}),(0,Fe.jsxs)("p",{children:["Date: ",new Date(f.date).toLocaleDateString()]}),(0,Fe.jsxs)("p",{children:["Status: ",f.status.toUpperCase()]})]})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Movie Details"}),(0,Fe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Fe.jsx)("p",{children:f.movie.title}),(0,Fe.jsxs)("p",{children:[f.venue.name," - ",f.venue.screen]}),(0,Fe.jsx)("p",{children:new Date(f.showDateTime).toLocaleString()})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Summary"}),(0,Fe.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"space-y-2 text-sm",children:[f.seats.map((e,t)=>(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsxs)("span",{children:[e.seatNumber," (",e.type,")"]}),(0,Fe.jsxs)("span",{children:["$",e.price.toFixed(2)]})]},t)),f.concessions.map((e,t)=>(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsxs)("span",{children:[e.quantity,"x ",e.item]}),(0,Fe.jsxs)("span",{children:["$",e.totalPrice.toFixed(2)]})]},t)),f.fees.map((e,t)=>(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{children:e.name}),(0,Fe.jsxs)("span",{children:["$",e.amount.toFixed(2)]})]},t)),(0,Fe.jsx)("hr",{className:"my-2"}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{children:"Subtotal:"}),(0,Fe.jsxs)("span",{children:["$",f.subtotal.toFixed(2)]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{children:"Tax:"}),(0,Fe.jsxs)("span",{children:["$",f.taxAmount.toFixed(2)]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,Fe.jsx)("span",{children:"Total:"}),(0,Fe.jsxs)("span",{children:["$",f.totalAmount.toFixed(2)]})]})]})})]})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Fe.jsx)("button",{onClick:()=>j(f,"invoice"),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"\ud83d\udce5 Download PDF"}),(0,Fe.jsx)("button",{onClick:()=>b(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Close"})]})]})})]})})},sd="http://localhost:8080/api";const nd=new class{getAuthHeaders(){const e=localStorage.getItem("token");return Re({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})}async getNotifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const s=await fetch("".concat(sd,"/notifications?page=").concat(e,"&size=").concat(t),{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch notifications: ".concat(s.statusText));return s.json()}catch(s){return console.error("Error fetching notifications:",s),{content:[{id:"NOTIF001",type:"booking_confirmation",title:"Booking Confirmed",message:"Your booking for Spider-Man: No Way Home has been confirmed. Show time: Jan 20, 2025 at 7:30 PM",timestamp:"2025-01-15T10:30:00Z",isRead:!1,priority:"high",actionUrl:"/user/bookings",actionText:"View Booking",bookingReference:"MB2025001"}],totalElements:1,totalPages:1}}}async markAsRead(e){try{const t=await fetch("".concat(sd,"/notifications/").concat(e,"/read"),{method:"PUT",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to mark notification as read: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error marking notification as read:",t),{success:!0}}}async markAllAsRead(){try{const e=await fetch("".concat(sd,"/notifications/mark-all-read"),{method:"PUT",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to mark all notifications as read: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error marking all notifications as read:",e),{success:!0}}}async deleteNotification(e){try{const t=await fetch("".concat(sd,"/notifications/").concat(e),{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to delete notification: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error deleting notification:",t),{success:!0}}}async clearAllNotifications(){try{const e=await fetch("".concat(sd,"/notifications/clear-all"),{method:"DELETE",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to clear all notifications: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error clearing all notifications:",e),{success:!0}}}async getNotificationSettings(){try{const e=await fetch("".concat(sd,"/notifications/settings"),{headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to fetch notification settings: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error fetching notification settings:",e),{push_notifications:!0,email_notifications:!0,sms_notifications:!1,booking_confirmations:!0,payment_alerts:!0,show_reminders:!0,movie_releases:!0,special_offers:!0,loyalty_updates:!1,system_updates:!0,marketing_emails:!1,reminder_timing:"2_hours",quiet_hours_enabled:!0,quiet_hours_start:"22:00",quiet_hours_end:"08:00"}}}async updateNotificationSettings(e){try{const t=await fetch("".concat(sd,"/notifications/settings"),{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update notification settings: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error updating notification settings:",t),{success:!0,message:"Notification settings updated successfully"}}}async registerForPushNotifications(e){try{const t=await fetch("".concat(sd,"/notifications/push/register"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to register for push notifications: ".concat(t.statusText));return t.json()}catch(t){return console.error("Error registering for push notifications:",t),{success:!0}}}async unregisterFromPushNotifications(){try{const e=await fetch("".concat(sd,"/notifications/push/unregister"),{method:"POST",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to unregister from push notifications: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error unregistering from push notifications:",e),{success:!0}}}async sendTestNotification(){try{const e=await fetch("".concat(sd,"/notifications/test"),{method:"POST",headers:this.getAuthHeaders()});if(!e.ok)throw new Error("Failed to send test notification: ".concat(e.statusText));return e.json()}catch(e){return console.error("Error sending test notification:",e),{success:!0,message:"Test notification sent successfully"}}}async requestPermission(){if("Notification"in window){return"granted"===await Notification.requestPermission()}return!1}showBrowserNotification(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"Notification"in window&&"granted"===Notification.permission&&new Notification(e,Re({icon:"/logo192.png",badge:"/logo192.png"},t))}},ad=()=>{const{user:e}=ze(),t=se(),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)({}),[o,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)("all"),[m,g]=(0,a.useState)(""),[f,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p(),b()},[]);const p=async()=>{try{d(!0);const e=await nd.getUserNotifications();n(e.notifications||[])}catch(e){console.error("Error loading notifications:",e),n([])}finally{d(!1)}},b=async()=>{try{const e=await nd.getNotificationSettings();i(e.settings||{})}catch(e){console.error("Error loading settings:",e),i({push_notifications:!0,email_notifications:!0,sms_notifications:!1,booking_confirmations:!0,payment_alerts:!0,show_reminders:!0,movie_releases:!0,special_offers:!0,loyalty_updates:!1,system_updates:!0,marketing_emails:!1,reminder_timing:"2_hours",quiet_hours_enabled:!0,quiet_hours_start:"22:00",quiet_hours_end:"08:00"})}},v=e=>{switch(e){case"high":return"border-l-red-500 bg-red-50";case"medium":return"border-l-yellow-500 bg-yellow-50";case"low":return"border-l-blue-500 bg-blue-50";default:return"border-l-gray-500 bg-gray-50"}},y=e=>({booking_confirmation:"Booking",payment_success:"Payment",show_reminder:"Reminder",movie_release:"New Release",cancellation_refund:"Refund",loyalty_reward:"Loyalty",special_offer:"Offer",system_maintenance:"System",security_alert:"Security"}[e]||"General"),w=(()=>{let e=s;return"unread"===o?e=e.filter(e=>!e.isRead):"important"===o&&(e=e.filter(e=>"high"===e.priority)),"all"!==u&&(e=e.filter(e=>e.type===u)),m&&(e=e.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())||e.message.toLowerCase().includes(m.toLowerCase()))),e.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))})(),j=s.filter(e=>!e.isRead).length;return c?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),(0,Fe.jsxs)("p",{className:"text-gray-600 mt-2",children:["Stay updated with your bookings and latest offers",j>0&&(0,Fe.jsxs)("span",{className:"ml-2 bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded-full",children:[j," unread"]})]})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>x(!0),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2699\ufe0f Settings"}),(0,Fe.jsx)("button",{onClick:()=>t("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-8",children:(0,Fe.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("button",{onClick:async()=>{try{await nd.markAllAsRead(),n(e=>e.map(e=>Re(Re({},e),{},{isRead:!0})))}catch(e){console.error("Error marking all notifications as read:",e)}},disabled:0===j,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Mark All Read"}),(0,Fe.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all notifications?"))try{await nd.clearAllNotifications(),n([])}catch(e){console.error("Error clearing notifications:",e)}},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Clear All"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search notifications...",value:m,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Fe.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"all",children:"All Types"}),(0,Fe.jsx)("option",{value:"booking_confirmation",children:"Booking"}),(0,Fe.jsx)("option",{value:"payment_success",children:"Payment"}),(0,Fe.jsx)("option",{value:"show_reminder",children:"Reminders"}),(0,Fe.jsx)("option",{value:"movie_release",children:"New Releases"}),(0,Fe.jsx)("option",{value:"special_offer",children:"Offers"}),(0,Fe.jsx)("option",{value:"loyalty_reward",children:"Loyalty"}),(0,Fe.jsx)("option",{value:"system_maintenance",children:"System"})]})]})]})}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"all",label:"All Notifications",count:s.length},{id:"unread",label:"Unread",count:j},{id:"important",label:"Important",count:s.filter(e=>"high"===e.priority).length}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>l(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ".concat(o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Fe.jsx)("span",{children:e.label}),e.count>0&&(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(o===e.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:e.count})]},e.id))})}),(0,Fe.jsx)("div",{className:"p-6",children:w.length>0?(0,Fe.jsx)("div",{className:"space-y-4",children:w.map(e=>{return(0,Fe.jsx)("div",{className:"border-l-4 rounded-lg p-4 hover:shadow-md transition-shadow ".concat(v(e.priority)," ").concat(e.isRead?"":"border-r-4 border-r-blue-500"),children:(0,Fe.jsx)("div",{className:"flex items-start justify-between",children:(0,Fe.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,Fe.jsx)("div",{className:"text-2xl flex-shrink-0 mt-1",children:(s=e.type,{booking_confirmation:"\ud83c\udfab",payment_success:"\ud83d\udcb3",show_reminder:"\u23f0",movie_release:"\ud83c\udfac",cancellation_refund:"\ud83d\udcb0",loyalty_reward:"\u2b50",special_offer:"\ud83c\udf81",system_maintenance:"\ud83d\udd27",security_alert:"\ud83d\udd12"}[s]||"\ud83d\udce2")}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-semibold ".concat(e.isRead?"text-gray-700":"text-gray-900"),children:e.title}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-500 mt-1",children:[(0,Fe.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:y(e.type)}),(0,Fe.jsx)("span",{children:new Date(e.timestamp).toLocaleDateString()}),(0,Fe.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),(0,Fe.jsxs)("span",{className:"capitalize",children:[e.priority," priority"]})]})]})}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-3",children:e.message}),"booking_confirmation"===e.type&&e.bookingReference&&(0,Fe.jsxs)("div",{className:"bg-white rounded p-2 mb-3 text-sm text-gray-600",children:[(0,Fe.jsx)("strong",{children:"Booking Reference:"})," ",e.bookingReference]}),"payment_success"===e.type&&e.amount&&(0,Fe.jsxs)("div",{className:"bg-white rounded p-2 mb-3 text-sm text-green-700",children:[(0,Fe.jsx)("strong",{children:"Amount Paid:"})," $",e.amount.toFixed(2)]}),"special_offer"===e.type&&e.offerCode&&(0,Fe.jsxs)("div",{className:"bg-white rounded p-2 mb-3 text-sm text-purple-700",children:[(0,Fe.jsx)("strong",{children:"Offer Code:"})," ",e.offerCode," \u2022",(0,Fe.jsx)("strong",{children:" Discount:"})," ",e.discount," \u2022",(0,Fe.jsx)("strong",{children:" Expires:"})," ",new Date(e.expiryDate).toLocaleDateString()]}),"loyalty_reward"===e.type&&e.pointsEarned&&(0,Fe.jsxs)("div",{className:"bg-white rounded p-2 mb-3 text-sm text-yellow-700",children:[(0,Fe.jsx)("strong",{children:"Points Earned:"})," ",e.pointsEarned," \u2022",(0,Fe.jsx)("strong",{children:" Total Points:"})," ",e.totalPoints]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-3",children:[e.actionUrl&&e.actionText&&(0,Fe.jsx)("button",{onClick:()=>t(e.actionUrl),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:e.actionText}),!e.isRead&&(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{await nd.markAsRead(e),n(t=>t.map(t=>t.id===e?Re(Re({},t),{},{isRead:!0}):t))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Mark as Read"}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{await nd.deleteNotification(e),n(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error deleting notification:",t)}})(e.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Delete"})]})]})]})})},e.id);var s})}):(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udd14"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-lg mb-2",children:"No notifications found"}),(0,Fe.jsxs)("p",{className:"text-gray-400 text-sm",children:["unread"===o&&"All notifications have been read","important"===o&&"No important notifications","all"===o&&"You're all caught up!"]})]})})]}),f&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-2xl mx-4 max-h-96 overflow-y-auto",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"}),(0,Fe.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Delivery Methods"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("label",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:r.push_notifications,onChange:e=>i(t=>Re(Re({},t),{},{push_notifications:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-gray-700",children:"Push Notifications"})]}),(0,Fe.jsxs)("label",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:r.email_notifications,onChange:e=>i(t=>Re(Re({},t),{},{email_notifications:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-gray-700",children:"Email Notifications"})]}),(0,Fe.jsxs)("label",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:r.sms_notifications,onChange:e=>i(t=>Re(Re({},t),{},{sms_notifications:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-gray-700",children:"SMS Notifications"})]})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Notification Types"}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{key:"booking_confirmations",label:"Booking Confirmations"},{key:"payment_alerts",label:"Payment Alerts"},{key:"show_reminders",label:"Show Reminders"},{key:"movie_releases",label:"New Movie Releases"},{key:"special_offers",label:"Special Offers"},{key:"loyalty_updates",label:"Loyalty Updates"},{key:"system_updates",label:"System Updates"},{key:"marketing_emails",label:"Marketing Emails"}].map(e=>(0,Fe.jsxs)("label",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:r[e.key],onChange:t=>i(s=>Re(Re({},s),{},{[e.key]:t.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-gray-700 text-sm",children:e.label})]},e.key))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Show Reminder Timing"}),(0,Fe.jsxs)("select",{value:r.reminder_timing,onChange:e=>i(t=>Re(Re({},t),{},{reminder_timing:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)("option",{value:"30_mins",children:"30 minutes before"}),(0,Fe.jsx)("option",{value:"1_hour",children:"1 hour before"}),(0,Fe.jsx)("option",{value:"2_hours",children:"2 hours before"}),(0,Fe.jsx)("option",{value:"4_hours",children:"4 hours before"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Quiet Hours"}),(0,Fe.jsxs)("label",{className:"flex items-center mb-3",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:r.quiet_hours_enabled,onChange:e=>i(t=>Re(Re({},t),{},{quiet_hours_enabled:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"text-gray-700",children:"Enable quiet hours (no notifications)"})]}),r.quiet_hours_enabled&&(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"From"}),(0,Fe.jsx)("input",{type:"time",value:r.quiet_hours_start,onChange:e=>i(t=>Re(Re({},t),{},{quiet_hours_start:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"To"}),(0,Fe.jsx)("input",{type:"time",value:r.quiet_hours_end,onChange:e=>i(t=>Re(Re({},t),{},{quiet_hours_end:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3 mt-8",children:[(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{await nd.updateNotificationSettings(e),i(e),x(!1),alert("Notification settings updated successfully!")}catch(t){console.error("Error updating settings:",t),alert("Failed to update settings. Please try again.")}})(r),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-lg font-medium transition-colors",children:"Save Settings"}),(0,Fe.jsx)("button",{onClick:()=>x(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-6 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})})]})})},rd=()=>{const e=se(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)("active");(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{c(!0);const e=[{id:"OFFER001",title:"Weekend Special",description:"20% off on all weekend shows",discount:20,type:"percentage",code:"WEEKEND20",validUntil:"2025-12-31T23:59:59Z",minBooking:15,maxDiscount:50,applicable:"Weekend shows only",status:"active",image:"\ud83c\udfaf",category:"weekend"},{id:"OFFER002",title:"Student Discount",description:"Special pricing for students",discount:15,type:"percentage",code:"STUDENT15",validUntil:"2025-12-31T23:59:59Z",minBooking:10,maxDiscount:25,applicable:"Valid student ID required",status:"active",image:"\ud83c\udf93",category:"student"},{id:"OFFER003",title:"Family Pack",description:"Buy 3 get 1 free for family bookings",discount:25,type:"buy_get",code:"FAMILY4",validUntil:"2025-06-30T23:59:59Z",minBooking:30,maxDiscount:100,applicable:"Minimum 4 tickets required",status:"active",image:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",category:"family"},{id:"OFFER004",title:"First Time User",description:"30% off on your first booking",discount:30,type:"percentage",code:"FIRST30",validUntil:"2025-12-31T23:59:59Z",minBooking:20,maxDiscount:75,applicable:"New users only",status:"active",image:"\ud83c\udd95",category:"newuser"},{id:"OFFER005",title:"Valentine Special",description:"Couple discount for romantic movies",discount:25,type:"percentage",code:"VALENTINE25",validUntil:"2025-02-14T23:59:59Z",minBooking:20,maxDiscount:40,applicable:"Romance genre movies only",status:"expired",image:"\ud83d\udc9d",category:"seasonal"},{id:"OFFER006",title:"Holiday Mega Sale",description:"Up to 40% off during holidays",discount:40,type:"percentage",code:"HOLIDAY40",validUntil:"2024-12-31T23:59:59Z",minBooking:25,maxDiscount:100,applicable:"Holiday period only",status:"expired",image:"\ud83c\udf89",category:"seasonal"}];s(e),r(e.filter(e=>"active"===e.status)),o(e.filter(e=>"expired"===e.status))}catch(e){console.error("Error fetching offers:",e)}finally{c(!1)}},m=t=>{let{offer:s}=t;return(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-all duration-200 hover:shadow-lg ".concat("expired"===s.status?"opacity-60":""),children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Fe.jsx)("div",{className:"text-4xl",children:s.image}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:s.title}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:s.description})]})]}),(0,Fe.jsxs)("div",{className:"text-right",children:[(0,Fe.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"percentage"===s.type?"".concat(s.discount,"% OFF"):"Buy 3 Get 1"}),s.maxDiscount&&(0,Fe.jsxs)("div",{className:"text-xs text-gray-500",children:["Max $",s.maxDiscount]})]})]}),(0,Fe.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Fe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Minimum Booking:"}),(0,Fe.jsxs)("span",{className:"font-medium",children:["$",s.minBooking]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Valid Until:"}),(0,Fe.jsx)("span",{className:"font-medium",children:new Date(s.validUntil).toLocaleDateString()})]}),(0,Fe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Applicable:"}),(0,Fe.jsx)("span",{className:"font-medium text-right",children:s.applicable})]})]}),(0,Fe.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Promo Code"}),(0,Fe.jsx)("div",{className:"font-mono font-bold text-lg text-blue-600",children:s.code})]}),(0,Fe.jsx)("button",{onClick:()=>{return e=s.code,navigator.clipboard.writeText(e),void alert("Promo code ".concat(e," copied to clipboard!"));var e},className:"bg-blue-100 hover:bg-blue-200 text-blue-600 px-3 py-1 rounded text-sm font-medium transition-colors",children:"Copy Code"})]})}),(0,Fe.jsx)("div",{className:"flex space-x-3",children:"active"===s.status?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:()=>(t=>{e("/movies",{state:{promoCode:t.code}})})(s),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Use Offer"}),(0,Fe.jsx)("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Share"})]}):(0,Fe.jsx)("div",{className:"flex-1 bg-gray-300 text-gray-500 py-2 px-4 rounded-lg font-medium text-center",children:"Expired"})})]})})};return l?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Offers & Deals"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Save money on your movie bookings with exclusive offers"})]}),(0,Fe.jsx)("button",{onClick:()=>e("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-green-100",children:(0,Fe.jsx)("span",{className:"text-green-600 text-xl",children:"\ud83c\udf81"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Offers"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-blue-100",children:(0,Fe.jsx)("span",{className:"text-blue-600 text-xl",children:"\ud83d\udcb0"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Max Savings"}),(0,Fe.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.max(...n.map(e=>e.discount)),"%"]})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-purple-100",children:(0,Fe.jsx)("span",{className:"text-purple-600 text-xl",children:"\u23f0"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Expiring Soon"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(e=>Math.ceil((new Date(e.validUntil)-new Date)/864e5)<=7).length})]})]})})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsxs)("nav",{className:"-mb-px flex",children:[(0,Fe.jsxs)("button",{onClick:()=>u("active"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("active"===d?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Active Offers (",n.length,")"]}),(0,Fe.jsxs)("button",{onClick:()=>u("expired"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("expired"===d?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Expired Offers (",i.length,")"]})]})}),(0,Fe.jsxs)("div",{className:"p-6",children:["active"===d&&(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(e=>(0,Fe.jsx)(m,{offer:e},e.id)),0===n.length&&(0,Fe.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83c\udf81"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-lg",children:"No active offers available"}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon for new deals!"})]})]}),"expired"===d&&(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(e=>(0,Fe.jsx)(m,{offer:e},e.id)),0===i.length&&(0,Fe.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\u23f0"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-lg",children:"No expired offers"}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"All your offers are still active!"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-8 text-center text-white",children:[(0,Fe.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Never Miss a Deal!"}),(0,Fe.jsx)("p",{className:"mb-6 opacity-90",children:"Subscribe to get exclusive offers and early access to new deals"}),(0,Fe.jsxs)("div",{className:"max-w-md mx-auto flex space-x-3",children:[(0,Fe.jsx)("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white"}),(0,Fe.jsx)("button",{className:"bg-white text-purple-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Subscribe"})]})]})]})})},id=["title","titleId"];function od(e,t){let{title:s,titleId:n}=e,r=Ue(e,id);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const ld=a.forwardRef(od),cd=["title","titleId"];function dd(e,t){let{title:s,titleId:n}=e,r=Ue(e,cd);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const ud=a.forwardRef(dd),hd=["title","titleId"];function md(e,t){let{title:s,titleId:n}=e,r=Ue(e,hd);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const gd=a.forwardRef(md),fd=["title","titleId"];function xd(e,t){let{title:s,titleId:n}=e,r=Ue(e,fd);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))}const pd=a.forwardRef(xd),bd=()=>{const e=se(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),i={1:{id:1,title:"Dune: Part Two",genre:"Sci-Fi, Adventure",language:"English",rating:8.5,duration:166,releaseDate:"2024-03-01",poster:"https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",isNowShowing:!0,price:350},2:{id:2,title:"Godzilla x Kong: The New Empire",genre:"Action, Adventure",language:"English",rating:6.4,duration:115,releaseDate:"2024-03-29",poster:"https://image.tmdb.org/t/p/w500/gmGK92wI1dwI5F1kmrvCRzKRGAJ.jpg",isNowShowing:!0,price:300},3:{id:3,title:"Deadpool & Wolverine",genre:"Action, Comedy",language:"English",rating:7.8,duration:128,releaseDate:"2024-07-26",poster:"https://image.tmdb.org/t/p/w500/8cdWjvZQUExUUTzyp4t6EDMubfO.jpg",isNowShowing:!0,price:400},4:{id:4,title:"Inside Out 2",genre:"Animation, Family",language:"English",rating:7.6,duration:96,releaseDate:"2024-06-14",poster:"https://image.tmdb.org/t/p/w500/vpnVM9B6NMmQpWeZvzLvDESb2QY.jpg",isNowShowing:!0,price:250},5:{id:5,title:"Transformers One",genre:"Animation, Action",language:"English",rating:7.9,duration:104,releaseDate:"2024-09-20",poster:"https://image.tmdb.org/t/p/w500/qbkAqmmEIZfrCO8ZQAuIuVMlWoV.jpg",isNowShowing:!1,price:320},6:{id:6,title:"The Wild Robot",genre:"Animation, Family",language:"English",rating:8.3,duration:102,releaseDate:"2024-09-27",poster:"https://image.tmdb.org/t/p/w500/wTnV3PCVW5O92JMrFvvrRcV39RU.jpg",isNowShowing:!0,price:280}};(0,a.useEffect)(()=>{o();const e=e=>{"movieWishlist"===e.key&&o()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);const o=()=>{try{r(!0);const e=localStorage.getItem("movieWishlist"),t=(e?JSON.parse(e):[]).map(e=>{const t=i[e];return t?Re(Re({},t),{},{dateAdded:new Date(Date.now()).toISOString()}):null}).filter(e=>null!==e);s(t)}catch(e){console.error("Error fetching wishlist:",e),s([])}finally{r(!1)}};return n?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-red-500 border-t-transparent mx-auto mb-4"}),(0,Fe.jsx)("p",{className:"text-white",children:"Loading your wishlist..."})]})}):(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 py-12",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent mb-4",children:"My Wishlist"}),(0,Fe.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Your favorite movies saved for later"})]})})}),(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===t.length?(0,Fe.jsxs)("div",{className:"text-center py-16",children:[(0,Fe.jsx)(Je,{className:"h-24 w-24 text-gray-600 mx-auto mb-6"}),(0,Fe.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Your wishlist is empty"}),(0,Fe.jsx)("p",{className:"text-gray-400 mb-8",children:"Start adding movies to your wishlist by clicking the heart icon on movie cards."}),(0,Fe.jsx)("button",{onClick:()=>e("/movies"),className:"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Browse Movies"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsxs)("p",{className:"text-gray-400",children:[t.length," movie",1!==t.length?"s":""," in your wishlist"]})}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(t=>(0,Fe.jsxs)("div",{className:"bg-gray-800 rounded-xl overflow-hidden group hover:scale-105 transition-all duration-300 border border-gray-700 hover:border-red-500/50",children:[(0,Fe.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Fe.jsx)("img",{src:t.poster,alt:t.title,className:"w-full h-80 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{const t=localStorage.getItem("movieWishlist"),s=(t?JSON.parse(t):[]).filter(t=>t!==e);localStorage.setItem("movieWishlist",JSON.stringify(s)),window.dispatchEvent(new StorageEvent("storage",{key:"movieWishlist",newValue:JSON.stringify(s)}))})(t.id),className:"absolute top-4 right-4 p-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all duration-300",children:(0,Fe.jsx)(pt,{className:"h-5 w-5"})}),t.isNowShowing?(0,Fe.jsx)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Now Showing"}):(0,Fe.jsx)("div",{className:"absolute top-4 left-4 bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-semibold",children:"Coming Soon"}),(0,Fe.jsxs)("div",{className:"absolute bottom-4 left-4 flex items-center bg-black/60 rounded-full px-3 py-1",children:[(0,Fe.jsx)(ld,{className:"h-4 w-4 text-yellow-400 mr-1"}),(0,Fe.jsx)("span",{className:"text-white text-sm font-semibold",children:t.rating})]})]}),(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1",children:t.title}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:t.genre}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)(ud,{className:"h-4 w-4 mr-1"}),(0,Fe.jsxs)("span",{children:[t.duration," min"]})]}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)(gd,{className:"h-4 w-4 mr-1"}),(0,Fe.jsx)("span",{children:new Date(t.releaseDate).getFullYear()})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fe.jsxs)("span",{className:"text-2xl font-bold text-red-500",children:["\u20b9",t.price]}),(0,Fe.jsx)("span",{className:"text-gray-400 text-sm",children:t.language})]}),t.isNowShowing?(0,Fe.jsxs)("button",{onClick:()=>{return s=t.id,void e("/book/".concat(s));var s},className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-semibold transition-colors duration-300 flex items-center justify-center",children:[(0,Fe.jsx)(pd,{className:"h-5 w-5 mr-2"}),"Book Now"]}):(0,Fe.jsxs)("button",{disabled:!0,className:"w-full bg-gray-600 text-gray-400 py-3 rounded-lg font-semibold cursor-not-allowed flex items-center justify-center",children:[(0,Fe.jsx)(gd,{className:"h-5 w-5 mr-2"}),"Coming Soon"]})]})]},t.id))})]})})]})},vd=()=>{const{user:e}=ze(),t=se(),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)("my-reviews"),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)({rating:0,comment:""});(0,a.useEffect)(()=>{f(),x()},[]);const f=async()=>{try{l(!0);n([{id:"REV001",movieId:"MOV001",movieTitle:"Spider-Man: No Way Home",moviePoster:"/placeholder-movie.jpg",rating:4.5,comment:"Amazing movie! The multiverse concept was executed perfectly. Tom Holland, Tobey Maguire, and Andrew Garfield together was a dream come true.",date:"2025-01-15T10:30:00Z",helpful:12,reported:!1,verified:!0},{id:"REV002",movieId:"MOV002",movieTitle:"The Batman",moviePoster:"/placeholder-movie.jpg",rating:4,comment:"Robert Pattinson brings a darker, more detective-focused Batman. Great cinematography and atmosphere.",date:"2025-01-10T15:45:00Z",helpful:8,reported:!1,verified:!0},{id:"REV003",movieId:"MOV003",movieTitle:"Dune: Part One",moviePoster:"/placeholder-movie.jpg",rating:5,comment:"Visually stunning masterpiece. Denis Villeneuve has created something truly spectacular. Cannot wait for Part Two!",date:"2025-01-08T20:15:00Z",helpful:25,reported:!1,verified:!0}])}catch(e){console.error("Error fetching reviews:",e)}finally{l(!1)}},x=async()=>{try{i([{id:"PEND001",movieId:"MOV004",movieTitle:"Avengers: Endgame",moviePoster:"/placeholder-movie.jpg",watchedDate:"2025-01-05T18:20:00Z",venue:"PVR Cinemas"},{id:"PEND002",movieId:"MOV005",movieTitle:"Inception",moviePoster:"/placeholder-movie.jpg",watchedDate:"2025-01-03T14:30:00Z",venue:"AMC Theater"}])}catch(e){console.error("Error fetching pending reviews:",e)}},p=e=>{let{rating:t,onRatingChange:s,readOnly:n=!0}=e;return(0,Fe.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,Fe.jsx)("button",{type:"button",disabled:n,onClick:()=>!n&&s&&s(e),className:"text-2xl ".concat(e<=t?"text-yellow-500":"text-gray-300"," ").concat(n?"":"hover:text-yellow-400 cursor-pointer"),children:"\u2b50"},e))})},b=e=>{let{review:t}=e;return(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,Fe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Fe.jsx)("div",{className:"w-16 h-24 bg-gray-300 rounded flex items-center justify-center flex-shrink-0",children:(0,Fe.jsx)("span",{className:"text-gray-600 text-xs",children:"IMG"})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.movieTitle}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Fe.jsx)(p,{rating:t.rating}),(0,Fe.jsxs)("span",{className:"text-sm text-gray-600",children:[t.rating,"/5 stars"]}),t.verified&&(0,Fe.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"})]})]}),(0,Fe.jsx)("div",{className:"flex space-x-2",children:(0,Fe.jsx)("button",{onClick:()=>{return e=t.id,void n(t=>t.filter(t=>t.id!==e));var e},className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})})]}),(0,Fe.jsx)("p",{className:"text-gray-700 mb-3",children:t.comment}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Fe.jsxs)("span",{children:["Reviewed on ",new Date(t.date).toLocaleDateString()]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsxs)("span",{children:[t.helpful," people found this helpful"]}),(0,Fe.jsx)("button",{className:"text-blue-600 hover:text-blue-800",children:"Edit"})]})]})]})]})})},v=e=>{let{pending:t}=e;return(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsx)("div",{className:"w-16 h-24 bg-gray-300 rounded flex items-center justify-center flex-shrink-0",children:(0,Fe.jsx)("span",{className:"text-gray-600 text-xs",children:"IMG"})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.movieTitle}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Watched at ",t.venue," on ",new Date(t.watchedDate).toLocaleDateString()]}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Share your experience with other movie lovers!"}),(0,Fe.jsx)("button",{onClick:()=>h(t),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Write Review"})]})]})})};return o?(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Reviews"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Share your movie experiences and read what others think"})]}),(0,Fe.jsx)("button",{onClick:()=>t("/user/dashboard"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"\u2190 Back to Dashboard"})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-blue-100",children:(0,Fe.jsx)("span",{className:"text-blue-600 text-xl",children:"\u2b50"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Reviews"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-yellow-100",children:(0,Fe.jsx)("span",{className:"text-yellow-600 text-xl",children:"\ud83d\udcca"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Average Rating"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length>0?(s.reduce((e,t)=>e+t.rating,0)/s.length).toFixed(1):"0.0"})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-green-100",children:(0,Fe.jsx)("span",{className:"text-green-600 text-xl",children:"\ud83d\udc4d"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Helpful Votes"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.reduce((e,t)=>e+t.helpful,0)})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-orange-100",children:(0,Fe.jsx)("span",{className:"text-orange-600 text-xl",children:"\u23f3"})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending Reviews"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[(0,Fe.jsx)("div",{className:"border-b border-gray-200",children:(0,Fe.jsxs)("nav",{className:"-mb-px flex",children:[(0,Fe.jsxs)("button",{onClick:()=>d("my-reviews"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("my-reviews"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["My Reviews (",s.length,")"]}),(0,Fe.jsxs)("button",{onClick:()=>d("pending"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("pending"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Pending Reviews (",r.length,")"]})]})}),(0,Fe.jsxs)("div",{className:"p-6",children:["my-reviews"===c&&(0,Fe.jsx)("div",{className:"space-y-6",children:s.length>0?s.map(e=>(0,Fe.jsx)(b,{review:e},e.id)):(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\u2b50"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-lg",children:"No reviews yet"}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Watch some movies and share your thoughts!"})]})}),"pending"===c&&(0,Fe.jsx)("div",{className:"space-y-6",children:r.length>0?r.map(e=>(0,Fe.jsx)(v,{pending:e},e.id)):(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\u2705"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-lg",children:"All caught up!"}),(0,Fe.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"You've reviewed all your watched movies"})]})})]})]}),u&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Fe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:['Review "',u.movieTitle,'"']}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,Fe.jsx)(p,{rating:m.rating,onRatingChange:e=>g(Re(Re({},m),{},{rating:e})),readOnly:!1})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),(0,Fe.jsx)("textarea",{value:m.comment,onChange:e=>g(Re(Re({},m),{},{comment:e.target.value})),placeholder:"Share your thoughts about this movie...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),(0,Fe.jsxs)("div",{className:"flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>h(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Fe.jsx)("button",{onClick:async()=>{if(u&&0!==m.rating)try{const e={id:"REV"+String(Date.now()).slice(-3),movieId:u.movieId,movieTitle:u.movieTitle,moviePoster:u.moviePoster,rating:m.rating,comment:m.comment,date:(new Date).toISOString(),helpful:0,reported:!1,verified:!0};n(t=>[e,...t]),i(e=>e.filter(e=>e.id!==u.id)),h(null),g({rating:0,comment:""})}catch(e){console.error("Error submitting review:",e)}},disabled:0===m.rating,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Submit Review"})]})]})})]})})},yd=e=>{let{children:t,requireAdmin:s=!1}=e;const{user:n,token:a,isAdmin:r}=ze();return a&&n?s&&!r()?(0,Fe.jsx)(be,{to:"/dashboard",replace:!0}):t:(0,Fe.jsx)(be,{to:"/login",replace:!0})},wd=["title","titleId"];function jd(e,t){let{title:s,titleId:n}=e,r=Ue(e,wd);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Nd=a.forwardRef(jd),kd=()=>{const{id:e,movieId:t}=ne(),s=se(),[n,r]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[b,v]=(0,a.useState)(!0),[y,w]=(0,a.useState)(null),j=t||e,N=(()=>{const e=[];for(let t=0;t<7;t++){const s=new Date;s.setDate(s.getDate()+t),e.push({date:s.toISOString().split("T")[0],displayDate:s.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}return e})();(0,a.useEffect)(()=>{N.length>0&&f(N[0].date)},[]),(0,a.useEffect)(()=>{k()},[j]),(0,a.useEffect)(()=>{(h||g||x)&&S()},[h,g,x]);const k=async()=>{try{v(!0);const e=await yt.getMovieById(j);r(e);const[t,s]=await Promise.all([js.getShows(j),js.getVenues()]);o(t.content||[]),c(s);const n=[...new Set(s.map(e=>e.city&&"object"===typeof e.city?e.city.name:e.city))].filter(e=>e);u(n),n.length>0&&m(n[0])}catch(e){console.error("Error loading movie and shows:",e),w("Failed to load show information"),r({id:j,title:"The Avengers: Endgame",genre:"Action, Adventure, Sci-Fi",duration:"3h 1min",rating:"PG-13",posterUrl:"/placeholder-movie.jpg",description:"The culmination of 22 interconnected films, the fourth installment of the Avengers saga."});const t=[{id:1,movieId:j,venue:{id:1,name:"PVR Cinemas Forum Mall",city:"Bangalore",address:"Forum Mall, Koramangala"},showDate:N[0].date,showTime:"10:00",price:200,availableSeats:120},{id:2,movieId:j,venue:{id:1,name:"PVR Cinemas Forum Mall",city:"Bangalore",address:"Forum Mall, Koramangala"},showDate:N[0].date,showTime:"14:30",price:250,availableSeats:85},{id:3,movieId:j,venue:{id:2,name:"INOX Garuda Mall",city:"Bangalore",address:"Garuda Mall, Magrath Road"},showDate:N[0].date,showTime:"18:00",price:300,availableSeats:95}];o(t),u(["Bangalore","Mumbai","Delhi"]),m("Bangalore"),c([{id:1,name:"PVR Cinemas Forum Mall",city:"Bangalore",address:"Forum Mall, Koramangala"},{id:2,name:"INOX Garuda Mall",city:"Bangalore",address:"Garuda Mall, Magrath Road"}])}finally{v(!1)}},S=async()=>{try{const e=await js.getShows(j,{city:h,date:g,venueId:x});o(e.content||[])}catch(e){console.error("Error loading filtered shows:",e)}};if(b)return(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Fe.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading shows..."})]})});if(y)return(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("p",{className:"text-red-600 mb-4",children:y}),(0,Fe.jsx)("button",{onClick:()=>s("/movies"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Back to Movies"})]})});const _=(()=>{const e=i.filter(e=>{var t,s,n;const a=null!==(t=e.venue)&&void 0!==t&&t.city&&"object"===typeof e.venue.city?e.venue.city.name:null===(s=e.venue)||void 0===s?void 0:s.city;return(!h||a===h)&&(!g||e.showDate===g)&&(!x||(null===(n=e.venue)||void 0===n?void 0:n.id)===parseInt(x))}),t={};return e.forEach(e=>{var s;const n=(null===(s=e.venue)||void 0===s?void 0:s.name)||"Unknown Venue";t[n]||(t[n]={venue:e.venue,shows:[]}),t[n].shows.push(e)}),t})();return(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Fe.jsx)("div",{className:"bg-white shadow-sm",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"flex items-center py-4",children:[(0,Fe.jsx)("button",{onClick:()=>s("/movies"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:(0,Fe.jsx)(Nd,{className:"h-6 w-6"})}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(null===n||void 0===n?void 0:n.posterUrl)&&(0,Fe.jsx)("img",{src:n.posterUrl,alt:n.title,className:"w-16 h-22 object-cover rounded-lg"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===n||void 0===n?void 0:n.title}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,Fe.jsx)("span",{children:null===n||void 0===n?void 0:n.genre}),(0,Fe.jsx)("span",{children:"\u2022"}),(0,Fe.jsx)("span",{children:null===n||void 0===n?void 0:n.duration}),(0,Fe.jsx)("span",{children:"\u2022"}),(0,Fe.jsx)("span",{children:null===n||void 0===n?void 0:n.rating})]})]})]})]})})}),(0,Fe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Show Details"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Fe.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Fe.jsx)("option",{value:"",children:"All Cities"}),d.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Fe.jsx)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:N.map(e=>(0,Fe.jsx)("option",{value:e.date,children:e.displayDate},e.date))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),(0,Fe.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Fe.jsx)("option",{value:"",children:"All Venues"}),l.filter(e=>{const t=e.city&&"object"===typeof e.city?e.city.name:e.city;return!h||t===h}).map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,Fe.jsx)("div",{className:"space-y-6",children:0===Object.keys(_).length?(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[(0,Fe.jsx)(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Shows Available"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"No shows found for the selected filters. Please try different options."})]}):Object.entries(_).map(e=>{let[t,{venue:a,shows:r}]=e;return(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Fe.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:t}),(0,Fe.jsxs)("div",{className:"flex items-center text-gray-600 mt-1",children:[(0,Fe.jsx)(Ht,{className:"h-4 w-4 mr-1"}),(0,Fe.jsx)("span",{className:"text-sm",children:null===a||void 0===a?void 0:a.address})]})]}),(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:r.map(e=>(0,Fe.jsxs)("button",{onClick:()=>(e=>{s("/booking/seats/".concat(e.id),{state:{show:e,movie:n}})})(e),className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Fe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 text-gray-500 mr-1"}),(0,Fe.jsx)("span",{className:"font-medium text-gray-900",children:e.showTime})]}),(0,Fe.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,Fe.jsx)(_t,{className:"h-3 w-3 mr-1"}),(0,Fe.jsxs)("span",{children:["\u20b9",e.price]})]}),(0,Fe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.availableSeats," seats available"]})]},e.id))})})]},t)})})]})]})},Sd=["title","titleId"];function _d(e,t){let{title:s,titleId:n}=e,r=Ue(e,Sd);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Cd=a.forwardRef(_d),Ed=()=>{var e;const{showId:t}=ne(),s=se(),n=ee(),{isAuthenticated:r}=ze(),{show:i,movie:o}=n.state||{},[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[x,p]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),k="http://localhost:8080/api";(0,a.useEffect)(()=>{r?S():s("/login",{state:{from:n.pathname}})},[t,r,s,n]);const S=async()=>{try{f(!0);let n=[];try{const e=await fetch("".concat(k,"/seats/show/").concat(t));e.ok?n=await e.json():console.warn("Seat API unavailable, falling back to admin-saved layout")}catch(s){console.warn("Seat API error, falling back to admin-saved layout",s)}if(!n||0===n.length){var e;const t=JSON.parse(localStorage.getItem("adminSeatLayouts")||"{}"),s=null!==i&&void 0!==i&&null!==(e=i.venue)&&void 0!==e&&e.id&&null!==i&&void 0!==i&&i.screenId?"".concat(i.venue.id,":").concat(i.screenId):null;if(s&&t[s]){const e=t[s];n=[],e.forEach(e=>{e.forEach(e=>{n.push({id:e.id,seatRow:e.rowLetter,seatNumber:e.seatNumber,seatType:"premium"===e.type?"PREMIUM":"STANDARD",isAvailable:e.isAvailable,isAccessible:e.isAccessible||!1})})})}}c(n||[])}catch(n){console.error("Error loading seats:",n),p("Failed to load seat layout")}finally{f(!1)}};(0,a.useEffect)(()=>{r?S():s("/login",{state:{from:n.pathname}})},[t,r,s,n]),(0,a.useEffect)(()=>{let e;return d.length>0&&(v(!0),e=setTimeout(async()=>{try{(await fetch("".concat(k,"/booking/seats/reserve"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({showId:parseInt(t),seatIds:d.map(e=>e.id),reservationTimeMinutes:10})})).ok&&m(e=>[...e,...d.map(e=>e.id)])}catch(e){console.error("Error reserving seats:",e)}finally{v(!1)}},500)),()=>{e&&clearTimeout(e)}},[d,t]);const _=e=>{const t=d.some(t=>t.id===e.id);if(e.isBooked||"BOOKED"===e.status)return"bg-red-700 text-white border-red-800 cursor-not-allowed";if(!e.isAvailable)return"bg-gray-600 text-white cursor-not-allowed border-gray-500";if(e.isBlocked&&!h.includes(e.id))return"bg-orange-400 cursor-not-allowed";if(t)return"bg-red-600 text-white border-red-700";if(e.isAccessible)return"bg-gray-900 text-white border-green-600 hover:bg-gray-800";switch(e.seatType){case"PREMIUM":return"bg-gray-900 text-white border-gray-800 hover:bg-gray-800";case"STANDARD":default:return"bg-gray-800 text-white border-gray-700 hover:bg-gray-700";case"ECONOMY":return"bg-gray-700 text-white border-gray-600 hover:bg-gray-600"}},C=e=>{switch(e){case"PREMIUM":return((null===i||void 0===i?void 0:i.price)||250)+100;case"STANDARD":default:return(null===i||void 0===i?void 0:i.price)||250;case"ECONOMY":return((null===i||void 0===i?void 0:i.price)||250)-50}};if(g)return(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Fe.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading seat layout..."})]})});if(x||!i)return(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("p",{className:"text-red-600 text-lg",children:x||"Show data not available"}),(0,Fe.jsx)("button",{onClick:()=>s("/movies"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Back to Movies"})]})});const E=(e=>{const t={};return e.forEach(e=>{const s=e.seatRow||e.rowNumber||"A";t[s]||(t[s]=[]),t[s].push(e)}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>(e.seatNumber||e.columnNumber||1)-(t.seatNumber||t.columnNumber||1))}),t})(l),M=Object.keys(E).sort(),P=JSON.parse(localStorage.getItem("demoBookings")||"[]"),D=JSON.parse(localStorage.getItem("userBookings")||"[]"),A=new Set;return[...P,...D].forEach(e=>{(e.seats||[]).forEach(e=>A.add(e.id||e))}),(0,Fe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Fe.jsx)("div",{className:"bg-white shadow-sm",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Fe.jsx)("div",{className:"flex items-center justify-between",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("button",{onClick:()=>s(-1),className:"text-blue-600 hover:text-blue-800 mb-2",children:"\u2190 Back to Shows"}),(0,Fe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Select Seats"}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,Fe.jsx)("span",{className:"flex items-center",children:(0,Fe.jsx)("span",{className:"font-medium",children:null===o||void 0===o?void 0:o.title})}),(0,Fe.jsxs)("span",{className:"flex items-center",children:[(0,Fe.jsx)(Ht,{className:"h-4 w-4 mr-1"}),null===(e=i.venue)||void 0===e?void 0:e.name]}),(0,Fe.jsxs)("span",{className:"flex items-center",children:[(0,Fe.jsx)(lt,{className:"h-4 w-4 mr-1"}),new Date(i.showDate).toLocaleDateString()]}),(0,Fe.jsxs)("span",{className:"flex items-center",children:[(0,Fe.jsx)(rt,{className:"h-4 w-4 mr-1"}),i.showTime]})]})]})})})}),(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Fe.jsx)("div",{className:"lg:col-span-3",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Fe.jsxs)("div",{className:"text-center mb-8",children:[(0,Fe.jsx)("div",{className:"bg-gray-800 text-white py-2 px-8 rounded-full inline-block mb-2",children:"SCREEN"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500",children:"All eyes this way please!"})]}),(0,Fe.jsxs)("div",{className:"flex flex-wrap justify-center space-x-6 mb-6 text-sm",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-700 rounded"}),(0,Fe.jsx)("span",{children:"Available"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-red-600 rounded"}),(0,Fe.jsx)("span",{children:"Selected"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-red-800 rounded"}),(0,Fe.jsx)("span",{children:"Booked"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),(0,Fe.jsx)("span",{children:"Reserved"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gray-900 border border-red-600 rounded flex items-center justify-center text-white text-[10px]",children:"\u267f"}),(0,Fe.jsx)("span",{children:"Accessible"})]})]}),(0,Fe.jsx)("div",{className:"max-w-4xl mx-auto",children:0===M.length?(0,Fe.jsx)("div",{className:"text-center py-8",children:(0,Fe.jsx)("p",{className:"text-gray-500",children:"No seats available"})}):(0,Fe.jsx)("div",{className:"space-y-3",children:M.map(e=>(0,Fe.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Fe.jsx)("div",{className:"w-8 text-center font-medium text-gray-700",children:e}),(0,Fe.jsx)("div",{className:"flex space-x-1",children:E[e].map((t,s)=>{const n=s===Math.floor(E[e].length/2),r=A.has(t.id)||t.isBooked||"BOOKED"===t.status,i=r||!t.isAvailable||t.isBlocked&&!h.includes(t.id);return(0,Fe.jsxs)(a.Fragment,{children:[n&&(0,Fe.jsx)("div",{className:"w-4"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{!e.isAvailable||e.isBlocked&&!h.includes(e.id)||u(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):t.length>=10?(alert("You can select maximum 10 seats at a time"),t):[...t,e])})(t),disabled:i,"aria-label":"".concat(t.displayName||t.seatRow+t.seatNumber," - ").concat(t.seatType," - ").concat(t.isAccessible?"Accessible":"Standard"),className:"\n                                    w-10 h-8 rounded border text-xs font-medium transition-all duration-200 flex items-center justify-center px-1\n                                    ".concat(_(Re(Re({},t),{},{isBooked:r})),"\n                                    ").concat(i?"":"cursor-pointer transform hover:scale-105","\n                                  "),title:"".concat(t.displayName||t.seatRow+t.seatNumber," - ").concat(t.seatType," - \u20b9").concat(t.price||0),children:(0,Fe.jsxs)("div",{className:"flex items-center space-x-1",children:[!t.isAvailable||t.isBlocked?(0,Fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{d:"M5 8V6a5 5 0 0110 0v2h1a1 1 0 011 1v7a1 1 0 01-1 1H4a1 1 0 01-1-1V9a1 1 0 011-1h1zm2 0h6V6a3 3 0 00-6 0v2z"})}):null,(0,Fe.jsx)("span",{className:"text-xs",children:t.seatNumber}),t.isAccessible&&(0,Fe.jsx)("img",{src:ds,alt:"accessible",className:"h-4 w-4 object-contain ml-1"}),r&&(0,Fe.jsx)("span",{className:"ml-1 text-[10px] font-semibold",children:"B"})]})})]},t.id)})})]},e))})}),(0,Fe.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Fe.jsx)("h4",{className:"font-medium text-purple-800",children:"Premium"}),(0,Fe.jsxs)("p",{className:"text-sm text-purple-600",children:["\u20b9",C("PREMIUM")]})]}),(0,Fe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Fe.jsx)("h4",{className:"font-medium text-blue-800",children:"Standard"}),(0,Fe.jsxs)("p",{className:"text-sm text-blue-600",children:["\u20b9",C("STANDARD")]})]}),(0,Fe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Fe.jsx)("h4",{className:"font-medium text-gray-800",children:"Economy"}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-600",children:["\u20b9",C("ECONOMY")]})]})]})]})}),(0,Fe.jsx)("div",{className:"lg:col-span-1",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),0===d.length?(0,Fe.jsxs)("div",{className:"text-center py-6",children:[(0,Fe.jsx)(Cd,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Fe.jsx)("p",{className:"text-gray-500 text-sm",children:"Select seats to continue"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsxs)("h4",{className:"font-medium text-gray-800 mb-2",children:["Selected Seats (",d.length,")"]}),(0,Fe.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,Fe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fe.jsxs)("span",{children:[e.seatNumber," (",e.seatType,")"]}),(0,Fe.jsxs)("span",{children:["\u20b9",C(e.seatType)]})]},e.id))})]}),(0,Fe.jsx)("div",{className:"border-t pt-4 mb-6",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsx)("span",{className:"text-lg font-semibold",children:"Total"}),(0,Fe.jsxs)("span",{className:"text-xl font-bold text-green-600 flex items-center",children:[(0,Fe.jsx)(_t,{className:"h-5 w-5"}),d.reduce((e,t)=>e+(t.price||0),0)]})]})}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsx)("button",{onClick:async()=>{if(0!==d.length)try{var e;v(!0);if(!localStorage.getItem("token"))return alert("Please login to book tickets"),void s("/login");const n={showId:parseInt(t),movieTitle:(null===o||void 0===o?void 0:o.title)||"Unknown Movie",venueName:(null===i||void 0===i||null===(e=i.venue)||void 0===e?void 0:e.name)||"Unknown Venue",showDate:(null===i||void 0===i?void 0:i.showDate)||(new Date).toISOString().split("T")[0],showTime:(null===i||void 0===i?void 0:i.showTime)||"Unknown Time",seats:d.map(e=>({id:e.id,seatNumber:e.displayName||"".concat(e.seatRow).concat(e.seatNumber),price:e.price,type:e.seatType})),totalAmount:d.reduce((e,t)=>e+(t.price||0),0),bookingDate:(new Date).toISOString(),status:"CONFIRMED"},a=JSON.parse(localStorage.getItem("demoBookings")||"[]"),r=JSON.parse(localStorage.getItem("user")||"{}");console.log("SeatSelection - Current User when creating booking:",r);const l=Re(Re({},n),{},{id:Date.now(),userId:r.id,userEmail:r.email,userFirstName:r.firstName||"Demo",userLastName:r.lastName||"User"});console.log("SeatSelection - New booking being created:",l),a.push(l),localStorage.setItem("demoBookings",JSON.stringify(a)),console.log("SeatSelection - All bookings after adding new one:",a),window.dispatchEvent(new CustomEvent("bookingCreated",{detail:l})),alert("Booking confirmed! \nMovie: ".concat(n.movieTitle,"\nVenue: ").concat(n.venueName,"\nDate: ").concat(n.showDate," at ").concat(n.showTime,"\nSeats: ").concat(n.seats.map(e=>e.seatNumber).join(", "),"\nTotal: \u20b9").concat(n.totalAmount)),s("/user/bookings")}catch(x){console.error("Booking error:",x),alert("Booking failed: ".concat(x.message))}finally{v(!1)}else alert("Please select at least one seat")},disabled:b||0===d.length,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Booking Tickets...":"Book Now"}),(0,Fe.jsx)("button",{onClick:()=>{u([]),m([])},className:"w-full text-gray-600 py-2 text-sm hover:text-gray-800",children:"Clear Selection"})]})]}),(0,Fe.jsx)("div",{className:"mt-6 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,Fe.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,Fe.jsx)("strong",{children:"Note:"})," Selected seats are temporarily reserved for you. Complete booking within 10 minutes or seats will be released."]})})]})})]})})]})},Md=()=>{const e=ee(),t=se(),{booking:s,paymentMethod:n}=e.state||{};if(!s)return(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h2",{className:"text-xl font-bold text-red-600",children:"No booking data found"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Please complete a booking first"}),(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Browse Movies"})]})});return(0,Fe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Fe.jsxs)("div",{className:"text-center mb-8",children:[(0,Fe.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:(0,Fe.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),(0,Fe.jsx)("p",{className:"text-lg text-gray-600",children:"Your tickets have been successfully booked"})]}),(0,Fe.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,Fe.jsx)("div",{className:"lg:col-span-2",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Fe.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold mb-2",children:s.movieTitle}),(0,Fe.jsx)("p",{className:"text-purple-100",children:s.venueName}),(0,Fe.jsx)("p",{className:"text-purple-100",children:s.venueAddress})]}),(0,Fe.jsxs)("div",{className:"text-right",children:[(0,Fe.jsx)("p",{className:"text-sm text-purple-100",children:"Booking ID"}),(0,Fe.jsx)("p",{className:"font-mono text-lg",children:s.bookingId})]})]})}),(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Show Details"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.showDate})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Time:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.showTime})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Screen:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.screenName})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Seats:"}),(0,Fe.jsx)("span",{className:"font-medium text-blue-600",children:s.seatNumbers.join(", ")})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Tickets:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.totalTickets})]})]})]}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Payment Details"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Ticket Price:"}),(0,Fe.jsxs)("span",{children:["\u20b9",s.ticketPrice]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Convenience Fee:"}),(0,Fe.jsxs)("span",{children:["\u20b9",s.convenienceFee]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Taxes:"}),(0,Fe.jsxs)("span",{children:["\u20b9",s.taxes]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[(0,Fe.jsx)("span",{children:"Total Paid:"}),(0,Fe.jsxs)("span",{className:"text-green-600",children:["\u20b9",s.totalAmount]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Payment Method:"}),(0,Fe.jsx)("span",{className:"capitalize",children:null===n||void 0===n?void 0:n.replace("_"," ")})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,Fe.jsx)("span",{className:"font-mono text-sm",children:s.transactionId})]})]})]})]}),(0,Fe.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Customer Details"}),(0,Fe.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:s.customerName})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:s.customerEmail})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:s.customerPhone})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Booking Date:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:s.bookingDate})]})]})]})]}),(0,Fe.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t",children:(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Fe.jsxs)("button",{onClick:()=>{alert("Ticket download feature would be implemented here")},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Ticket"]}),(0,Fe.jsxs)("button",{onClick:()=>{const e="I just booked tickets for ".concat(s.movieTitle," at ").concat(s.venueName,"! \ud83c\udfac");navigator.share?navigator.share({title:"Movie Booking Confirmation",text:e,url:window.location.href}):(navigator.clipboard.writeText(e+" "+window.location.href),alert("Booking details copied to clipboard!"))},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share"]}),(0,Fe.jsxs)("button",{onClick:()=>t("/my-bookings"),className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View All Bookings"]})]})})]})}),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Entry QR Code"}),(0,Fe.jsx)("div",{className:"flex justify-center mb-4",children:(0,Fe.jsx)("img",{src:(a=s.bookingId,"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=Booking-".concat(a)),alt:"Booking QR Code",className:"border rounded-lg"})}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:"Show this QR code at the cinema entrance"})]}),(0,Fe.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Fe.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Information"}),(0,Fe.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,Fe.jsx)("li",{children:"\u2022 Please arrive 30 minutes before show time"}),(0,Fe.jsx)("li",{children:"\u2022 Carry a valid ID for verification"}),(0,Fe.jsx)("li",{children:"\u2022 No outside food or beverages allowed"}),(0,Fe.jsx)("li",{children:"\u2022 Mobile phones must be on silent mode"}),(0,Fe.jsx)("li",{children:"\u2022 Entry may be denied after show starts"})]})]}),(0,Fe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Fe.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Need Help?"}),(0,Fe.jsxs)("div",{className:"text-sm text-blue-700 space-y-2",children:[(0,Fe.jsx)("p",{children:"Contact Customer Support:"}),(0,Fe.jsx)("p",{className:"font-medium",children:"\ud83d\udcde 1800-123-4567"}),(0,Fe.jsx)("p",{className:"font-medium",children:"\u2709\ufe0f support@moviebooking.com"}),(0,Fe.jsx)("p",{className:"text-xs mt-2",children:"Available 24/7 for assistance"})]})]}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Book Another Movie"}),(0,Fe.jsx)("button",{onClick:()=>t("/"),className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})]})]})});var a},Pd=()=>{const e=ee(),t=se(),{bookingSummary:s}=e.state||{},[n,r]=(0,a.useState)("credit_card"),[i,o]=(0,a.useState)({cardNumber:"",expiryDate:"",cvv:"",cardHolderName:"",upiId:"",walletType:"paytm",bankName:""}),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({});(0,a.useEffect)(()=>{s||t("/movies")},[s,t]);const h=(e,t)=>{o(s=>Re(Re({},s),{},{[e]:t})),d[e]&&u(t=>Re(Re({},t),{},{[e]:""}))};return s?(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Payment"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Secure and fast payment processing"})]}),(0,Fe.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,Fe.jsx)("div",{className:"lg:col-span-1",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Booking Summary"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Movie:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.movieTitle})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Venue:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.venueName})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Show Time:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.showTime})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.showDate})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Seats:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.seatNumbers.join(", ")})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Tickets:"}),(0,Fe.jsx)("span",{className:"font-medium",children:s.seatNumbers.length})]}),(0,Fe.jsx)("hr",{className:"my-4"}),(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Ticket Price:"}),(0,Fe.jsxs)("span",{children:["\u20b9",s.ticketPrice]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Convenience Fee:"}),(0,Fe.jsxs)("span",{children:["\u20b9",s.convenienceFee]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between font-semibold text-lg",children:[(0,Fe.jsx)("span",{children:"Total Amount:"}),(0,Fe.jsxs)("span",{className:"text-green-600",children:["\u20b9",s.totalAmount]})]})]})]})]})}),(0,Fe.jsx)("div",{className:"lg:col-span-2",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Choose Payment Method"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8",children:[{id:"credit_card",label:"Credit/Debit Card",icon:"\ud83d\udcb3"},{id:"upi",label:"UPI",icon:"\ud83d\udcf1"},{id:"wallet",label:"Wallet",icon:"\ud83d\udc5b"},{id:"net_banking",label:"Net Banking",icon:"\ud83c\udfe6"}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>r(e.id),className:"p-4 border-2 rounded-lg text-center transition-all ".concat(n===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,Fe.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,Fe.jsx)("div",{className:"text-sm font-medium",children:e.label})]},e.id))}),"credit_card"===n&&(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),(0,Fe.jsx)("input",{type:"text",placeholder:"1234 5678 9012 3456",value:i.cardNumber,onChange:e=>h("cardNumber",e.target.value.replace(/\s/g,"").slice(0,16)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.cardNumber?"border-red-500":"border-gray-300")}),d.cardNumber&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.cardNumber})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,Fe.jsx)("input",{type:"text",placeholder:"MM/YY",value:i.expiryDate,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),h("expiryDate",t)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.expiryDate?"border-red-500":"border-gray-300")}),d.expiryDate&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.expiryDate})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),(0,Fe.jsx)("input",{type:"text",placeholder:"123",value:i.cvv,onChange:e=>h("cvv",e.target.value.replace(/\D/g,"").slice(0,4)),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.cvv?"border-red-500":"border-gray-300")}),d.cvv&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.cvv})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),(0,Fe.jsx)("input",{type:"text",placeholder:"John Doe",value:i.cardHolderName,onChange:e=>h("cardHolderName",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.cardHolderName?"border-red-500":"border-gray-300")}),d.cardHolderName&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.cardHolderName})]})]}),"upi"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID"}),(0,Fe.jsx)("input",{type:"text",placeholder:"username@paytm",value:i.upiId,onChange:e=>h("upiId",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.upiId?"border-red-500":"border-gray-300")}),d.upiId&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.upiId})]}),"wallet"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Wallet"}),(0,Fe.jsxs)("select",{value:i.walletType,onChange:e=>h("walletType",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Fe.jsx)("option",{value:"paytm",children:"Paytm Wallet"}),(0,Fe.jsx)("option",{value:"phonepe",children:"PhonePe"}),(0,Fe.jsx)("option",{value:"googlepay",children:"Google Pay"}),(0,Fe.jsx)("option",{value:"amazonpay",children:"Amazon Pay"})]})]}),"net_banking"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Bank"}),(0,Fe.jsxs)("select",{value:i.bankName,onChange:e=>h("bankName",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.bankName?"border-red-500":"border-gray-300"),children:[(0,Fe.jsx)("option",{value:"",children:"Select your bank"}),(0,Fe.jsx)("option",{value:"sbi",children:"State Bank of India"}),(0,Fe.jsx)("option",{value:"hdfc",children:"HDFC Bank"}),(0,Fe.jsx)("option",{value:"icici",children:"ICICI Bank"}),(0,Fe.jsx)("option",{value:"axis",children:"Axis Bank"}),(0,Fe.jsx)("option",{value:"kotak",children:"Kotak Mahindra Bank"}),(0,Fe.jsx)("option",{value:"pnb",children:"Punjab National Bank"})]}),d.bankName&&(0,Fe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.bankName})]}),d.general&&(0,Fe.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Fe.jsx)("p",{className:"text-red-600 text-sm",children:d.general})}),(0,Fe.jsxs)("div",{className:"mt-8 flex space-x-4",children:[(0,Fe.jsx)("button",{onClick:()=>t(-1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Seats"}),(0,Fe.jsx)("button",{onClick:async()=>{if((()=>{const e={};return"credit_card"===n?((!i.cardNumber||i.cardNumber.length<16)&&(e.cardNumber="Please enter a valid 16-digit card number"),i.expiryDate&&/^(0[1-9]|1[0-2])\/\d{2}$/.test(i.expiryDate)||(e.expiryDate="Please enter a valid expiry date (MM/YY)"),(!i.cvv||i.cvv.length<3)&&(e.cvv="Please enter a valid CVV"),i.cardHolderName.trim()||(e.cardHolderName="Please enter cardholder name")):"upi"===n?i.upiId&&i.upiId.includes("@")||(e.upiId="Please enter a valid UPI ID"):"net_banking"===n&&(i.bankName||(e.bankName="Please select a bank")),u(e),0===Object.keys(e).length})()){c(!0);try{const e=localStorage.getItem("token"),a={bookingSummaryId:s.id,paymentMethod:n,amount:s.totalAmount,paymentDetails:Re(Re({},i),{},{cardNumber:"credit_card"===n?i.cardNumber.slice(-4):null})},r=await fetch("/api/payment/process",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)});if(r.ok){const e=await r.json(),s=JSON.parse(localStorage.getItem("userBookings")||"[]");s.push(e),localStorage.setItem("userBookings",JSON.stringify(s));const n=JSON.parse(localStorage.getItem("userDashboardStats")||"{}");n.totalBookings=(n.totalBookings||0)+1,n.totalSpent=(n.totalSpent||0)+(e.totalAmount||0),n.upcomingShows=(n.upcomingShows||0)+1,localStorage.setItem("userDashboardStats",JSON.stringify(n)),t("/user/dashboard")}else{const e=await r.json();u({general:e.message||"Payment failed. Please try again."})}}catch(e){console.error("Payment error:",e),u({general:"Payment failed. Please check your connection and try again."})}finally{c(!1)}}},disabled:l,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Processing...":"Pay \u20b9".concat(s.totalAmount)})]}),(0,Fe.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"text-blue-500 mr-3",children:"\ud83d\udd12"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-blue-800 text-sm font-medium",children:"Secure Payment"}),(0,Fe.jsx)("p",{className:"text-blue-600 text-xs",children:"Your payment information is encrypted and secure"})]})]})})]})})]})]})}):(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h2",{className:"text-xl font-bold text-red-600",children:"No booking data found"}),(0,Fe.jsx)("p",{className:"text-gray-600 mt-2",children:"Please select seats first"}),(0,Fe.jsx)("button",{onClick:()=>t("/movies"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Browse Movies"})]})})},Dd=()=>(0,Fe.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Events"}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Fe.jsx)("p",{className:"text-gray-600",children:"Events listing page coming soon..."})})]}),Ad=()=>(0,Fe.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Sports"}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Fe.jsx)("p",{className:"text-gray-600",children:"Sports events page coming soon..."})})]}),Td=()=>(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Location Settings"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Location preferences page coming soon..."})]})})}),Ld=()=>(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Account Settings"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Account settings page coming soon..."})]})})}),Od=()=>(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Support"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Support page coming soon..."})]})})}),Id=()=>(0,Fe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Fe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Activity Log"}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Activity log page coming soon..."})]})})});const Rd=function(){return(0,Fe.jsx)(Ve,{children:(0,Fe.jsx)(Ce,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Fe.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,Fe.jsx)(Ge,{}),(0,Fe.jsx)("main",{className:"flex-grow",children:(0,Fe.jsxs)(we,{children:[(0,Fe.jsx)(ve,{path:"/",element:(0,Fe.jsx)(Xe,{})}),(0,Fe.jsx)(ve,{path:"/movies",element:(0,Fe.jsx)(bt,{})}),(0,Fe.jsx)(ve,{path:"/movies/:id",element:(0,Fe.jsx)(wt,{})}),(0,Fe.jsx)(ve,{path:"/events",element:(0,Fe.jsx)(Dd,{})}),(0,Fe.jsx)(ve,{path:"/sports",element:(0,Fe.jsx)(Ad,{})}),(0,Fe.jsx)(ve,{path:"/login",element:(0,Fe.jsx)(Ze,{})}),(0,Fe.jsx)(ve,{path:"/register",element:(0,Fe.jsx)(Ke,{})}),(0,Fe.jsx)(ve,{path:"/book/:movieId",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Ct,{})})}),(0,Fe.jsx)(ve,{path:"/movies/:id/shows",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(kd,{})})}),(0,Fe.jsx)(ve,{path:"/booking/seats/:showId",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Ed,{})})}),(0,Fe.jsx)(ve,{path:"/payment",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Pd,{})})}),(0,Fe.jsx)(ve,{path:"/booking-confirmation",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Md,{})})}),(0,Fe.jsx)(ve,{path:"/booking/confirm",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Md,{})})}),(0,Fe.jsx)(ve,{path:"/admin/dashboard",element:(0,Fe.jsx)(yd,{requireAdmin:!0,children:(0,Fe.jsx)(zc,{})})}),(0,Fe.jsx)(ve,{path:"/dashboard",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(qc,{})})}),(0,Fe.jsx)(ve,{path:"/user/dashboard",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(qc,{})})}),(0,Fe.jsx)(ve,{path:"/user/bookings",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Jc,{})})}),(0,Fe.jsx)(ve,{path:"/my-bookings",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Jc,{})})}),(0,Fe.jsx)(ve,{path:"/user/profile",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Xc,{})})}),(0,Fe.jsx)(ve,{path:"/profile",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Xc,{})})}),(0,Fe.jsx)(ve,{path:"/user/payments",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(ed,{})})}),(0,Fe.jsx)(ve,{path:"/user/invoices",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(td,{})})}),(0,Fe.jsx)(ve,{path:"/user/offers",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(rd,{})})}),(0,Fe.jsx)(ve,{path:"/user/wishlist",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(bd,{})})}),(0,Fe.jsx)(ve,{path:"/user/reviews",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(vd,{})})}),(0,Fe.jsx)(ve,{path:"/user/notifications",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(ad,{})})}),(0,Fe.jsx)(ve,{path:"/user/locations",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Td,{})})}),(0,Fe.jsx)(ve,{path:"/user/settings",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Ld,{})})}),(0,Fe.jsx)(ve,{path:"/user/support",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Od,{})})}),(0,Fe.jsx)(ve,{path:"/user/activity",element:(0,Fe.jsx)(yd,{children:(0,Fe.jsx)(Id,{})})}),(0,Fe.jsx)(ve,{path:"*",element:(0,Fe.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,Fe.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-8",children:"Page not found"}),(0,Fe.jsx)("a",{href:"/",className:"text-blue-600 hover:text-blue-800",children:"Return to Home"})]})})]})}),(0,Fe.jsx)(Qe,{})]})})})};i.createRoot(document.getElementById("root")).render((0,Fe.jsx)(a.StrictMode,{children:(0,Fe.jsx)(Rd,{})}))})();
//# sourceMappingURL=main.a7f2b94f.js.map